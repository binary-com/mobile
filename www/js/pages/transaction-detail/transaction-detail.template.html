<ion-view class="transaction-detail">
    <ion-content has-bouncing="false" class="general-content">
        <div class="row">
            <div class="col">
                <div class="list">
                    <h1 class="reference page-title"  ng-if="vm.contract.contract_id">
                        {{'transactiondetails.contract_id' | translate}}
                        <span>{{vm.contract.contract_id}}</span>
                    </h1>
                    <div class="longcode" ng-if="vm.contract.longcode">
                        {{vm.contract.longcode}}
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <ul>
                    <li class="list" ng-if="vm.contract.transaction_ids.buy && vm.contract.transaction_ids.sell">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.ref' | translate}}</li>
                            <li class="statement-element last-statement-element right">
                                <span ng-bind="vm.contract.transaction_ids.buy"></span>
                                -
                                <span ng-bind="vm.contract.transaction_ids.sell"></span>
                            </li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.date_start">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.start_time' | translate}}</li>
                            <li class="statement-element last-statement-element right">{{(vm.contract.date_start * 1000) | date: 'yyyy-MM-dd' : 'GMT'}}
                                {{(vm.contract.date_start * 1000) | date: 'HH:mm:ss' : 'GMT'}}
                                GMT</li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.date_expiry">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.end_time' | translate}}</li>
                            <li class="statement-element last-statement-element right">
                                {{(vm.contract.date_expiry * 1000) | date: 'yyyy-MM-dd' : 'GMT'}}
                                {{(vm.contract.date_expiry * 1000) | date: 'HH:mm:ss' : 'GMT'}}
                                GMT
                            </li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.entry_spot">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.entry_spot' | translate}}</li>
                            <li class="statement-element last-statement-element right">{{vm.contract.entry_spot}}</li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.barrier">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.barrier' | translate}}</li>
                            <li class="statement-element last-statement-element right">{{vm.contract.barrier}}</li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.payout">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.payout' | translate}}</li>
                            <li class="statement-element last-statement-element right" ng-bind="vm.contract.payout | currency : vm.currency : 2"></li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.buy_price">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.buy_price' | translate}}</li>
                            <li class="statement-element last-statement-element right" ng-bind="vm.contract.buy_price | currency : vm.currency : 2"></li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.exit_tick">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.exit_spot' | translate}}</li>
                            <li class="statement-element last-statement-element right">{{vm.contract.exit_tick}}</li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.exit_tick_time">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.exit_spot_time' | translate}}</li>
                            <li class="statement-element last-statement-element right">
                                {{(vm.contract.exit_tick_time * 1000) | date: 'yyyy-MM-dd' : 'GMT'}}
                                {{(vm.contract.exit_tick_time * 1000) | date: 'HH:mm:ss' : 'GMT'}}
                                GMT
                            </li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.sell_price">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.sell_price' | translate}}</li>
                            <li class="statement-element last-statement-element right" ng-bind="vm.contract.sell_price | currency : vm.currency : 2"></li>
                        </ul>
                    </li>
                    <li class="list" ng-if="vm.contract.sell_price && vm.contract.buy_price">
                        <ul class="statement-list">
                            <li class="statement-element">{{'transactiondetails.profit_loss' | translate}}</li>
                            <li class="statement-element last-statement-element right green" ng-class="{red : (vm.contract.sell_price - vm.contract.buy_price) < 0}">
                                <span ng-bind="(vm.contract.sell_price - vm.contract.buy_price) | currency : vm.currency : 2"></span>
                                <span class="small-text" ng-if="(vm.contract.sell_price - vm.contract.buy_price) > 0">(+{{((vm.contract.sell_price - vm.contract.buy_price) * 100 / vm.contract.buy_price).toFixed(2)}}%)</span>
                                <span class="small-text" ng-if="(vm.contract.sell_price - vm.contract.buy_price) < 0">(-{{((vm.contract.sell_price - vm.contract.buy_price) * 100 / vm.contract.buy_price).toFixed(2)}}%)</span>
                                <span class="small-text" ng-if="(vm.contract.sell_price - vm.contract.buy_price) == 0">({{((vm.contract.sell_price - vm.contract.buy_price) * 100 / vm.contract.buy_price).toFixed(2)}}%)</span>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </ion-content>
</ion-view>

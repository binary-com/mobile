<form name="newAccount" class="new-real-account" novalidate>
    <div class="row">
        <div class="col">
          <div class="row">
              <div class="col">
                <h1 class="page-title">
                  {{'newaccountreal.real_account_opening' | translate}}
                </h1>
              </div>
          </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.salutation' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-select">
                    <select name="salutation" ng-model="vm.data.salutation" ng-required="1==1">
                        <option value="Mr">
                            {{'newaccountreal.mr' | translate}}
                        </option>
                        <option value="Mrs">
                            {{'newaccountreal.mrs' | translate}}
                        </option>
                        <option value="Miss">
                            {{'newaccountreal.miss' | translate}}
                        </option>
                        <option value="Ms">
                            {{'newaccountreal.ms' | translate}}
                        </option>
                    </select>
                    <div class="help-block error" ng-messages="vm.salutationError" role="alert" ng-if='vm.salutationError'>
                        <div>{{vm.salutationErrorMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.first_name' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="firstName" ng-model="vm.data.firstName" ng-pattern="validateName" ng-minlength="2" ng-maxlength="30" ng-required>

                    <div class="help-block error" ng-messages="newAccount.firstName.$error" role="alert" ng-if='newAccount.firstName.$dirty' ng-hide="vm.firstNameError">
                        <div ng-message="pattern && minlength && maxlength">{{'newaccountreal.error_format' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.firstNameError" role="alert" ng-if='vm.firstNameError'>
                        <div>{{vm.firstNameErrorMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.last_name' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="lastName" ng-model="vm.data.lastName" ng-pattern="validateName" ng-minlength="2" ng-maxlength="30" ng-required>
                    <div class="help-block error" ng-messages="newAccount.lastName.$error" role="alert" ng-if='newAccount.lastName.$dirty' ng-hide="vm.lastNameError">
                        <div ng-message="pattern && minlength && maxlength">{{'newaccountreal.error_format' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.lastNameError" role="alert" ng-if='vm.lastNameError'>
                        <div>{{vm.lastNameErrorMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="row">
    <div class="col">
        <div class="row">
            <div class="col input-title">
                {{'newaccountreal.date_of_birth' | translate}}
                <span>{{'newaccountreal.isrequired' | translate}}</span>
            </div>
        </div>
        <div class="row">
            <label class="col item-input">
                <input type="date" class="date" ng-model="vm.data.dateOfBirth" name="date" required/>
                <div class="help-block error" ng-messages="vm.dateOfBirthError" role="alert" ng-if='vm.dateOfBirthError'>
                    <div>{{vm.dateOfBirthErrorMessage}}</div>
                </div>
            </label>
        </div>
    </div>
</div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.residence' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <label class="col item-input">
                    <input class="input-disabled" ng-model="vm.data.country" ng-readonly="true">
                    <div class="help-block error" ng-messages="vm.countryError" role="alert" ng-if='vm.countryError'>
                        <div>{{vm.dateOfBirthErrorMessage}}</div>
                    </div>
                </label>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.addreess_line_1' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="addressLine1" ng-model="vm.data.addressLine1" ng-maxlength="70" required>
                    <div class="help-block error" ng-messages="newAccount.addressLine1.$error" role="alert" ng-if='newAccount.addressLine1.$dirty' ng-hide="vm.addressLine1Error">
                        <div ng-message="maxlength">{{'newaccountreal.maxlength_error_70' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.addressLine1Error" role="alert" ng-if='vm.addressLine1Error'>
                        <div>{{vm.addressLine1ErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.addreess_line_2' | translate}}
                    <span>{{'newaccountreal.isoptional' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="addressLine2" ng-model="vm.data.addressLine2" ng-maxlength="70">
                    <div class="help-block error" ng-messages="newAccount.addressLine2.$error" role="alert" ng-if='newAccount.addressLine2.$dirty' ng-hide="vm.addressLine2Error">
                        <div ng-message="maxlength">{{'newaccountreal.maxlength_error_70' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.addressLine2Error" role="alert" ng-if='vm.addressLine2Error'>
                        <div>{{vm.addressLine2ErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.address_city' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>

            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="addressCity" ng-model="vm.data.addressCity" ng-maxlength="35" required>
                    <div class="help-block error error" ng-messages="newAccount.addressCity.$error" role="alert" ng-if='newAccount.addressCity.$dirty' ng-hide="vm.addressCityError">
                        <div ng-message="maxlength">{{'newaccountreal.maxlength_error_35' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.addressCityError" role="alert" ng-if='vm.addressCityError'>
                        <div>{{vm.addressCityErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.address_state' | translate}}
                    <span>{{'newaccountreal.isoptional' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-select">
                    <select name="state" ng-model="vm.data.state" ng-options="state.value as state.text for state in vm.data.statesList"></select>
                    <div class="help-block error" ng-messages="vm.addressStateError" role="alert" ng-if='vm.addressStateError'>
                        <div>{{vm.addressStateErrorMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.address_postcode' | translate}}
                    <span>{{'newaccountreal.isoptional' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="addressPostcode" ng-model="vm.data.addressPostcode" ng-pattern="/^[^+]{0,20}$/">
                    <div class="help-block error" ng-messages="newAccount.addressPostcode.$error" role="alert" ng-if='newAccount.addressPostcode.$dirty' ng-hide="vm.addressPostcodeError">
                        <div ng-message="pattern">{{'newaccountreal.error_format' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.addressPostcodeError" role="alert" ng-if='vm.addressPostcodeError'>
                        <div>{{vm.addressPostcodeErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.phone' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="phone" ng-model="vm.data.phone" ng-pattern="/^\+?[0-9\s]{6,35}$/" required>
                    <div class="help-block error" ng-messages="newAccount.phone.$error" role="alert" ng-if='newAccount.phone.$dirty' ng-hide="vm.phoneError">
                        <div ng-message="pattern">{{'newaccountreal.error_format' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.phoneError" role="alert" ng-if='vm.phoneError'>
                        <div>{{vm.phoneErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.secret_question' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-select">
                    <select name="secretQuestion" ng-model="vm.data.secretQuestion" required>
                        <option value="Mother's maiden name" selected="selected">{{'newaccountreal.secret_question_1' | translate}}</option>
                        <option value="Name of your pet">{{'newaccountreal.secret_question_2' | translate}}</option>
                        <option value="Name of first love">{{'newaccountreal.secret_question_3' | translate}}</option>
                        <option value="Memorable town/city">{{'newaccountreal.secret_question_4' | translate}}</option>
                        <option value="Memorable date">{{'newaccountreal.secret_question_5' | translate}}</option>
                        <option value="Favourite dish">{{'newaccountreal.secret_question_6' | translate}}</option>
                        <option value="Brand of first car">{{'newaccountreal.secret_question_7' | translate}}</option>
                        <option value="Favourite artist">{{'newaccountreal.secret_question_8' | translate}}</option>
                    </select>
                    <div class="help-block error" ng-messages="vm.secretQuestionError" role="alert" ng-if='vm.secretQuestionError'>
                        <div>{{vm.secretQuestionErrorMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col input-title">
                    {{'newaccountreal.secret_answer' | translate}}
                    <span>{{'newaccountreal.isrequired' | translate}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col item-input">
                    <input name="secretAnswer" ng-model="vm.data.secretAnswer" ng-minlength="4" ng-maxlength="50" required>
                    <div class="help-block error" ng-messages="newAccount.secretAnswer.$error" role="alert" ng-if='newAccount.secretAnswer.$dirty' ng-hide="vm.secretAnswerError">
                        <div ng-message="maxlength && minlength">{{'newaccountreal.error_secretanswer' | translate}}</div>
                    </div>
                    <div class="help-block error" ng-messages="vm.secretAnswerError" role="alert" ng-if='vm.secretAnswerError'>
                        <div>{{vm.secretAnswerErrorMessage}}</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="row">
                <div class="col">
                     <button class="button button-block" ng-click="vm.submitAccountOpening()" ng-disabled="newAccount.$invalid" ng-class="{'button-default' : newAccount.$invalid}">{{'newaccountreal.open_account' | translate}}</button>
                </div>
            </div>
        </div>
    </div>

</form>

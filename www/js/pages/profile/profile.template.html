<ion-view class="profile" title="Profile">
  <ion-content class="general-content">
    <form name="profileForm" ng-submit="vm.submit()">
      <div class="row">
        <div class="col">
          <h1 class="page-title">
                {{ 'profile.personal_details' | translate }}
          </h1>
        </div>
      </div>
      <div ng-if="vm.isVirtualAccount">

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.country_of_residence' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="country_of_residence"
                       ng-value="vm.profile.country"
                       readonly="readonly">
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.email_address' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="email_address"
                       ng-value="vm.profile.email"
                       readonly="readonly">
              </div>
            </div>
          </div>
        </div>

      </div>
      <div ng-if="!vm.isVirtualAccount">

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.name' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="name"
                       ng-value="vm.profile.first_name +  ' ' + vm.profile.last_name"
                       readonly="readonly"
                       >
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.date_of_birth' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="data_of_birth"
                       ng-value="vm.profile.date_of_birth"
                       readonly="readonly">
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.country_of_residence' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="country_of_residence"
                       ng-value="vm.profile.country"
                       readonly="readonly">
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.email_address' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="email_address"
                       ng-value="vm.profile.email"
                       readonly="readonly">
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.first_line_of_home_address' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="first_line_address"
                       ng-model="vm.profile.address_line_1"
                       ng-maxlength="70"
                       ng-required="true"
                       >
              <ng-messages for="profileForm.first_line_address.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="maxlength">
                  {{ 'profile.maximum_length_should_be_70_characters' | translate }}
                </ng-message>
                <ng-message when="required">
                  {{ 'profile.this_field_is_required' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.second_line_of_home_address' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="second_line_address"
                       ng-model="vm.profile.address_line_2"
                       ng-maxlength="70"
                       >
              <ng-messages for="profileForm.second_line_address.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="maxlength">
                  {{ 'profile.maximum_length_should_be_70_characters' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.town_city' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="town_city"
                       ng-model="vm.profile.address_city"
                       ng-required="true"
                       ng-maxlength="35"
                       >
              <ng-messages for="profileForm.town_city.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="maxlength">
                  {{ 'profile.maximum_length_should_be_35_characters' | translate }}
                </ng-message>
                <ng-message when="required">
                  {{ 'profile.this_field_is_required' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.state_province' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-select">
                <select name="state_province"
                       ng-model="vm.profile.address_state"
                       ng-select="vm.profile.address_state"
                       ng-required="true"
                       >
                       <option ng-repeat="s in vm.states"
                               value="{{s.value}}"> {{ s.text }} </option>
                </select>
              <ng-messages for="profileForm.state_province.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="required">
                  {{ 'profile.this_field_is_required' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.posta_code_zip' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="postal_code_zip"
                       ng-model="vm.profile.address_postcode"
                       ng-required="true"
                       ng-maxlength="20"
                       >
              <ng-messages for="profileForm.postal_code_zip.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="maxlength">
                  {{ 'profile.maximum_length_should_be_20_characters' | translate }}
                </ng-message>
                <ng-message when="required">
                  {{ 'profile.this_field_is_required' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col input-title">
                {{ 'profile.telephone' | translate }}
              </div>
            </div>
            <div class="row">
              <div class="col item-input">
                <input name="telephone"
                       ng-model="vm.profile.phone"
                       ng-maxlength="35"
                       ng-minlength="6"
                       ng-required="true"
                       >
              <ng-messages for="profileForm.telephone.$error" role="alert" class="error">
                <ng-message when="pattern"> {{ 'self-exclusion.please-enter-an-integer-value' | translate}} </ng-message>
                <ng-message when="maxlength">
                  {{ 'profile.maximum_length_should_be_20_characters' | translate }}
                </ng-message>
                <ng-message when="minlength">
                  {{ 'profile.minimum_length_should_be_6_characters' | translate }}
                </ng-message>
                <ng-message when="required">
                  {{ 'profile.this_field_is_required' | translate }}
                </ng-message>
              </ng-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col center">
            <button class="button"
                    type="submit"
                    ng-disabled="!profileForm.$valid || vm.disableUpdateButton"
                    >
                    {{ 'profile.update_profile' | translate }}
            </button>
          </div>
        </div>
      </div>
      {{ profile_form }}
    </form>
  </ion-content>
</ion-view>

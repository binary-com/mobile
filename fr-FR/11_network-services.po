#
# AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: 0\n"
"POT-Creation-Date: 2013-11-26 15:52+0100\n"
"PO-Revision-Date: 2014-03-15 14:56+0100\n"
"Last-Translator: Automatically generated\n"
"Language-Team: None\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: application/x-publican; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: keyword
#, no-c-format
msgid "Postfix"
msgstr "Postfix"

#. Tag: keyword
#, no-c-format
msgid "Apache"
msgstr "Apache"

#. Tag: keyword
#, no-c-format
msgid "NFS"
msgstr "NFS"

#. Tag: keyword
#, no-c-format
msgid "Samba"
msgstr "Samba"

#. Tag: keyword
#, no-c-format
msgid "Squid"
msgstr "Squid"

#. Tag: keyword
#, no-c-format
msgid "OpenLDAP"
msgstr "OpenLDAP"

#. Tag: title
#, no-c-format
msgid "Network Services: Postfix, Apache, NFS, Samba, Squid, LDAP"
msgstr "Services réseau : Postfix, Apache, NFS, Samba, Squid, LDAP"

#. Tag: para
#, no-c-format
msgid "Network services are the programs that users interact with directly in their daily work. They're the tip of the information system iceberg, and this chapter focuses on them; the hidden parts they rely on are the infrastructure we already described."
msgstr "Les services réseau sont les programmes interagissant directement avec les utilisateurs dans leur travail quotidien. C'est la partie émergée de l'iceberg « système d'information » présenté dans ce chapitre. La partie immergée, l'infrastructure, sur laquelle ils s'appuient, reste en arrière-plan."

#. Tag: title
#, no-c-format
msgid "Mail Server"
msgstr "Serveur de messagerie électronique"

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators selected Postfix for the electronic mail server, due to its reliability and its ease of configuration. Indeed, its design enforces that each task is implemented in a process with the minimum set of required permissions, which is a great mitigation measure against security problems."
msgstr "Les administrateurs de Falcot SA ont retenu Postfix comme serveur de courrier électronique en raison de sa simplicité de configuration et de sa fiabilité. En effet, sa conception réduit au maximum les droits de chacune de ses sous-tâches, ce qui limite l'impact de toute faille de sécurité."

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>server</secondary>"
msgstr "<primary>email</primary><secondary>serveur</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>mail server</primary>"
msgstr "<primary>serveur email</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Postfix</primary>"
msgstr "<primary>Postfix</primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> The Exim4 server"
msgstr "<emphasis>ALTERNATIVE</emphasis> Le serveur Exim4"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Exim</primary>"
msgstr "<primary>Exim</primary>"

#. Tag: para
#, no-c-format
msgid "Debian uses Exim4 as the default email server (which is why the initial installation includes Exim4). The configuration is provided by a separate package, <emphasis role=\"pkg\">exim4-config</emphasis>, and automatically customized based on the answers to a set of Debconf questions very similar to the questions asked by the <emphasis role=\"pkg\">postfix</emphasis> package."
msgstr "Debian emploie Exim4 comme serveur de messagerie par défaut (il est donc automatiquement installé pendant l'installation initiale). La configuration, fournie par le paquet <emphasis role=\"pkg\">exim4-config</emphasis>, est automatiquement personnalisée grâce à un certain nombre de questions debconf très similaires à celles posées par <emphasis role=\"pkg\">postfix</emphasis>."

#. Tag: para
#, no-c-format
msgid "The configuration can be either in one single file (<filename>/etc/exim4/exim4.conf.template</filename>) or split across a number of configuration snippets stored under <filename>/etc/exim4/conf.d/</filename>. In both cases, the files are used by <command>update-exim4.conf</command> as templates to generate <filename>/var/lib/exim4/config.autogenerated</filename>. The latter is the file used by Exim4. Thanks to this mechanism, values obtained through Exim's debconf configuration — which are stored in <filename>/etc/exim4/update-exim4.conf.conf</filename> — can be injected in Exim's configuration file, even when the administrator or another package has altered the default Exim configuration."
msgstr "La configuration est au choix soit dans un seul gros fichier (<filename>/etc/exim4/exim4.conf.template</filename>), soit dans un certain nombre de fragments de fichiers répartis dans <filename>/etc/exim4/conf.d/</filename>. Dans les deux cas, les fichiers sont exploités par la commande <command>update-exim4.conf</command> pour générer le fichier de configuration réellement employé, qui est stocké dans <filename>/etc/exim4/exim4.conf.template</filename> (qui sert de source à <filename>/var/lib/exim4/config.autogenerated</filename>, généré au lancement d'Exim4). Cette commande permet de remplacer certains marqueurs par les données saisies lors de la configuration Debconf du paquet et stockés dans <filename>/etc/exim4/update-exim4.conf.conf</filename>."

#. Tag: para
#, no-c-format
msgid "The Exim4 configuration file syntax has its peculiarities and its learning curve; however, once these peculiarities are understood, Exim4 is a very complete and powerful email server, as evidenced by the tens of pages of documentation. <ulink type=\"block\" url=\"http://www.exim.org/docs.html\" />"
msgstr "La syntaxe de configuration d'Exim4 est assez particulière et il faut un certain temps pour s'y accoutumer. Toutefois, une fois que ces particularités sont maîtrisées, il s'agit d'un serveur de messagerie très complet et très puissant. Il suffit de parcourir les dizaines de pages de documentation pour s'en rendre compte. <ulink type=\"block\" url=\"http://www.exim.org/docs.html\" />"

#. Tag: title
#, no-c-format
msgid "Installing Postfix"
msgstr "Installation de Postfix"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">postfix</emphasis> package includes the main SMTP daemon. Other packages (such as <emphasis role=\"pkg\">postfix-ldap</emphasis> and <emphasis role=\"pkg\">postfix-pgsql</emphasis>) add extra functionality to Postfix, including access to mapping databases. You should only install them if you know that you need them."
msgstr "Le paquet Debian <emphasis role=\"pkg\">postfix</emphasis> contient le démon SMTP principal. Divers modules (comme <emphasis role=\"pkg\">postfix-ldap</emphasis> ou <emphasis role=\"pkg\">postfix-pgsql</emphasis>) offrent des fonctionnalités supplémentaires à Postfix (notamment en termes d'accès à des bases de données de correspondances). Ne les installez que si vous en avez déjà perçu le besoin."

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> SMTP"
msgstr "<emphasis>B.A.-BA</emphasis> SMTP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>SMTP</primary>"
msgstr "<primary>SMTP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Simple Mail Transfer Protocol</primary>"
msgstr "<primary><foreignphrase>Simple Mail Transfer Protocol</foreignphrase></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>SMTP</secondary>"
msgstr "<primary>serveur</primary><secondary>SMTP</secondary>"

#. Tag: para
#, no-c-format
msgid "SMTP (<emphasis>Simple Mail Transfer Protocol</emphasis>) is the protocol used by mail servers to exchange and route emails."
msgstr "SMTP (<foreignphrase>Simple Mail Transfer Protocol</foreignphrase>) est le protocole employé par les serveurs de messagerie pour s'échanger les courriers électroniques."

#. Tag: para
#, no-c-format
msgid "Several Debconf questions are asked during the installation of the package. The answers allow generating a first version of the <filename>/etc/postfix/main.cf</filename> configuration file."
msgstr "Au cours de l'installation du paquet, plusieurs questions sont posées par l'intermédiaire de <command>debconf</command>. Les réponses permettront de générer un premier fichier <filename>/etc/postfix/main.cf</filename>."

#. Tag: para
#, no-c-format
msgid "The first question deals with the type of setup. Only two of the proposed answers are relevant in case of an Internet-connected server, “Internet site” and “Internet with smarthost”. The former is appropriate for a server that receives incoming email and sends outgoing email directly to its recipients, and is therefore well-adapted to the Falcot Corp case. The latter is appropriate for a server receiving incoming email normally, but that sends outgoing email through an intermediate SMTP server — the “smarthost” — rather than directly to the recipient's server. This is mostly useful for individuals with a dynamic IP address, since many email servers reject messages coming straight from such an IP address. In this case, the smarthost will usually be the ISP's SMTP server, which is always configured to accept email coming from the ISP's customers and forward it appropriately. This setup (with a smarthost) is also relevant for servers that are not permanently connected to the internet, since it avoids having to manage a queue of undeliverable messages that need to be retried later."
msgstr "La première question porte sur le type d'installation. Parmi les choix proposés, seuls deux sont pertinents dans le cadre d'un serveur connecté à Internet. Il s'agit de <guimenuitem>Site Internet</guimenuitem> et de <guimenuitem>Site Internet utilisant un smarthost</guimenuitem>. Le premier choix est adapté à un serveur qui reçoit et envoie le courrier directement à ses destinataires, mode retenu par les administrateurs de Falcot. Le second correspond à un serveur qui reçoit directement le courrier mais en envoie par le biais d'un serveur SMTP intermédiaire — désigné par le terme <foreignphrase>smarthost</foreignphrase> — plutôt que directement au serveur du destinataire. C'est surtout utile pour les particuliers disposant d'une adresse IP dynamique, parce que certains serveurs de messagerie refusent tout message provenant directement d'une telle adresse IP. Le <foreignphrase>smarthost</foreignphrase> sera ici le serveur SMTP du fournisseur d'accès à Internet (FAI), qui est toujours configuré pour transmettre le courrier provenant de ses clients. Cette solution est également intéressante pour toute machine qui n'est pas connectée en permanence, car cela lui évite de devoir gérer une file d'attente des messages non délivrables qu'il faudra réessayer d'expédier plus tard."

#. Tag: title
#, no-c-format
msgid "<emphasis>VOCABULARY</emphasis> ISP"
msgstr "<emphasis>VOCABULAIRE</emphasis> FAI"

#. Tag: indexterm
#, no-c-format
msgid "<primary>ISP, Internet Service Provider</primary>"
msgstr "<primary>FAI, Fournisseur d'Accès à Internet</primary>"

#. Tag: para
#, no-c-format
msgid "ISP is the acronym for “Internet Service Provider”. It covers an entity, often a commercial company, that provides Internet connections and the associated basic services (email, news and so on)."
msgstr "FAI est l'abréviation de « Fournisseur d'Accès à Internet ». Il s'agit d'une entité (souvent société commerciale) qui fournit des connexions à Internet ainsi que les services de base associés (serveur de messagerie électronique, de news, etc.). Parmi les FAI français, on peut citer Free, Orange (ex-Wanadoo), SFR, AOL, FDN, etc. L'abréviation anglaise correspondante est ISP pour <foreignphrase>Internet Service Provider</foreignphrase>."

#. Tag: para
#, no-c-format
msgid "The second question deals with the full name of the machine, used to generate email addresses from a local user name; the full name of the machine ends up as the part after the at-sign (“@”). In the case of Falcot, the answer should be <literal>mail.falcot.com</literal>. This is the only question asked by default, but the configuration it leads to is not complete enough for the needs of Falcot, which is why the administrators run <command>dpkg-reconfigure postfix</command> so as to be able to customize more parameters."
msgstr "La deuxième question porte sur le nom complet de la machine, employé pour générer une adresse de courrier électronique depuis un nom d'utilisateur local (c'est la partie suivant l'arobase « <literal>@</literal> »). Pour Falcot, la réponse est <literal>mail.falcot.com</literal>. C'est la seule question posée en standard, mais elle ne suffit pas pour avoir une configuration satisfaisante, les administrateurs exécutent donc <command>dpkg-reconfigure postfix</command> afin de pouvoir personnaliser plus de paramètres."

#. Tag: para
#, no-c-format
msgid "One of the extra questions asks for all the domain names related to this machine. The default list includes its full name as well as a few synonyms for <literal>localhost</literal>, but the main <literal>falcot.com</literal> domain needs to be added by hand. More generally, this question should usually be answered with all the domain names for which this machine should serve as an MX server; in other words, all the domain names for which the DNS says that this machine will accept email. This information ends up in the <literal>mydestination</literal> variable of the main Postfix configuration file — <filename>/etc/postfix/main.cf</filename>."
msgstr "Parmi les questions supplémentaires, l'ordinateur demande de saisir tous les noms de domaines associés à cette machine. La liste proposée inclut le nom complet de la machine et des synonymes de <literal>localhost</literal>, mais pas le domaine principal <literal>falcot.com</literal>, qu'il faut ajouter manuellement. D'une manière générale, il convient habituellement de donner ici tous les noms de domaines pour lesquels cette machine fait office de serveur MX (c'est-à-dire tous ceux pour lesquels le DNS indique qu'elle est apte à accepter du courrier). Ces informations sont ensuite stockées dans la variable <literal>mydestination</literal> du fichier <filename>/etc/postfix/main.cf</filename> (principal fichier de configuration de Postfix)."

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>MX</secondary>"
msgstr "<primary>serveur</primary><secondary>MX</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>MX</primary><secondary>server</secondary>"
msgstr "<primary>MX</primary><secondary>serveur</secondary>"

#. Tag: title
#, no-c-format
msgid "Role of the DNS <emphasis>MX</emphasis> record while sending a mail"
msgstr "Rôle de l'enregistrement DNS <emphasis>MX</emphasis> dans un envoi de courrier électronique"

#. Tag: title
#, no-c-format
msgid "<emphasis>EXTRA</emphasis> Querying the MX records"
msgstr "<emphasis>COMPLÉMENTS</emphasis> Interrogation des enregistrements MX"

#. Tag: para
#, no-c-format
msgid "When the DNS does not have an MX record for a domain, the email server will try sending the messages to the host itself, by using the matching A record (or AAAA in IPv6)."
msgstr "Si le serveur DNS ne publie pas d'enregisrement MX pour un domaine, le serveur de messagerie tentera d'envoyer le courrier à la machine de même nom. Il emploiera donc l'enregistrement de type A correspondant (ou AAAA en IPv6)."

#. Tag: para
#, no-c-format
msgid "In some cases, the installation can also ask what networks should be allowed to send email via the machine. In its default configuration, Postfix only accepts emails coming from the machine itself; the local network will usually be added. The Falcot Corp administrators added <literal>192.168.0.0/16</literal> to the default answer. If the question is not asked, the relevant variable in the configuration file is <literal>mynetworks</literal>, as seen in the example below."
msgstr "Selon les cas, l'installation peut également demander d'indiquer les réseaux habilités à envoyer du courrier par l'intermédiaire de cette machine. Par défaut, Postfix est configuré pour n'accepter que des courriers électroniques issus de la machine elle-même ; il faut généralement ajouter le réseau local. Les administrateurs ont donc ajouté <literal>192.168.0.0/16</literal> à la réponse par défaut. Si la question n'est pas posée, il faut modifier le fichier de configuration et y changer la variable <literal>mynetworks</literal>, comme on le voit sur l'exemple plus loin."

#. Tag: para
#, no-c-format
msgid "Local email can also be delivered through <command>procmail</command>. This tool allows users to sort their incoming email according to rules stored in their <filename>~/.procmailrc</filename> file."
msgstr "L'emploi de <command>procmail</command> peut aussi être proposé pour délivrer le courrier localement. Cet outil permet aux utilisateurs de trier leur courrier entrant, ce pour quoi ils doivent indiquer des règles de tri dans leur fichier <filename>~/.procmailrc</filename>."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>procmail</command></primary>"
msgstr "<primary><command>procmail</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering</secondary>"
msgstr "<primary>courrier électronique</primary><secondary>filtrage</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>filtering email</primary>"
msgstr "<primary>filtrage de courrier électronique</primary>"

#. Tag: para
#, no-c-format
msgid "After this first step, the administrators got the following configuration file; it will be used as a starting point for adding some extra functionality in the next sections."
msgstr "Après cette première étape, les administrateurs ont obtenu le fichier de configuration ci-dessous. Il va servir de base pour les sections suivantes, qui le modifieront pour activer certaines fonctionnalités."

#. Tag: title
#, no-c-format
msgid "Initial <filename>/etc/postfix/main.cf</filename> file"
msgstr "Fichier <filename>/etc/postfix/main.cf</filename> initial"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# See /usr/share/postfix/main.cf.dist for a commented, more complete version\n"
"\n"
"\n"
"# Debian specific:  Specifying a file name will cause the first\n"
"# line of that file to be used as the name.  The Debian default\n"
"# is /etc/mailname.\n"
"#myorigin = /etc/mailname\n"
"\n"
"smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)\n"
"biff = no\n"
"\n"
"# appending .domain is the MUA's job.\n"
"append_dot_mydomain = no\n"
"\n"
"# Uncomment the next line to generate \"delayed mail\" warnings\n"
"#delay_warning_time = 4h\n"
"\n"
"readme_directory = no\n"
"\n"
"# TLS parameters\n"
"smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n"
"smtpd_use_tls=yes\n"
"smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache\n"
"smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache\n"
"\n"
"# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for\n"
"# information on enabling SSL in the smtp client.\n"
"\n"
"myhostname = mail.falcot.com\n"
"alias_maps = hash:/etc/aliases\n"
"alias_database = hash:/etc/aliases\n"
"myorigin = /etc/mailname\n"
"mydestination = mail.falcot.com, falcot.com, localhost.localdomain, localhost\n"
"relayhost = \n"
"mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/16\n"
"mailbox_command = procmail -a \"$EXTENSION\"\n"
"mailbox_size_limit = 0\n"
"recipient_delimiter = +\n"
"inet_interfaces = all\n"
"inet_protocols = all\n"
msgstr ""
"\n"
"# See /usr/share/postfix/main.cf.dist for a commented, more complete version\n"
"\n"
"\n"
"# Debian specific:  Specifying a file name will cause the first\n"
"# line of that file to be used as the name.  The Debian default\n"
"# is /etc/mailname.\n"
"#myorigin = /etc/mailname\n"
"\n"
"smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)\n"
"biff = no\n"
"\n"
"# appending .domain is the MUA's job.\n"
"append_dot_mydomain = no\n"
"\n"
"# Uncomment the next line to generate \"delayed mail\" warnings\n"
"#delay_warning_time = 4h\n"
"\n"
"readme_directory = no\n"
"\n"
"# TLS parameters\n"
"smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n"
"smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n"
"smtpd_use_tls=yes\n"
"smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache\n"
"smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache\n"
"\n"
"# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for\n"
"# information on enabling SSL in the smtp client.\n"
"\n"
"myhostname = mail.falcot.com\n"
"alias_maps = hash:/etc/aliases\n"
"alias_database = hash:/etc/aliases\n"
"myorigin = /etc/mailname\n"
"mydestination = mail.falcot.com, falcot.com, localhost.localdomain, localhost\n"
"relayhost = \n"
"mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/16\n"
"mailbox_command = procmail -a \"$EXTENSION\"\n"
"mailbox_size_limit = 0\n"
"recipient_delimiter = +\n"
"inet_interfaces = all\n"
"inet_protocols = all\n"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> <emphasis>Snake oil</emphasis> SSL certificates"
msgstr "<emphasis>SÉCURITÉ</emphasis> Certificat SSL <foreignphrase>snake oil</foreignphrase>"

#. Tag: para
#, no-c-format
msgid "The <emphasis>snake oil</emphasis> certificates, like the <emphasis>snake oil</emphasis> “medicine” sold by unscrupulous quacks in old times, have absolutely no value, since they are generated similarly on all Debian systems, with the same “private” part. They should only be used for testing purposes, and normal service must use real certificates; these can be generated with the procedure described in <xref linkend=\"sect.easy-rsa\" />."
msgstr "L'expression anglaise <foreignphrase>snake oil</foreignphrase> pourrait se traduire par « poudre aux yeux ». Les certificats mentionnés dans l'exemple n'ont aucune valeur de protection, puisqu'ils sont générés de la même manière sur tous les systèmes Debian (donc avec la même partie privée). Ils ne sauraient être utilisés qu'à des fins de test, le fonctionnement normal se devant d'utiliser de vrais certificats. On pourra par exemple utiliser la procédure décrite dans la <xref linkend=\"sect.easy-rsa\" />."

#. Tag: title
#, no-c-format
msgid "Configuring Virtual Domains"
msgstr "Configuration de domaines virtuels"

#. Tag: indexterm
#, no-c-format
msgid "<primary>domain</primary><secondary>virtual</secondary>"
msgstr "<primary>domaine</primary><secondary>virtuel</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary>"
msgstr "<primary>virtuel, domaine</primary>"

#. Tag: para
#, no-c-format
msgid "The mail server can receive emails addressed to other domains besides the main domain; these are then known as virtual domains. In most cases where this happens, the emails are not ultimately destined to local users. Postfix provides two interesting features for handling virtual domains."
msgstr "Le serveur de messagerie peut recevoir le courrier pour d'autres domaines que le domaine principal ; on parle alors de domaines virtuels. Dans ces situations, il est rare que le courrier soit destiné aux utilisateurs locaux. Postfix offre deux fonctionnalités intéressantes pour gérer ces domaines virtuels."

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Virtual domains and canonical domains"
msgstr "<emphasis>ATTENTION</emphasis> Domaines virtuels et domaines canoniques"

#. Tag: para
#, no-c-format
msgid "None of the virtual domains must be referenced in the <literal>mydestination</literal> variable; this variable only contains the names of the “canonical” domains directly associated to the machine and its local users."
msgstr "Aucun des domaines virtuels ne doit être indiqué dans la variable <literal>mydestination</literal>. Celle-ci contient uniquement les noms des domaines « canoniques », directement associés à la machine et à ses utilisateurs locaux."

#. Tag: title
#, no-c-format
msgid "Virtual Alias Domains"
msgstr "Domaine virtuel d'alias"

#. Tag: indexterm
#, no-c-format
msgid "<primary>alias</primary><secondary>virtual alias domain</secondary>"
msgstr "<primary>alias</primary><secondary>domaine virtuel d'alias</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary><secondary>virtual alias domain</secondary>"
msgstr "<primary>domaine virtuel</primary><secondary>domaine virtuel d'alias</secondary>"

#. Tag: para
#, no-c-format
msgid "A virtual alias domain only contains aliases, i.e. addresses that only forward emails to other addresses."
msgstr "Un domaine virtuel d'alias ne contient que des alias, c'est-à-dire des adresses électroniques renvoyant le courrier vers d'autres adresses électroniques."

#. Tag: para
#, no-c-format
msgid "Such a domain is enabled by adding its name to the <literal>virtual_alias_domains</literal> variable, and referencing an address mapping file in the <literal>virtual_alias_maps</literal> variable."
msgstr "Pour activer un tel domaine, il faut préciser son nom dans la variable <literal>virtual_alias_domains</literal> et indiquer le fichier stockant les correspondances d'adresses dans la variable <literal>virtual_alias_maps</literal>."

#. Tag: title
#, no-c-format
msgid "Directives to add in the <filename>/etc/postfix/main.cf</filename> file"
msgstr "Directives à ajouter au fichier <filename>/etc/postfix/main.cf</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"virtual_alias_domains = falcotsbrand.com\n"
"virtual_alias_maps = hash:/etc/postfix/virtual\n"
msgstr ""
"\n"
"virtual_alias_domains = marqueafalcot.tm.fr\n"
"virtual_alias_maps = hash:/etc/postfix/virtual\n"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/virtual</filename> file describes mapping with a rather straightforward syntax: each line contains two fields separated by whitespace; the first field is the alias name, the second field is a list of email addresses where it redirects. The special <literal>@domain.com</literal> syntax covers all remaining aliases in a domain."
msgstr "Le fichier <filename>/etc/postfix/virtual</filename>, décrivant les correspondances, emploie un format relativement simple. Chaque ligne contient deux champs séparés par une série de blancs, dont le premier est le nom de l'alias et le second une liste d'adresses électroniques vers lesquelles il pointe. La syntaxe spéciale <literal>@domaine.fr</literal> englobe tous les alias restants d'un domaine."

#. Tag: title
#, no-c-format
msgid "Example <filename>/etc/postfix/virtual</filename> file"
msgstr "Exemple de fichier <filename>/etc/postfix/virtual</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"webmaster@falcotsbrand.com  jean@falcot.com\n"
"contact@falcotsbrand.com    laure@falcot.com, sophie@falcot.com\n"
"# The alias below is generic and covers all addresses within \n"
"# the falcotsbrand.com domain not otherwise covered by this file.\n"
"# These addresses forward email to the same user name in the\n"
"# falcot.com domain.\n"
"@falcotsbrand.com           @falcot.com\n"
msgstr ""
"\n"
"webmaster@marqueafalcot.tm.fr  jean@falcot.com\n"
"contact@marqueafalcot.tm.fr    laure@falcot.com, sophie@falcot.com\n"
"# L'alias ci-dessous est générique, il englobe toutes les\n"
"# adresses électroniques du domaine marqueafalcot.tm.fr\n"
"# non employées ailleurs dans ce fichier.\n"
"# Ces adresses sont renvoyées au même nom d'utilisateur \n"
"# mais dans le domaine falcot.com\n"
"@marqueafalcot.tm.fr           @falcot.com\n"

#. Tag: title
#, no-c-format
msgid "Virtual Mailbox Domains"
msgstr "Domaine virtuel de boîtes aux lettres"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Combined virtual domain?"
msgstr "<emphasis>ATTENTION</emphasis> Domaine virtuel mixte ?"

#. Tag: para
#, no-c-format
msgid "Postfix does not allow using the same domain in both <literal>virtual_alias_domains</literal> and <literal>virtual_mailbox_domains</literal>. However, every domain of <literal>virtual_mailbox_domains</literal> is implicitly included in <literal>virtual_alias_domains</literal>, which makes it possible to mix aliases and mailboxes within a virtual domain."
msgstr "Il n'est pas permis d'indiquer le même domaine dans les variables <literal>virtual_alias_domains</literal> et <literal>virtual_mailbox_domains</literal>. En revanche, tout domaine de <literal>virtual_mailbox_domains</literal> est implicitement compris dans <literal>virtual_alias_domains</literal>. Il est donc possible de mélanger alias et boîtes aux lettres au sein d'un domaine virtuel."

#. Tag: indexterm
#, no-c-format
msgid "<primary>mailbox, virtual domain</primary>"
msgstr "<primary>boîte aux lettres, domaine virtuel</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual domain</primary><secondary>virtual mailbox domain</secondary>"
msgstr "<primary>domaine virtuel</primary><secondary>domaine virtuel de boîtes à lettres</secondary>"

#. Tag: para
#, no-c-format
msgid "Messages addressed to a virtual mailbox domain are stored in mailboxes not assigned to a local system user."
msgstr "Les courriers destinés à un domaine virtuel de boîtes aux lettres sont stockés dans des boîtes aux lettres qui ne sont pas associées à un utilisateur local du système."

#. Tag: para
#, no-c-format
msgid "Enabling a virtual mailbox domain requires naming this domain in the <literal>virtual_mailbox_domains</literal> variable, and referencing a mailbox mapping file in <literal>virtual_mailbox_maps</literal>. The <literal>virtual_mailbox_base</literal> parameter contains the directory under which the mailboxes will be stored."
msgstr "Pour activer un domaine virtuel de boîtes aux lettres, il faut l'écrire dans la variable <literal>virtual_mailbox_domains</literal> et préciser le fichier donnant les boîtes aux lettres avec la variable <literal>virtual_mailbox_maps</literal>. Le paramètre <literal>virtual_mailbox_base</literal> indique le répertoire sous lequel les différentes boîtes aux lettres seront stockées."

#. Tag: para
#, no-c-format
msgid "The <literal>virtual_uid_maps</literal> parameter (respectively <literal>virtual_gid_maps</literal>) references the file containing the mapping between the email address and the system user (respectively group) that “owns” the corresponding mailbox. To get all mailboxes owned by the same owner/group, the <literal>static:5000</literal> syntax assigns a fixed UID/GID (of value 5000 here)."
msgstr "Les paramètres <literal>virtual_uid_maps</literal> et <literal>virtual_gid_maps</literal> définissent des tables de correspondances entre l'adresse électronique, l'utilisateur et le groupe Unix propriétaire de la boîte aux lettres. Pour indiquer systématiquement le même propriétaire, la syntaxe <literal>static:5000</literal> dénote un UID/GID fixe."

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"virtual_mailbox_domains = falcot.org\n"
"virtual_mailbox_maps = hash:/etc/postfix/vmailbox\n"
"virtual_mailbox_base = /var/mail/vhosts\n"
msgstr ""
"\n"
"virtual_mailbox_domains = falcot.org\n"
"virtual_mailbox_maps = hash:/etc/postfix/vmailbox\n"
"virtual_mailbox_base = /var/mail/vhosts\n"

#. Tag: para
#, no-c-format
msgid "Again, the syntax of the <filename>/etc/postfix/vmailbox</filename> file is quite straightforward: two fields separated with whitespace. The first field is an email address within one of the virtual domains, and the second field is the location of the associated mailbox (relative to the directory specified in <emphasis>virtual_mailbox_base</emphasis>). If the mailbox name ends with a slash (<literal>/</literal>), the emails will be stored in the <emphasis>maildir</emphasis> format; otherwise, the traditional <emphasis>mbox</emphasis> format will be used. The <emphasis>maildir</emphasis> format uses a whole directory to store a mailbox, each individual message being stored in a separate file. In the <emphasis>mbox</emphasis> format, on the other hand, the whole mailbox is stored in one file, and each line starting with “<literal>From </literal>” (<literal>From</literal> followed by a space) signals the start of a new message."
msgstr "Le format du fichier <filename>/etc/postfix/vmailbox</filename> est de nouveau très simple : deux champs séparés par des blancs. Le premier indique une adresse électronique de l'un des domaines virtuels et le second l'emplacement relatif de la boîte aux lettres associée (par rapport au répertoire donné par <emphasis>virtual_mailbox_base</emphasis>). Si le nom de la boîte aux lettres se termine par une barre de division (<literal>/</literal>), cette boîte sera stockée au format <emphasis>maildir</emphasis> ; dans le cas contraire, c'est le traditionnel <emphasis>mbox</emphasis> qui sera retenu. Le format <emphasis>maildir</emphasis> emploie un répertoire complet pour représenter la boîte aux lettres et chaque message est stocké dans un fichier. A contrario, une boîte aux lettres au format <emphasis>mbox</emphasis> est stockée dans un seul fichier et chaque ligne débutant par <literal>From </literal> (<literal>From</literal> suivi d'une espace) marque le début d'un nouveau message électronique."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/postfix/vmailbox</filename> file"
msgstr "Fichier <filename>/etc/postfix/vmailbox</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Jean's email is stored as maildir, with\n"
"# one file per email in a dedicated directory\n"
"jean@falcot.org falcot.org/jean/\n"
"# Sophie's email is stored in a traditional \"mbox\" file,\n"
"# with all mails concatenated into one single file\n"
"sophie@falcot.org falcot.org/sophie\n"
msgstr ""
"\n"
"# le courrier de jean est stocké au format maildir \n"
"# (1 fichier par courrier dans un répertoire privé)\n"
"jean@falcot.org falcot.org/jean/\n"
"# le courrier de sophie est stocké dans un fichier \n"
"# \"mbox\" traditionnel (tous les courriers concaténés\n"
"# dans un fichier)\n"
"sophie@falcot.org falcot.org/sophie\n"

#. Tag: title
#, no-c-format
msgid "Restrictions for Receiving and Sending"
msgstr "Restrictions à la réception et à l'envoi"

#. Tag: para
#, no-c-format
msgid "The growing number of unsolicited bulk emails (<emphasis>spam</emphasis>) requires being increasingly strict when deciding which emails a server should accept. This section presents some of the strategies included in Postfix."
msgstr "Avec le nombre croissant de messages non sollicités (<foreignphrase>spams</foreignphrase>), il est nécessaire d'être de plus en plus strict sur les messages que le serveur accepte. Cette section présente les différentes stratégies intégrées à Postfix."

#. Tag: title
#, no-c-format
msgid "<emphasis>CULTURE</emphasis> The spam problem"
msgstr "<emphasis>CULTURE</emphasis> Le problème du spam"

#. Tag: indexterm
#, no-c-format
msgid "<primary>spam</primary>"
msgstr "<primary>spam</primary>"

#. Tag: para
#, no-c-format
msgid "“Spam” is a generic term used to designate all the unsolicited commercial emails (also known as UCEs) that flood our electronic mailboxes; the unscrupulous individuals sending them are known as spammers. They care little about the nuisance they cause, since sending an email costs very little, and only a very small percentage of recipients need to be attracted by the offers for the spamming operation to make more money than it costs. The process is mostly automated, and any email address made public (for instance, on a web forum, or on the archives of a mailing list, or on a blog, and so on) will be discovered by the spammers' robots, and subjected to a never-ending stream of unsolicited messages."
msgstr "Le terme de spam désigne toutes les publicités non sollicitées (en anglais, on parle d'UCE — <foreignphrase>Unsolicited Commercial Email</foreignphrase>) qui inondent nos boîtes aux lettres électroniques et les spammeurs sont les gens sans scrupules qui les expédient. Peu leur importent les nuisances qu'ils causent, statistiquement il suffit qu'un très faible pourcentage de personnes se laissent tenter par leurs offres pour qu'ils rentrent dans leurs frais. Le coût d'expédition d'un message électronique est en effet très faible. Toute adresse électronique publique (par exemple, employée sur un forum web, apparaissant dans une archive de liste de diffusion, citée dans un blog, etc.) sera découverte par les robots des spammeurs et sera soumise à un flux incessant de messages non sollicités."

#. Tag: para
#, no-c-format
msgid "All system administrators try to face this nuisance with spam filters, but of course spammers keep adjusting to try to work around these filters. Some even rent networks of machines compromised by a worm from various crime syndicates. Recent statistics estimate that up to 95% of all emails circulating on the Internet are spam!"
msgstr "Face à ces nuisances, tous les administrateurs informatiques essaient de mettre en place des filtres anti-spam, mais les spammeurs cherchent sans arrêt à les contourner. Certains n'hésitent pas à faire appel aux services de réseaux mafieux contrôlant de nombreuses machines compromises par un ver. Les dernières statistiques estiment que 95% des courriers expédiés sont des spams !"

#. Tag: title
#, no-c-format
msgid "IP-Based Access Restrictions"
msgstr "Restreindre l'accès en fonction de l'adresse IP"

#. Tag: para
#, no-c-format
msgid "The <literal>smtpd_client_restrictions</literal> directive controls which machines are allowed to communicate with the email server."
msgstr "La directive <literal>smtpd_client_restrictions</literal> contrôle les machines autorisées à communiquer avec le serveur de courrier électronique."

#. Tag: title
#, no-c-format
msgid "Restrictions Based on Client Address"
msgstr "Restrictions en fonction de l'adresse du client"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_client_restrictions = permit_mynetworks,\n"
"    warn_if_reject reject_unknown_client,\n"
"    check_client_access hash:/etc/postfix/access_clientip,\n"
"    reject_rbl_client sbl-xbl.spamhaus.org,\n"
"    reject_rbl_client list.dsbl.org\n"
msgstr ""
"\n"
"smtpd_client_restrictions = permit_mynetworks,\n"
"    warn_if_reject reject_unknown_client,\n"
"    check_client_access hash:/etc/postfix/access_clientip,\n"
"    reject_rbl_client sbl-xbl.spamhaus.org,\n"
"    reject_rbl_client list.dsbl.org\n"

#. Tag: para
#, no-c-format
msgid "When a variable contains a list of rules, as in the example above, these rules are evaluated in order, from the first to the last. Each rule can accept the message, reject it, or leave the decision to a following rule. As a consequence, order matters, and simply switching two rules can lead to a widely different behavior."
msgstr "Lorsqu'une variable contient une liste de règles comme dans l'exemple ci-dessus, il faut savoir que celles-ci sont évaluées dans l'ordre, de la première à la dernière. Chaque règle peut accepter le message, le refuser ou le laisser poursuivre son chemin à travers celles qui suivent. L'ordre a donc une importance et l'inversion de deux règles peut mettre en place un comportement très différent."

#. Tag: para
#, no-c-format
msgid "The <literal>permit_mynetworks</literal> directive, used as the first rule, accepts all emails coming from a machine in the local network (as defined by the <emphasis>mynetworks</emphasis> configuration variable)."
msgstr "La directive <literal>permit_mynetworks</literal>, placée en tête de la liste des règles, accepte inconditionnellement toute machine du réseau local (tel que défini par la variable <literal>mynetworks</literal> dans la configuration)."

#. Tag: para
#, no-c-format
msgid "The second directive would normally reject emails coming from machines without a completely valid DNS configuration. Such a valid configuration means that the IP address can be resolved to a name, and that this name, in turn, resolves to the IP address. This restriction is often too strict, since many email servers do not have a reverse DNS for their IP address. This explains why the Falcot administrators prepended the <literal>warn_if_reject</literal> modifier to the <literal>reject_unknown_client</literal> directive: this modifier turns the rejection into a simple warning recorded in the logs. The administrators can then keep an eye on the number of messages that would be rejected if the rule were actually enforced, and make an informed decision later if they wish to enable such enforcement."
msgstr "La deuxième directive refuse normalement les machines dépourvues de configuration DNS totalement valide. Une configuration valide dispose d'une résolution inverse fonctionnelle et le nom DNS renvoyé pointe sur l'adresse IP employée. Cette restriction est généralement trop sévère, de nombreux serveurs de courrier électronique ne disposant pas de DNS inverse. C'est pourquoi les administrateurs de Falcot ont précédé la directive <literal>reject_unknown_client</literal> de <literal>warn_if_reject</literal>, qui transforme le refus en simple avertissement enregistré dans les logs. Ils peuvent ainsi surveiller le nombre de messages qui auraient été refusés et décider plus tard d'activer ou non cette règle en connaissant pleinement ses effets."

#. Tag: title
#, no-c-format
msgid "<emphasis>TIP</emphasis> <emphasis>access</emphasis> tables"
msgstr "<emphasis>ASTUCE</emphasis> Tables <foreignphrase>access</foreignphrase>"

#. Tag: para
#, no-c-format
msgid "The restriction criteria include administrator-modifiable tables listing combinations of senders, IP addresses, and allowed or forbidden hostnames. These tables can be created from an uncompressed copy of the <filename>/usr/share/doc/postfix-doc/examples/access.gz</filename> file. This model is self-documented in its comments, which means each table describes its own syntax."
msgstr "Les différents critères de restriction incluent des tables (modifiables par les administrateurs) de combinaisons expéditeurs/adresses IP/noms de machines autorisés ou interdits. Ces tables peuvent être créées en recopiant une version décompressée du fichier <filename>/usr/share/doc/postfix-doc/examples/access.gz</filename> sous le nom indiqué. C'est un modèle auto-documenté dans ses commentaires. Chaque table documentera ainsi sa propre syntaxe."

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/access_clientip</filename> table lists IP addresses and networks; <filename>/etc/postfix/access_helo</filename> lists domain names; <filename>/etc/postfix/access_sender</filename> contains sender email addresses. All these files need to be turned into hash-tables (a format optimized for fast access) after each change, with the <command>postmap /etc/postfix/<replaceable>file</replaceable></command> command."
msgstr "La table <filename>/etc/postfix/access_clientip</filename> donne la liste des adresses IP et réseau. La table <filename>/etc/postfix/access_helo</filename> fournit celle des noms de machines et de domaines. Enfin, la table <filename>/etc/postfix/access_sender</filename> précise les adresses électroniques. Après toute modification, chacun de ces fichiers doit être transformé en table de hachage, c'est-à-dire en une forme optimisée pour les accès rapides, par la commande <command>postmap /etc/postfix/<replaceable>fichier</replaceable></command>."

#. Tag: para
#, no-c-format
msgid "The third directive allows the administrator to set up a black list and a white list of email servers, stored in the <filename>/etc/postfix/access_clientip</filename> file. Servers in the white list are considered as trusted, and the emails coming from there therefore do not go through the following filtering rules."
msgstr "La troisième directive permet à l'administrateur de mettre en place une liste noire et une liste blanche de serveurs de courriers électroniques, stockées dans le fichier <filename>/etc/postfix/access_clientip</filename>. Une liste blanche permet à l'administrateur de préciser les serveurs de confiance dispensés des règles suivantes."

#. Tag: para
#, no-c-format
msgid "The last two rules reject any message coming from a server listed in one of the indicated black lists. RBL is an acronym for <emphasis>Remote Black List</emphasis>; there are several such lists, but they all list badly configured servers that spammers use to relay their emails, as well as unexpected mail relays such as machines infected with worms or viruses."
msgstr "Les deux dernières règles de l'exemple refusent tout message provenant d'un serveur présent dans l'une des différentes listes noires indiquées (RBL signifie <foreignphrase>Remote Black Lists</foreignphrase>, ou listes noires distantes). Celles-ci recensent les machines mal configurées employées par les spammeurs pour relayer leur courrier, ainsi que les relais inhabituels que constituent des machines infectées par des vers ou virus ayant cet effet."

#. Tag: indexterm
#, no-c-format
msgid "<primary>RBL</primary>"
msgstr "<primary>RBL</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Remote Black List</primary>"
msgstr "<primary><foreignphrase>Remote Black List</foreignphrase></primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>TIP</emphasis> White list and RBLs"
msgstr "<emphasis>ASTUCE</emphasis> Liste blanche et RBL"

#. Tag: para
#, no-c-format
msgid "Black lists sometimes include a legitimate server that has been suffering an incident. In these situations, all emails coming from one of these servers would be rejected unless the server is listed in a whitelist defined by <filename>/etc/postfix/access_clientip</filename>."
msgstr "Les listes noires recensent parfois un serveur légitime victime d'un incident. Tout courrier issu de ce serveur serait alors refusé à moins que vous ne l'ayez listé dans la liste blanche associée au fichier <filename>/etc/postfix/access_clientip</filename>."

#. Tag: para
#, no-c-format
msgid "Prudence therefore recommends including in the white list all the trusted servers from which many emails are usually received."
msgstr "Pour cette raison, il est prudent de placer dans une liste blanche les serveurs de messagerie de confiance et avec qui vous échangez beaucoup de courriers."

#. Tag: title
#, no-c-format
msgid "Checking the Validity of the <literal>EHLO</literal> or <literal>HELO</literal> Commands"
msgstr "Vérifier la validité de la commande <literal>EHLO</literal> ou <literal>HELO</literal>"

#. Tag: para
#, no-c-format
msgid "Each SMTP exchange starts with a <literal>HELO</literal> (or <literal>EHLO</literal>) command, followed by the name of the sending email server; checking the validity of this name can be interesting."
msgstr "Chaque échange SMTP doit débuter par l'envoi d'une commande <literal>HELO</literal> (ou <literal>EHLO</literal>) suivie du nom du serveur de courrier électronique, dont il est possible de vérifier la validité."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>HELO</literal></primary>"
msgstr "<primary><literal>HELO</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>EHLO</literal></primary>"
msgstr "<primary><literal>EHLO</literal></primary>"

#. Tag: title
#, no-c-format
msgid "Restrictions on the name announced in <literal>EHLO</literal>"
msgstr "Restrictions sur le nom annoncé lors du <literal>EHLO</literal>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_helo_restrictions = permit_mynetworks,\n"
"    reject_invalid_hostname,\n"
"    check_helo_access hash:/etc/postfix/access_helo,\n"
"    reject_non_fqdn_hostname,\n"
"    warn_if_reject reject_unknown_hostname\n"
msgstr ""
"\n"
"smtpd_helo_restrictions = permit_mynetworks,\n"
"    reject_invalid_hostname,\n"
"    check_helo_access hash:/etc/postfix/access_helo,\n"
"    reject_non_fqdn_hostname,\n"
"    warn_if_reject reject_unknown_hostname\n"

#. Tag: para
#, no-c-format
msgid "The first <literal>permit_mynetworks</literal> directive allows all machines on the local network to introduce themselves freely. This is important, because some email programs do not respect this part of the SMTP protocol adequately enough, and they can introduce themselves with nonsensical names."
msgstr "La première directive <literal>permit_mynetworks</literal> autorise toutes les machines du réseau local à s'annoncer librement. C'est important car certains logiciels de courrier électronique respectent mal cette partie du protocole SMTP et peuvent donc annoncer des noms fantaisistes."

#. Tag: para
#, no-c-format
msgid "The <literal>reject_invalid_hostname</literal> rule rejects emails when the <literal>EHLO</literal> announce lists a syntactically incorrect hostname. The <literal>reject_non_fqdn_hostname</literal> rule rejects messages when the announced hostname is not a fully-qualified domain name (including a domain name as well as a host name). The <literal>reject_unknown_hostname</literal> rule rejects messages if the announced name does not exist in the DNS. Since this last rule unfortunately leads to too many rejections, the administrators turned its effect to a simple warning with the <literal>warn_if_reject</literal> modifier as a first step; they may decide to remove this modifier at a later stage, after auditing the results of this rule."
msgstr "La règle <literal>reject_invalid_hostname</literal> refuse tout courrier dont l'annonce <literal>EHLO</literal> indique un nom de machine syntaxiquement incorrect. La règle <literal>reject_non_fqdn_hostname</literal> refuse tout message dont le nom de machine annoncé n'est pas complètement qualifié (un nom qualifié inclut le nom de domaine). La règle <literal>reject_unknown_hostname</literal> refuse le courrier si la machine annoncée n'existe pas dans la base de données du DNS. Cette dernière règle refusant malheureusement trop de messages, elle est atténuée par le <literal>warn_if_reject</literal> pour évaluer son impact avant de décider de l'activer ou non."

#. Tag: para
#, no-c-format
msgid "Using <literal>permit_mynetworks</literal> as the first rule has an interesting side effect: the following rules only apply to hosts outside the local network. This allows blacklisting all hosts that announce themselves as part of the <literal>falcot.com</literal>, for instance by adding a <literal>falcot.com REJECT You're not in our network!</literal> line to the <filename>/etc/postfix/access_helo</filename> file."
msgstr "L'emploi de <literal>permit_mynetworks</literal> au début a l'effet secondaire intéressant de n'appliquer les règles suivantes qu'à des machines extérieures au réseau local. Il est ainsi possible de mettre en liste noire tous ceux qui s'annoncent membres du réseau <literal>falcot.com</literal>... ce qui s'effectue en ajoutant la ligne <literal>falcot.com REJECT You're not in our network!</literal> au fichier <filename>/etc/postfix/access_helo</filename>."

#. Tag: title
#, no-c-format
msgid "Accepting or Refusing Based on the Announced Sender"
msgstr "Accepter ou refuser en fonction de l'émetteur (annoncé)"

#. Tag: para
#, no-c-format
msgid "Every message has a sender, announced by the <literal>MAIL FROM</literal> command of the SMTP protocol; again, this information can be validated in several different ways."
msgstr "Chaque message envoyé est associé à un expéditeur annoncé par la commande <literal>MAIL FROM</literal> du protocole SMTP, information qu'il est possible de vérifier de plusieurs manières."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>MAIL FROM</literal></primary>"
msgstr "<primary><literal>MAIL FROM</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on the sender</secondary>"
msgstr "<primary>courrier électronique</primary><secondary>filtrage sur l'expéditeur</secondary>"

#. Tag: title
#, no-c-format
msgid "Sender checks"
msgstr "Vérifications sur l'expéditeur"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_sender_restrictions = \n"
"    check_sender_access hash:/etc/postfix/access_sender,\n"
"    reject_unknown_sender_domain, reject_unlisted_sender,\n"
"    reject_non_fqdn_sender\n"
msgstr ""
"\n"
"smtpd_sender_restrictions = \n"
"    check_sender_access hash:/etc/postfix/access_sender,\n"
"    reject_unknown_sender_domain, reject_unlisted_sender,\n"
"    reject_non_fqdn_sender\n"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/access_sender</filename> table maps some special treatment to some senders. This usually means listing some senders into a white list or a black list."
msgstr "La table <filename>/etc/postfix/access_sender</filename> associe des traitements particuliers à certains expéditeurs. En général, il s'agit simplement de les placer dans une liste blanche ou noire."

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unknown_sender_domain</literal> rule requires a valid sender domain, since it is needed for a valid address. The <literal>reject_unlisted_sender</literal> rule rejects local senders if the address does not exist; this prevents emails from being sent from an invalid address in the <literal>falcot.com</literal> domain, and messages emanating from <literal>joe.bloggs@falcot.com</literal> are only accepted if such an address really exists."
msgstr "La règle <literal>reject_unknown_sender_domain</literal> requiert un domaine d'expéditeur valide, nécessaire à une adresse valide. La règle <literal>reject_unlisted_sender</literal> refuse les expéditeurs locaux si leur adresse n'existe pas. Personne ne peut ainsi envoyer de courrier issu d'une adresse invalide dans le domaine <literal>falcot.com</literal>. Tout message d'expéditeur <literal>tartempion@falcot.com</literal> ne serait donc accepté que si cette adresse existe vraiment."

#. Tag: para
#, no-c-format
msgid "Finally, the <literal>reject_non_fqdn_sender</literal> rule rejects emails purporting to come from addresses without a fully-qualified domain name. In practice, this means rejecting emails coming from <literal>user@machine</literal>: the address must be announced as either <literal>user@machine.example.com</literal> or <literal>user@example.com</literal>."
msgstr "Enfin, la règle <literal>reject_non_fqdn_sender</literal> refuse les adresses électroniques dépourvues de domaine complètement qualifié. Concrètement, elle refusera un courrier provenant de <literal>utilisateur@machine</literal> : celui-ci doit s'annoncer comme <literal>utilisateur@machine.domaine.fr</literal> ou <literal>utilisateur@domaine.fr</literal>."

#. Tag: title
#, no-c-format
msgid "Accepting or Refusing Based on the Recipient"
msgstr "Accepter ou refuser en fonction du destinataire"

#. Tag: para
#, no-c-format
msgid "Each email has at least one recipient, announced with the <literal>RCPT TO</literal> command in the SMTP protocol. These addresses also warrant validation, even if that may be less relevant than the checks made on the sender address."
msgstr "Chaque courrier compte un ou plusieurs destinataires, communiqués par l'intermédiaire de la commande <literal>RCPT TO</literal> du protocole SMTP. On pourra également vérifier ces informations, même si c'est moins intéressant que pour l'expéditeur."

#. Tag: indexterm
#, no-c-format
msgid "<primary>RCPT TO</primary>"
msgstr "<primary>RCPT TO</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on the recipient</secondary>"
msgstr "<primary>courrier électronique</primary><secondary>filtrage sur le destinataire</secondary>"

#. Tag: title
#, no-c-format
msgid "Recipient checks"
msgstr "Vérifications sur le destinataire"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks, \n"
"    reject_unauth_destination, reject_unlisted_recipient, \n"
"    reject_non_fqdn_recipient\n"
msgstr ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks, \n"
"    reject_unauth_destination, reject_unlisted_recipient, \n"
"    reject_non_fqdn_recipient\n"

#. Tag: para
#, no-c-format
msgid "<literal>reject_unauth_destination</literal> is the basic rule that requires outside messages to be addressed to us; messages sent to an address not served by this server are rejected. Without this rule, a server becomes an open relay that allows spammers to sent unsolicited emails; this rule is therefore mandatory, and it will be best included near the beginning of the list, so that no other rules may authorize the message before its destination has been checked."
msgstr "<literal>reject_unauth_destination</literal> est la règle de base imposant à tout courrier provenant de l'extérieur de nous être destiné ; dans le cas contraire, il faut refuser de relayer le message. Sans cette règle, votre serveur est un relais ouvert qui permet aux spammeurs d'envoyer des courriers non sollicités par son intermédiaire. Elle est donc indispensable et on la placera de préférence en début de liste pour qu'aucune autre règle ne risque d'autoriser le passage du courrier avant d'avoir éliminé les messages ne concernant pas ce serveur."

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unlisted_recipient</literal> rule rejects messages sent to non-existing local users, which makes sense. Finally, the <literal>reject_non_fqdn_recipient</literal> rule rejects non-fully-qualified addresses; this makes it impossible to send an email to <literal>jean</literal> or <literal>jean@machine</literal>, and requires using the full address instead, such as <literal>jean@machine.falcot.com</literal> or <literal>jean@falcot.com</literal>."
msgstr "La règle <literal>reject_unlisted_recipient</literal> refuse les messages à destination d'utilisateurs locaux inexistants (ce qui est assez logique). Enfin, la règle <literal>reject_non_fqdn_recipient</literal> refuse les adresses électroniques non qualifiées. Il est ainsi impossible d'écrire à <literal>jean</literal> ou à <literal>jean@machine</literal> ; il faut impérativement employer la forme complète de l'adresse : <literal>jean@machine.falcot.com</literal> ou <literal>jean@falcot.com</literal>."

#. Tag: title
#, no-c-format
msgid "Restrictions Associated with the <literal>DATA</literal> Command"
msgstr "Restrictions associées à la commande <literal>DATA</literal>"

#. Tag: para
#, no-c-format
msgid "The <literal>DATA</literal> command of SMTP is emitted before the contents of the message. It doesn't provide any information per se, apart from announcing what comes next. It can still be subjected to checks."
msgstr "La commande <literal>DATA</literal> du protocole SMTP précède l'envoi des données contenues dans le message. Elle ne fournit aucune information en soi, mais prévient de ce qui va suivre. Il est pourtant possible de lui mettre en place des contrôles."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>DATA</literal></primary>"
msgstr "<primary><literal>DATA</literal></primary>"

#. Tag: title
#, no-c-format
msgid "<literal>DATA</literal> checks"
msgstr "Restriction sur la commande <literal>DATA</literal>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_data_restrictions = reject_unauth_pipelining\n"
msgstr ""
"\n"
"smtpd_data_restrictions = reject_unauth_pipelining\n"

#. Tag: para
#, no-c-format
msgid "The <literal>reject_unauth_pipelining</literal> directives causes the message to be rejected if the sending party sends a command before the reply to the previous command has been sent. This guards against a common optimization used by spammer robots, since they usually don't care a fig about replies and only focus on sending as many emails as possible in as short a time as possible."
msgstr "La règle <literal>reject_unauth_pipelining</literal> refuse le message si le correspondant envoie une commande sans avoir attendu la réponse à la commande précédente. Les robots des spammeurs font régulièrement cela : pour travailler plus vite, ils se moquent des réponses et visent seulement à envoyer un maximum de courriers, dans le laps de temps le plus court."

#. Tag: title
#, no-c-format
msgid "Applying Restrictions"
msgstr "Application des restrictions"

#. Tag: para
#, no-c-format
msgid "Although the above commands validate information at various stages of the SMTP exchange, Postfix only sends the actual rejection as a reply to the <literal>RCPT TO</literal> command."
msgstr "Bien que toutes les règles évoquées ci-dessus soient prévues pour vérifier les informations à différents moments d'un échange SMTP, le refus réel n'est signifié par Postfix que lors de la réponse à la commande <literal>RCPT TO</literal> (annonce du destinataire)."

#. Tag: para
#, no-c-format
msgid "This means that even if the message is rejected due to an invalid <literal>EHLO</literal> command, Postfix knows the sender and the recipient when announcing the rejection. It can then log a more explicit message than it could if the transaction had been interrupted from the start. In addition, a number of SMTP clients do not expect failures on the early SMTP commands, and these clients will be less disturbed by this late rejection."
msgstr "Ainsi, même si le message est refusé suite à une commande <literal>EHLO</literal> invalide, Postfix connaîtra l'émetteur et le destinataire lorsqu'il annoncera le refus. Il peut donc enregistrer un message de log plus explicite que s'il avait interrompu la connexion dès le début. De plus, beaucoup de clients SMTP ne s'attendent pas à subir un échec sur l'une des premières commandes du protocole SMTP et les clients mal programmés seront moins perturbés par ce refus tardif."

#. Tag: para
#, no-c-format
msgid "A final advantage to this choice is that the rules can accumulate information during the various stages of the SMTP exchange; this allows defining more fine-grained permissions, such as rejecting a non-local connection if it announces itself with a local sender."
msgstr "Dernier avantage de ce choix : les règles peuvent associer les informations obtenues à différents stades de l'échange SMTP. On pourra ainsi refuser une connexion non locale si elle s'annonce avec un émetteur local."

#. Tag: title
#, no-c-format
msgid "Filtering Based on the Message Contents"
msgstr "Filtrer en fonction du contenu du message"

#. Tag: para
#, no-c-format
msgid "The validation and restriction system would not be complete without a way to apply checks to the message contents. Postfix differentiates the checks applying on the email headers from those applying to the email body."
msgstr "Le système de vérification et de restriction ne serait pas complet sans moyen de réagir au contenu du message. <foreignphrase>Postfix</foreignphrase> distingue deux types de vérifications : sur les en-têtes du courrier et sur le corps du message."

#. Tag: title
#, no-c-format
msgid "Enabling content-based filters"
msgstr "Activation des filtres sur le contenu"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"header_checks = regexp:/etc/postfix/header_checks\n"
"body_checks = regexp:/etc/postfix/body_checks\n"
msgstr ""
"\n"
"header_checks = regexp:/etc/postfix/header_checks\n"
"body_checks = regexp:/etc/postfix/body_checks\n"

#. Tag: indexterm
#, no-c-format
msgid "<primary>email</primary><secondary>filtering on contents</secondary>"
msgstr "<primary>courrier électronique</primary><secondary>filtrage sur le contenu</secondary>"

#. Tag: para
#, no-c-format
msgid "Both files contain a list of regular expressions (commonly known as <emphasis>regexps</emphasis> or <emphasis>regexes</emphasis>) and associated actions to be triggered when the email headers (or body) match the expression."
msgstr "Les deux fichiers contiennent une liste d'expressions rationnelles (<foreignphrase>regexp</foreignphrase>). Chacune est associée à une action à exécuter si elle est satisfaite par les en-têtes ou le corps du message."

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> Regexp tables"
msgstr "<emphasis>DÉCOUVERTE</emphasis> Tables <foreignphrase>regexp</foreignphrase>"

#. Tag: para
#, no-c-format
msgid "The <filename>/usr/share/doc/postfix-doc/examples/header_checks.gz</filename> file contains many explanatory comments and can be used as a starting point for creating the <filename>/etc/postfix/header_checks</filename> and <filename>/etc/postfix/body_checks</filename> files."
msgstr "Le fichier <filename>/usr/share/doc/postfix-doc/examples/header_checks.gz</filename> peut servir de modèle pour créer les fichiers <filename>/etc/postfix/header_checks</filename> et <filename>/etc/postfix/body_checks</filename>. Il contient de nombreux commentaires explicatifs."

#. Tag: title
#, no-c-format
msgid "Example <filename>/etc/postfix/header_checks</filename> file"
msgstr "Exemple de fichier <filename>/etc/postfix/header_checks</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"/^X-Mailer: GOTO Sarbacane/ REJECT I fight spam (GOTO Sarbacane)\n"
"/^Subject: *Your email contains VIRUSES/ DISCARD virus notification\n"
msgstr ""
"\n"
"/^X-Mailer: GOTO Sarbacane/ REJECT I fight spam (GOTO Sarbacane)\n"
"/^Subject: *Your email contains VIRUSES/ DISCARD virus notification\n"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> Regular expression"
msgstr "<emphasis>B.A.-BA</emphasis> Expression rationnelle"

#. Tag: para
#, no-c-format
msgid "The <emphasis>regular expression</emphasis> term (shortened to <emphasis>regexp</emphasis> or <emphasis>regex</emphasis>) references a generic notation for expressing a description of the contents and/or structure of a string of characters. Certain special characters allow defining alternatives (for instance, <literal>foo|bar</literal> matches either “foo” or “bar”), sets of allowed characters (for instance, <literal>[0-9]</literal> means any digit, and <literal>.</literal> — a dot — means any character), quantifications (<literal>s?</literal> matches either <literal>s</literal> or the empty string, in other words 0 or 1 occurrence of <literal>s</literal>; <literal>s+</literal> matches one or more consecutive <literal>s</literal> characters; and so on). Parentheses allow grouping search results."
msgstr "Le terme d'expression rationnelle (en anglais, <foreignphrase>regular expression</foreignphrase> ou <foreignphrase>regexp</foreignphrase>) désigne une notation générique servant à décrire le contenu et/ou la structure d'une chaîne de caractères recherchée. Certains caractères spéciaux permettent de définir des alternatives (par exemple, « assez|trop » pour « assez » ou « trop »), des ensembles de caractères possibles (« [0-9] » pour un chiffre entre 0 et 9, ou « . » pour n'importe quel caractère), des quantifications (« s? » pour « » ou « s », à savoir 0 ou une fois le caractère « s » ; « s+ » pour un ou plusieurs caractères « s » consécutifs, etc.). La parenthèse permet de grouper des motifs de recherche."

#. Tag: para
#, no-c-format
msgid "The precise syntax of these expressions varies across the tools using them, but the basic features are similar. <ulink type=\"block\" url=\"http://en.wikipedia.org/wiki/Regular_expression\" />"
msgstr "La syntaxe précise de ces expressions varie selon l'outil qui les emploie mais les fonctionnalités de base restent les mêmes. <ulink type=\"block\" url=\"http://fr.wikipedia.org/wiki/Expression_rationnelle\" />"

#. Tag: para
#, no-c-format
msgid "The first one checks the header mentioning the email software; if <literal>GOTO Sarbacane</literal> (a bulk email software) is found, the message is rejected. The second expression controls the message subject; if it mentions a virus notification, we can decide not to reject the message but to discard it immediately instead."
msgstr "La première vérifie l'en-tête indiquant le logiciel de courrier électronique envoyé : si elle trouve <literal>GOTO Sarbacane</literal> (un logiciel d'envoi en masse de courriers), elle refuse le message. La seconde expression contrôle le sujet du message : s'il indique une notification de virus sans intérêt, elle accepte le message mais le supprime immédiatement."

#. Tag: para
#, no-c-format
msgid "Using these filters is a double-edged sword, because it is easy to make the rules too generic and to lose legitimate emails as a consequence. In these cases, not only the messages will be lost, but their senders will get unwanted (and annoying) error messages."
msgstr "L'emploi de ces filtres est à double tranchant, car il est facile de les faire trop génériques et de perdre des courriers légitimes. Dans ce cas, non seulement les messages seront perdus, mais leurs expéditeurs recevront des messages d'erreur inopportuns — souvent agaçants."

#. Tag: title
#, no-c-format
msgid "Setting Up <foreignphrase>greylisting</foreignphrase>"
msgstr "Mise en place du <foreignphrase>greylisting</foreignphrase>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>greylisting</primary>"
msgstr "<primary><foreignphrase>greylisting</foreignphrase></primary>"

#. Tag: para
#, no-c-format
msgid "“Greylisting” is a filtering technique according to which a message is initially rejected with a temporary error code, and only accepted on a further try after some delay. This filtering is particularly efficient against spam sent by the many machines infected by worms and viruses, since these software rarely act as full SMTP agents (by checking the error code and retrying failed messages later), especially since many of the harvested addresses are really invalid and retrying would only mean losing time."
msgstr "Le <foreignphrase>greylisting</foreignphrase> est une technique de filtrage qui consiste à refuser un message avec une erreur temporaire pour finalement l'accepter à la deuxième tentative (à condition qu'un certain délai se soit écoulé entre les deux tentatives). Ce filtre est particulièrement efficace contre les spams envoyés par les vers et les virus qui infectent de nombreuses machines compromises. En effet, il est rare que ces logiciels prennent le soin de vérifier le code retour SMTP puis stockent les messages pour les renvoyer plus tard, d'autant plus qu'un certain nombre des adresses qu'ils ont récoltées sont effectivement invalides et que réessayer ne peut que leur faire perdre du temps."

#. Tag: para
#, no-c-format
msgid "Postfix doesn't provide greylisting natively, but there is a feature by which the decision to accept or reject a given message can be delegated to an external program. The <emphasis role=\"pkg\">postgrey</emphasis> package contains just such a program, designed to interface with this access policy delegation service."
msgstr "Postfix n'offre pas cette fonctionnalité de manière native, mais il permet d'externaliser la décision d'accepter ou rejeter un message donné. Le paquet <emphasis role=\"pkg\">postgrey</emphasis> propose justement un logiciel prévu pour s'interfacer avec ce service de délégation des politiques d'accès."

#. Tag: para
#, no-c-format
msgid "Once <emphasis role=\"pkg\">postgrey</emphasis> is installed, it runs as a daemon and listens on port 10023. Postfix can then be configured to use it, by adding the <literal>check_policy_service</literal> parameter as an extra restriction:"
msgstr "<emphasis role=\"pkg\">postgrey</emphasis> installé, il se présente comme un démon en attente de connexions sur le port 10 023. Il suffit alors d'employer le paramètre <literal>check_policy_service</literal> comme restriction supplémentaire :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    [...]\n"
"    check_policy_service inet:127.0.0.1:10023\n"
msgstr ""
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    [...]\n"
"    check_policy_service inet:127.0.0.1:10023\n"

#. Tag: para
#, no-c-format
msgid "Each time Postfix reaches this rule in the ruleset, it will connect to the <command>postgrey</command> daemon and send it information concerning the relevant message. On its side, Postgrey considers the IP address/sender/recipient triplet and checks in its database whether that same triplet has been seen recently. If so, Postgrey replies that the message should be accepted; if not, the reply indicates that the message should be temporarily rejected, and the triplet gets recorded in the database."
msgstr "À chaque fois que Postfix doit évaluer cette restriction, il va se connecter au démon <command>postgrey</command> et lui envoyer des informations concernant le message concerné. De son côté, Postgrey récupère le triplet (adresse IP, expéditeur, destinataire) et regarde dans sa base de données s'il l'a déjà rencontré récemment. Si oui, il répond en ordonnant d'accepter le message, sinon il répond de le refuser temporairement et enregistre dans sa base de données le triplet en question."

#. Tag: para
#, no-c-format
msgid "The main disadvantage of greylisting is that legitimate messages get delayed, which is not always acceptable. It also increases the burden on servers that send many legitimate emails."
msgstr "Évidemment, le grand désavantage du greylisting est qu'il va retarder la réception des courriels légitimes et parfois ces délais sont inacceptables. Il inflige également un coût important aux serveurs qui envoient de nombreux courriers légitimes."

#. Tag: title
#, no-c-format
msgid "<emphasis>IN PRACTICE</emphasis> Shortcomings of greylisting"
msgstr "<emphasis>EN PRATIQUE</emphasis> Limites du greylisting"

#. Tag: para
#, no-c-format
msgid "Theoretically, greylisting should only delay the first mail from a given sender to a given recipient, and the typical delay is in the order of minutes. Reality, however, can differ slightly. Some large ISPs use clusters of SMTP servers, and when a message is initially rejected, the server that retries the transmission may not be the same as the initial one. When that happens, the second server gets a temporary error message due to greylisting too, and so on; it may take several hours until transmission is attempted by a server that has already been involved, since SMTP servers usually increase the delay between retries at each failure."
msgstr "En théorie, le greylisting ne retarde que le premier courriel d'un expéditeur donné pour un destinataire donné et le délai est de l'ordre de quelques minutes à quelques dizaines de minutes. Cependant, la réalité n'est pas toujours si simple. En effet, certains gros fournisseurs d'accès emploient plusieurs serveurs SMTP en grappe et après le premier refus, rien ne garantit que le même serveur effectue la deuxième tentative. Si ce n'est pas le cas, la deuxième tentative échouera à nouveau et, au lieu d'un délai de quelques minutes, on peut constater des délais de plusieurs heures (jusqu'à ce que l'on retombe sur un serveur qui avait déjà essayé) car à chaque nouvelle erreur, le serveur SMTP augmente le délai d'attente avant le prochain essai."

#. Tag: para
#, no-c-format
msgid "As a consequence, the incoming IP address may vary in time even for a single sender. But it goes further: even the sender address can change. For instance, many mailing-list servers encode extra information in the sender address so as to be able to handle error messages (known as <emphasis>bounces</emphasis>). Each new message sent to a mailing-list may then need to go through greylisting, which means it has to be stored (temporarily) on the sender's server. For very large mailing-lists (with tens of thousands of subscribers), this can soon become a problem."
msgstr "Ainsi donc, l'adresse IP entrante pour un expéditeur donné n'est pas forcément fixe dans le temps. De même, l'adresse d'un expéditeur donné n'est pas forcément fixe non plus. De nombreux logiciels de listes de diffusion encodent des informations dans l'adresse de l'expéditeur afin de traiter de manière automatisée les retours d'erreurs (<foreignphrase>bounces</foreignphrase>). Chaque nouveau message d'une liste de diffusion peut devoir repasser par le filtre du greylisting, ce qui implique à l'émetteur de le stocker. Pour les très grosses listes avec des dizaines de milliers d'abonnés, cela peut rapidement devenir problématique."

#. Tag: para
#, no-c-format
msgid "To mitigate these drawbacks, Postgrey manages a whitelist of such sites, and messages emanating from them are immediately accepted without going through greylisting. This list can easily be adapted to local needs, since it's stored in the <filename>/etc/postgrey/whitelist_clients</filename> file."
msgstr "Pour ces raisons, Postgrey dispose d'une liste blanche de sites correspondant à ces caractéristiques. Pour ceux-là, il répond d'accepter le message immédiatement. Il est possible de la personnaliser en éditant le fichier <filename>/etc/postgrey/whitelist_clients</filename>."

#. Tag: title
#, no-c-format
msgid "<emphasis>GOING FURTHER</emphasis> Selective greylisting with <emphasis role=\"pkg\">milter-greylist</emphasis>"
msgstr "<emphasis>POUR ALLER PLUS LOIN</emphasis> Greylisting sélectif avec <emphasis role=\"pkg\">milter-greylist</emphasis>"

#. Tag: para
#, no-c-format
msgid "The drawbacks of greylisting can be mitigated by only using greylisting on the subset of clients that are already considered as probable sources of spam (because they are listed in a DNS black-list). This is not possible with <emphasis role=\"pkg\">postgrey</emphasis> but <emphasis role=\"pkg\">milter-greylist</emphasis> can be used in such a way."
msgstr "Pour limiter les inconvénients du greylisting, il est possible de ne l'appliquer qu'à un sous-ensemble des clients qui sont d'ores et déjà considérés comme des sources probables de spam parce qu'ils apparaissent dans une liste noire DNS.  C'est le service que propose <emphasis role=\"pkg\">whitelister</emphasis>, un autre démon de gestion de politique d'accès pour Postfix.  Cette manœuvre n'est pas prise en charge directement par Postgrey, mais le paquet <emphasis role=\"pkg\">milter-greylist</emphasis> permet de l'effectuer."

#. Tag: para
#, no-c-format
msgid "In that scenario, since DNS black-lists never triggers a definitive rejection, it becomes reasonable to use aggressive black-lists, including those listing all dynamic IP addresses from ISP clients (such as <literal>pbl.spamhaus.org</literal> or <literal>dul.dnsbl.sorbs.net</literal>)."
msgstr "Comme Whitelister ne déclenche aucun refus définitif, il est possible de lui faire employer des listes noires DNS assez agressives et notamment celles qui listent toutes les adresses IP des clients des fournisseurs d'accès, comme <literal>pbl.spamhaus.org</literal>. Cela se configure avec le paramètre <literal>rbl</literal> dans <filename>/etc/whitelister.conf</filename>."

#. Tag: para
#, no-c-format
msgid "Since milter-greylist uses Sendmail's milter interface, the postfix side of its configuration is limited to “<literal>smtpd_milters = unix:/var/milter-greylist/milter-greylist.sock</literal>”. The <citerefentry><refentrytitle>greylist.conf</refentrytitle><manvolnum>5</manvolnum></citerefentry> manual page documents <filename>/etc/milter-greylist/greylist.conf</filename> and the numerous ways to configure milter-greylist."
msgstr "Comme <emphasis role=\"pkg\">milter-greylist</emphasis> utilise l'interface standard de <emphasis>milter</emphasis> définie par Sendmail, la configuration du côté Postfix des choses se limite à <literal>smtpd_milters = unix:/var/milter-greylist/milter-greylist.sock</literal>.  La page de manuel <citerefentry><refentrytitle>greylist.conf</refentrytitle><manvolnum>5</manvolnum></citerefentry> documente le fichier <filename>/etc/milter-greylist/greylist.conf</filename> et les différentes façons de configurer <emphasis role=\"pkg\">milter-greylist</emphasis>."

#. Tag: title
#, no-c-format
msgid "Customizing Filters Based On the Recipient"
msgstr "Personnalisation des filtres en fonction du destinataire"

#. Tag: para
#, no-c-format
msgid "The last two sections reviewed many of the possible restrictions. They all have their use in limiting the amount of received spam, but they also all have their drawbacks. It is therefore more and more common to customize the set of filters depending on the recipient. At Falcot Corp, greylisting is interesting for most users, but it hinders the work of some users who need low latency in their emails (such as the technical support service). Similarly, the commercial service sometimes has problems receiving emails from some Asian providers who may be listed in black-lists; this service asked for a non-filtered address so as to be able to correspond."
msgstr "Les deux dernières sections ont passé en revue un grand nombre de restrictions possibles. Ces dernières servent essentiellement à limiter le nombre de spams reçus, mais elles présentent toutes des petits inconvénients. C'est pourquoi il est de plus en plus fréquent de devoir personnaliser le filtrage effectué en fonction du destinataire. Chez Falcot, le greylisting s'avérera intéressant pour la plupart des utilisateurs sauf quelques personnes dont le travail dépend de la faible latence du courrier électronique (le service d'assistance technique, par exemple). De même, le service commercial rencontre parfois des difficultés pour recevoir les réponses de certains fournisseurs asiatiques car ils sont répertoriés dans des listes noires. Ils ont donc demandé une adresse e-mail non filtrée pour pouvoir correspondre malgré tout."

#. Tag: para
#, no-c-format
msgid "Postfix provides such a customization of filters with a “restriction class” concept. The classes are declared in the <literal>smtpd_restriction_classes</literal> parameter, and defined the same way as <literal>smtpd_recipient_restrictions</literal>. The <literal>check_recipient_access</literal> directive then defines a table mapping a given recipient to the appropriate set of restrictions."
msgstr "Postfix gère cela grâce à un concept de « classes de restrictions ». On référence les classes dans la variable <literal>smtpd_restriction_classes</literal> et on les définit par simple affectation tout comme on définirait <literal>smtpd_recipient_restrictions</literal>. Ensuite la directive <literal>check_recipient_access</literal> permet d'employer une table de correspondances pour définir les restrictions à employer pour un destinataire donné."

#. Tag: title
#, no-c-format
msgid "Defining restriction classes in <filename>main.cf</filename>"
msgstr "Définir des classes de restriction dans <filename>main.cf</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"smtpd_restriction_classes = greylisting, aggressive, permissive\n"
"\n"
"greylisting = check_policy_service inet:127.0.0.1:10023\n"
"aggressive = reject_rbl_client sbl-xbl.spamhaus.org,\n"
"        check_policy_service inet:127.0.0.1:10023\n"
"permissive = permit\n"
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"        reject_unauth_destination,\n"
"        check_recipient_access hash:/etc/postfix/recipient_access\n"
msgstr ""
"smtpd_restriction_classes = greylisting, aggressive, permissive\n"
"\n"
"greylisting = check_policy_service inet:127.0.0.1:10023\n"
"aggressive = reject_rbl_client sbl-xbl.spamhaus.org,\n"
"        check_policy_service inet:127.0.0.1:10023\n"
"permissive = permit\n"
"\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"        reject_unauth_destination,\n"
"        check_recipient_access hash:/etc/postfix/recipient_access\n"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/postfix/recipient_access</filename> file"
msgstr "Fichier <filename>/etc/postfix/recipient_access</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Unfiltered addresses\n"
"postmaster@falcot.com  permissive\n"
"support@falcot.com     permissive\n"
"sales-asia@falcot.com  permissive\n"
"\n"
"# Aggressive filtering for some privileged users\n"
"joe@falcot.com         aggressive\n"
"\n"
"# Special rule for the mailing-list manager\n"
"sympa@falcot.com       reject_unverified_sender\n"
"\n"
"# Greylisting by default\n"
"falcot.com             greylisting\n"
msgstr ""
"\n"
"# Adresses sans filtrage\n"
"postmaster@falcot.com  permissive\n"
"support@falcot.com     permissive\n"
"sales-asia@falcot.com  permissive\n"
"\n"
"# Filtrage agressif pour quelques privilégiés\n"
"joe@falcot.com         aggressive\n"
"\n"
"# Règle spéciale pour le robot de gestion de liste\n"
"sympa@falcot.com       reject_unverified_sender\n"
"\n"
"# Par défaut, le greylisting\n"
"falcot.com             greylisting\n"

#. Tag: title
#, no-c-format
msgid "Integrating an Antivirus"
msgstr "Intégration d'un antivirus"

#. Tag: indexterm
#, no-c-format
msgid "<primary>antivirus</primary>"
msgstr "<primary>antivirus</primary>"

#. Tag: para
#, no-c-format
msgid "The many viruses circulating as attachments to emails make it important to set up an antivirus at the entry point of the company network, since despite an awareness campaign, some users will still open attachments from obviously shady messages."
msgstr "Avec les nombreux virus circulant en pièce jointe des courriers électroniques, il est important de placer un antivirus à l'entrée du réseau de l'entreprise car, même après une campagne de sensibilisation sur ce sujet, certains utilisateurs cliqueront sur l'icône d'une pièce jointe liée à un message manifestement très suspect."

#. Tag: para
#, no-c-format
msgid "The Falcot administrators selected <command>clamav</command> for their free antivirus. The main package is <emphasis role=\"pkg\">clamav</emphasis>, but they also installed a few extra packages such as <emphasis role=\"pkg\">arj</emphasis>, <emphasis role=\"pkg\">unzoo</emphasis>, <emphasis role=\"pkg\">unrar</emphasis> and <emphasis role=\"pkg\">lha</emphasis>, since they are required for the antivirus to analyze attachments archived in one of these formats."
msgstr "L'antivirus libre retenu par les administrateurs de Falcot est <command>clamav</command>. En plus du paquet <emphasis role=\"pkg\">clamav</emphasis>, ils ont installé les paquets <emphasis role=\"pkg\">arj</emphasis>, <emphasis role=\"pkg\">unzoo</emphasis>, <emphasis role=\"pkg\">unrar</emphasis> et <emphasis role=\"pkg\">lha</emphasis>, qui permettent aussi à l'antivirus d'analyser le contenu d'archives dans l'un de ces formats."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>clamav</command></primary>"
msgstr "<primary><command>clamav</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>clamav-milter</command></primary>"
msgstr "<primary><command>clamav-milter</command></primary>"

#. Tag: para
#, no-c-format
msgid "The task of interfacing between antivirus and the email server goes to <command>clamav-milter</command>. A <emphasis>milter</emphasis> (short for <emphasis>mail filter</emphasis>) is a filtering program specially designed to interface with email servers. A milter uses a standard application programming interface (API) that provides much better performance than filters external to the email servers. Milters were initially introduced by <emphasis>Sendmail</emphasis>, but <emphasis>Postfix</emphasis> soon followed suit."
msgstr "Pour interfacer cet antivirus au serveur de messagerie, on emploiera le logiciel <command>clamav-milter</command>. Un <emphasis>milter</emphasis> (terme dérivé de l'expression <foreignphrase>mail filter</foreignphrase>) est un logiciel de filtrage de courriers spécialement conçu pour s'interfacer avec les serveurs de courriers électroniques. Les <emphasis>milters</emphasis> exploitent une interface de programmation (API) dédiée qui assure de bien meilleures performances comparé aux filtres gérés en dehors des serveurs de courriers. <emphasis>Sendmail</emphasis> a été le premier à introduire cette technologie mais <emphasis>Postfix</emphasis> lui a emboîté le pas."

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> A milter for Spamassassin"
msgstr "<emphasis>DÉCOUVERTE</emphasis> Un milter pour Spamassassin"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">spamass-milter</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">spamass-milter</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">spamass-milter</emphasis> package provides a milter based on <emphasis>SpamAssassin</emphasis>, the famous unsolicited email detector. It can be used to flag messages as probable spams (by adding an extra header) and/or to reject the messages altogether if their “spamminess” score goes beyond a given threshold."
msgstr "Le paquet <emphasis role=\"pkg\">spamass-milter</emphasis> contient un filtre basé sur le célèbre logiciel de détection de courriels non-sollicités <emphasis>SpamAssassin</emphasis>. Il peut être employé pour marquer les messages comme des spams probables (en ajoutant un en-tête supplémentaire) et/ou pour les rejeter si le score du message dépasse une certaine limite."

#. Tag: para
#, no-c-format
msgid "Once the <emphasis role=\"pkg\">clamav-milter</emphasis> package is installed, the milter should be reconfigured to run on a TCP port rather than on the default named socket. This can be achieved with <command>dpkg-reconfigure clamav-milter</command>. When prompted for the “Communication interface with Sendmail”, answer “<literal>inet:10002@127.0.0.1</literal>”."
msgstr "Une fois le paquet <emphasis role=\"pkg\">clamav-milter</emphasis> installé, le milter devrait être reconfiguré pour utiliser un port TCP plutôt que la socket nommée proposée par défaut.  Lors de l'exécution de <command>dpkg-reconfigure clamav-milter</command>, il s'agit de répondre <literal>inet:10002@127.0.0.1</literal> à la question portant sur l'interface de communication avec SEndmail."

#. Tag: title
#, no-c-format
msgid "<emphasis>NOTE</emphasis> Real TCP port vs named socket"
msgstr "<emphasis>NOTE</emphasis> Vrai port TCP ou socket nommée ?"

#. Tag: para
#, no-c-format
msgid "The reason why we use a real TCP port rather than the named socket is that the postfix daemons often run chrooted and do not have access to the directory hosting the named socket. You could also decide to keep using a named socket and pick a location within the chroot (<filename>/var/spool/postfix/</filename>)."
msgstr "La raison pour laquelle nous utilisons un vrai port TCP plutôt qu'une socket nommée est que le démon Postfix est souvent enfermé dans un <foreignphrase>chroot</foreignphrase> et n'a pas accès au répertoire dans lequel la socket est créée.  Il serait toutefois possible de conserver l'utilisation de la socket, en modifiant son emplacement pour qu'elle soit dans le <foreignphrase>chroot</foreignphrase> (donc sous <filename>/var/spool/postfix/</filename>)."

#. Tag: para
#, no-c-format
msgid "The standard ClamAV configuration fits most situations, but some important parameters can still be customized with <command>dpkg-reconfigure clamav-base</command>."
msgstr "La configuration standard de <command>clamav</command> convient dans la majorité des situations mais <command>dpkg-reconfigure clamav-base</command> permet de personnaliser les paramètres les plus importants."

#. Tag: para
#, no-c-format
msgid "The last step involves telling Postfix to use the recently-configured filter. This is a simple matter of adding the following directive to <filename>/etc/postfix/main.cf</filename>:"
msgstr "La dernière étape consiste à demander à Postfix d'utiliser le logiciel de filtrage que l'on vient de configurer. Cela se fait simplement en ajoutant une directive dans <filename>/etc/postfix/main.cf</filename> :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Virus check with clamav-milter\n"
"smtpd_milters = inet:[127.0.0.1]:10002\n"
msgstr ""
"\n"
"# Virus check with clamav-milter\n"
"smtpd_milters = inet:[127.0.0.1]:10002\n"

#. Tag: para
#, no-c-format
msgid "If the antivirus causes problems, this line can be commented out, and <command>/etc/init.d/postfix reload</command> should be run so that this change is taken into account."
msgstr "En cas de problèmes avec l'antivirus, il suffira de commenter cette ligne et d'exécuter la commande <command>/etc/init.d/postfix reload</command> pour faire prendre en compte cette modification."

#. Tag: title
#, no-c-format
msgid "<emphasis>IN PRACTICE</emphasis> Testing the antivirus"
msgstr "<emphasis>EN PRATIQUE</emphasis> Tester l'antivirus"

#. Tag: para
#, no-c-format
msgid "Once the antivirus is set up, its correct behavior should be tested. The simplest way to do that is to send a test email with an attachment containing the <filename>eicar.com</filename> (or <filename>eicar.com.zip</filename>) file, which can be downloaded online: <ulink type=\"block\" url=\"http://www.eicar.org/anti_virus_test_file.htm\" />"
msgstr "Une fois l'antivirus mis en place, il convient de vérifier qu'il opère correctement. Pour cela, le plus simple est d'envoyer un courrier électronique test avec en pièce jointe le fichier <filename>eicar.com</filename> ou <filename>eicar.com.zip</filename> que l'on peut récupérer en ligne : <ulink type=\"block\" url=\"http://www.eicar.org/anti_virus_test_file.htm\" />"

#. Tag: para
#, no-c-format
msgid "This file is not a true virus, but a test file that all antivirus software on the market diagnose as a virus to allow checking installations."
msgstr "Il ne s'agit pas d'un vrai virus mais d'un fichier reconnu comme tel par tous les antivirus du marché afin que chacun puisse facilement vérifier que l'installation fonctionne comme prévu."

#. Tag: para
#, no-c-format
msgid "All messages handled by Postfix now go through the antivirus filter."
msgstr "Les messages traités par Postfix passent désormais systématiquement par un détecteur-filtre antivirus."

#. Tag: title
#, no-c-format
msgid "Authenticated SMTP"
msgstr "SMTP authentifié"

#. Tag: para
#, no-c-format
msgid "Being able to send emails requires an SMTP server to be reachable; it also requires said SMTP server to send emails through it. For roaming users, that may need regularly changing the configuration of the SMTP client, since Falcot's SMTP server rejects messages coming from IP addresses apparently not belonging to the company. Two solutions exist: either the roaming user installs an SMTP server on their computer, or they still use the company server with some means of authenticating as an employee. The former solution is not recommended since the computer won't be permanently connected, and it won't be able to retry sending messages in case of problems; we will focus on the latter solution."
msgstr "Pour être capable d'envoyer des courriers électroniques, il faut pouvoir accéder à un serveur SMTP et il faut que ce dernier vous y autorise. Lorsqu'on est itinérant, cela nécessite de changer régulièrement de serveur SMTP puisque le serveur SMTP de Falcot ne va pas accepter de relayer des messages de la part d'une adresse IP apparemment extérieure à l'entreprise. Il y a deux solutions : soit l'itinérant installe son propre serveur de courrier sur son ordinateur, soit il continue d'utiliser le serveur SMTP de l'entreprise mais il s'authentifie au préalable comme étant un employé de la société. La première solution n'est pas conseillée car l'ordinateur n'est pas connecté en permanence et il ne peut donc pas essayer régulièrement de réémettre en cas de problème. Nous allons donc voir comment mettre en place la seconde."

#. Tag: para
#, no-c-format
msgid "SMTP authentication in Postfix relies on SASL (<emphasis>Simple Authentication and Security Layer</emphasis>). It requires installing the <emphasis role=\"pkg\">libsasl2-modules</emphasis> and <emphasis role=\"pkg\">sasl2-bin</emphasis> packages, then registering a password in the SASL database for each user that needs authenticating on the SMTP server. This is done with the <command>saslpasswd2</command> command, which takes several parameters. The <literal>-u</literal> option defines the authentication domain, which must match the <literal>smtpd_sasl_local_domain</literal> parameter in the Postfix configuration. The <literal>-c</literal> option allows creating a user, and <literal>-f</literal> allows specifying the file to use if the SASL database needs to be stored at a different location than the default (<filename>/etc/sasldb2</filename>)."
msgstr "L'authentification SMTP de Postfix s'appuie sur SASL (<foreignphrase>Simple Authentication and Security Layer</foreignphrase>). Il faut installer les paquets <emphasis role=\"pkg\">libsasl2-modules</emphasis> et <emphasis role=\"pkg\">sasl2-bin</emphasis>, puis il convient d'enregistrer un mot de passe dans la base SASL pour chaque utilisateur qui doit pouvoir s'authentifier sur le serveur SMTP. On utilise pour cela la commande <command>saslpasswd2</command>. L'option <literal>-u</literal> précise le domaine d'authentification il doit correspondre au paramètre <literal>smtpd_sasl_local_domain</literal> de Postfix. L'option <literal>-c</literal> sert à créer un utilisateur et l'option <literal>-f</literal> permet de modifier une base SASL située ailleurs qu'à son emplacement standard (<filename>/etc/sasldb2</filename>)."

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>saslpasswd2 -u `postconf -h myhostname` -f /var/spool/postfix/etc/sasldb2 -c jean</userinput>\n"
"<computeroutput>[... type jean's password twice ...]</computeroutput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>saslpasswd2 -h `postconf -h myhostname` -f /var/spool/postfix/etc/sasldb2 -c jean</userinput>\n"
"<computeroutput>[... saisir deux fois le mot de passe de jean ...]</computeroutput>\n"

#. Tag: para
#, no-c-format
msgid "Note that the SASL database was created in Postfix's directory. In order to ensure consistency, we also turn <filename>/etc/sasldb2</filename> into a symbolic link pointing at the database used by Postfix, with the <command>ln -sf /var/spool/postfix/etc/sasldb2 /etc/sasldb2</command> command."
msgstr "Notons au passage que l'on a créé la base de données SASL dans le répertoire de Postfix. Par souci de cohérence, on va faire pointer <filename>/etc/sasldb2</filename> vers la base employée par Postfix. Cela s'effectue avec la commande <command>ln -sf /var/spool/postfix/etc/sasldb2 /etc/sasldb2</command>."

#. Tag: para
#, no-c-format
msgid "Now we need to configure Postfix to use SASL. First the <literal>postfix</literal> user needs to be added to the <literal>sasl</literal> group, so that it can access the SASL account database. A few new parameters are also needed to enable SASL, and the <literal>smtpd_recipient_restrictions</literal> parameter needs to be configured to allow SASL-authenticated clients to send emails freely."
msgstr "Reste maintenant à configurer Postfix pour faire usage de SASL. En premier lieu, il faut ajouter l'utilisateur <literal>postfix</literal> dans le groupe <literal>sasl</literal> afin qu'il puisse accéder à la base de données des comptes SASL. Ensuite, il faut ajouter quelques paramètres pour activer SASL, puis modifier le paramètre <literal>smtpd_recipient_restrictions</literal> pour autoriser les clients authentifiés par SASL à envoyer des courriels à tous les destinataires."

#. Tag: title
#, no-c-format
msgid "Enabling SASL in <filename>/etc/postfix/main.cf</filename>"
msgstr "Modification de <filename>/etc/postfix/main.cf</filename> pour activer SASL"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Enable SASL authentication\n"
"smtpd_sasl_auth_enable = yes\n"
"# Define the SASL authentication domain to use\n"
"smtpd_sasl_local_domain = $myhostname\n"
"[...]\n"
"# Adding permit_sasl_authenticated before reject_unauth_destination\n"
"# allows relaying mail sent by SASL-authenticated users\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    permit_sasl_authenticated,\n"
"    reject_unauth_destination,\n"
"[...]\n"
msgstr ""
"\n"
"# Activer l'authentification par SASL\n"
"smtpd_sasl_auth_enable = yes\n"
"# Définir le domaine d'authentification SASL employé\n"
"smtpd_sasl_local_domain = $myhostname\n"
"[...]\n"
"# Ajout de permit_sasl_authenticated avant reject_unauth_destination\n"
"# pour relayer le courrier des usagers authentifiés par SASL\n"
"smtpd_recipient_restrictions = permit_mynetworks,\n"
"    permit_sasl_authenticated,\n"
"    reject_unauth_destination,\n"
"[...]\n"

#. Tag: title
#, no-c-format
msgid "<emphasis>EXTRA</emphasis> Authenticated SMTP client"
msgstr "<emphasis>COMPLÉMENTS</emphasis> Client SMTP authentifié"

#. Tag: para
#, no-c-format
msgid "Most email clients are able to authenticate to an SMTP server before sending outgoing messages, and using that feature is a simple matter of configuring the appropriate parameters. If the client in use does not provide that feature, the workaround is to use a local Postfix server and configure it to relay email via the remote SMTP server. In this case, the local Postfix itself will be the client that authenticates with SASL. Here are the required parameters:"
msgstr "La plupart des logiciels de messagerie électronique savent désormais s'authentifier auprès d'un serveur SMTP pour expédier le courrier sortant. Il suffit de configurer les paramètres correspondants. Si ce n'est pas le cas, il est possible d'employer un serveur Postfix local et de le configurer pour relayer le courrier vers le serveur SMTP distant. Dans ce cas, Postfix sera le client dans l'authentification SASL. Voici les paramètres nécessaires :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"smtp_sasl_auth_enable = yes\n"
"smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\n"
"relay_host = [mail.falcot.com]\n"
msgstr ""
"\n"
"smtp_sasl_auth_enable = yes\n"
"smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\n"
"relay_host = [mail.falcot.com]\n"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/postfix/sasl_passwd</filename> file needs to contain the username and password to use for authenticating on the <literal>mail.falcot.com</literal> server. Here's an example:"
msgstr "Le fichier <filename>/etc/postfix/sasl_passwd</filename> doit contenir le nom d'utilisateur et le mot de passe à employer pour s'authentifier sur le serveur smtp.falcot.com. Voici un exemple :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[mail.falcot.com]   joe:LyinIsji\n"
msgstr ""
"\n"
"[mail.falcot.com]   joe:LyinIsji\n"

#. Tag: para
#, no-c-format
msgid "As for all Postfix maps, this file must be turned into <filename>/etc/postfix/sasl_passwd.db</filename> with the <command>postmap</command> command."
msgstr "Comme pour toutes les tables de correspondance Postfix, il faut penser à employer <command>postmap</command> pour régénérer <filename>/etc/postfix/sasl_passwd.db</filename>."

#. Tag: title
#, no-c-format
msgid "Web Server (HTTP)"
msgstr "Serveur web (HTTP)"

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators decided to use the Apache HTTP server, included in Debian <emphasis role=\"distribution\">Wheezy</emphasis> at version 2.2.22."
msgstr "Les administrateurs de Falcot SA ont choisi Apache comme serveur HTTP. Debian <emphasis role=\"distribution\">Wheezy</emphasis> fournit la version 2.2.22 de ce logiciel."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>apache</command></primary>"
msgstr "<primary><command>apache</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>web</secondary>"
msgstr "<primary>serveur</primary><secondary>web</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web server</primary>"
msgstr "<primary>web, serveur</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>HTTP</secondary>"
msgstr "<primary>serveur</primary><secondary>HTTP</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP</primary><secondary>server</secondary>"
msgstr "<primary>HTTP</primary><secondary>serveur</secondary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> Other web servers"
msgstr "<emphasis>ALTERNATIVE</emphasis> Autres serveurs web"

#. Tag: para
#, no-c-format
msgid "Apache is merely the most widely-known (and widely-used) web server, but there are others; they can offer better performance under certain workloads, but this has its counterpart in the smaller number of available features and modules. However, when the prospective web server is built to serve static files or to act as a proxy, the alternatives, such as <emphasis role=\"pkg\">nginx</emphasis> and <emphasis role=\"pkg\">lighttpd</emphasis>, are worth investigating."
msgstr "Apache n'est que le plus connu et le plus répandu des serveurs web, mais il en existe d'autres, qui peuvent offrir de meilleures performances dans certains cas d'usage, le plus souvent au détriment de la quantité de fonctions et modules disponibles. Lorsqu'il s'agit de servir des fichiers statiques, ou d'agir en serveur mandataire (<foreignphrase>proxy</foreignphrase>), il est judicieux de s'intéresser à ces alternatives, parmi lesquelles on peut citer Nginx et lighttpd."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">nginx</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">nginx</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">lighttpd</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">lighttpd</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Installing Apache"
msgstr "Installation d'Apache"

#. Tag: para
#, no-c-format
msgid "By default, installing the <emphasis role=\"pkg\">apache2</emphasis> package causes the <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> version of Apache to be installed too. The <emphasis role=\"pkg\">apache2</emphasis> package is an empty shell, and it only serves to ensure that one of the Apache versions is actually installed."
msgstr "L'installation du paquet <emphasis role=\"pkg\">apache2</emphasis> entraîne l'installation par défaut de <emphasis role=\"pkg\">apache2-mpm-worker</emphasis>, une version particulière de ce serveur web. Le paquet <emphasis role=\"pkg\">apache2</emphasis> ne contient rien, il sert simplement à s'assurer qu'une des versions de Apache 2 est effectivement installée."

#. Tag: para
#, no-c-format
msgid "The differences between the variants of Apache 2 are concentrated in the policy used to handle parallel processing of many requests; this policy is implemented by an MPM (short for <emphasis>Multi-Processing Module</emphasis>). Among the available MPMs, <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> uses <emphasis>threads</emphasis> (lightweight processes), whereas <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> uses a pool of processes created in advance (the traditional way, and the only one available in Apache 1.3). <emphasis role=\"pkg\">apache2-mpm-event</emphasis> also uses threads, but they are terminated earlier, when the incoming connection is only kept open by the HTTP <emphasis>keep-alive</emphasis> feature."
msgstr "MPM signifie <foreignphrase>Multi-Processing Module</foreignphrase>. En effet, ce qui différencie les différentes versions d'Apache 2 est la politique adoptée pour gérer le traitement parallèle d'un grand nombre de requêtes : <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> emploie des <foreignphrase>threads</foreignphrase> (processus légers) pour cela, alors que <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> utilise un ensemble de processus créés par avance (comme Apache 1.3). <emphasis role=\"pkg\">apache2-mpm-event</emphasis> emploie également des <foreignphrase>threads</foreignphrase> mais ceux-ci sont libérés lorsque la connexion entrante ne reste ouverte qu'à cause du <foreignphrase>keep alive</foreignphrase> HTTP."

#. Tag: para
#, no-c-format
msgid "The Falcot administrators also install <emphasis role=\"pkg\">libapache2-mod-php5</emphasis> so as to include the PHP support in Apache. This causes <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> to be removed, and <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis> to be installed instead, since PHP only works under that particular MPM."
msgstr "Les administrateurs de Falcot installent dans la foulée <emphasis role=\"pkg\">libapache2-mod-php5</emphasis> pour activer PHP dans Apache. Cela entraîne la suppression de <emphasis role=\"pkg\">apache2-mpm-worker</emphasis> et l'installation de <emphasis role=\"pkg\">apache2-mpm-prefork</emphasis>. En effet, PHP ne fonctionne qu'avec cette version du serveur web."

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> Execution under the <literal>www-data</literal> user"
msgstr "<emphasis>SÉCURITÉ</emphasis> Exécution sous l'utilisateur <literal>www-data</literal>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>www-data</literal></primary>"
msgstr "<primary><literal>www-data</literal></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>suexec</primary>"
msgstr "<primary>suexec</primary>"

#. Tag: para
#, no-c-format
msgid "By default, Apache handles incoming requests under the identity of the <literal>www-data</literal> user. This means that a security vulnerability in a CGI script executed by Apache (for a dynamic page) won't compromise the whole system, but only the files owned by this particular user."
msgstr "Par défaut, Apache traite les requêtes entrantes en tant qu'utilisateur <literal>www-data</literal>. De la sorte, une faille de sécurité dans un script CGI exécuté par Apache (pour une page dynamique) ne compromet pas tout le système, mais seulement les données possédées par cet utilisateur."

#. Tag: para
#, no-c-format
msgid "Using the <emphasis>suexec</emphasis> modules allows bypassing this rule so that some CGI scripts are executed under the identity of another user. This is configured with a <literal>SuexecUserGroup <replaceable>user</replaceable><replaceable>group</replaceable></literal> directive in the Apache configuration."
msgstr "L'usage du module <emphasis>suexec</emphasis> permet de changer cette règle afin que certains CGI soient exécutés avec les droits d'un autre utilisateur. Cela se paramètre avec la directive <literal>SuexecUserGroup <replaceable>utilisateur</replaceable> <replaceable>groupe</replaceable></literal> dans la configuration de Apache."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">apache2-mpm-itk</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">apache2-mpm-itk</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Another possibility is to use a dedicated MPM, such as the one provided by <emphasis role=\"pkg\">apache2-mpm-itk</emphasis>. This particular one has a slightly different behavior: it allows “isolating” virtual hosts so that they each run as a different user. A vulnerability in one website therefore cannot compromise files belonging to the owner of another website."
msgstr "Il est également possible d'utiliser un MPM dédié, comme celui fourni par <emphasis role=\"pkg\">apache2-mpm-itk</emphasis>. Celui-ci a un fonctionnement différent, en ce qu'il permet d'« isoler » les hôtes virtuels de manière à ce qu'ils tournent chacun sous un utilisateur différent. Ainsi, une faille dans un site web dynamique ne compromettra pas les fichiers appartenant à l'utilisateur d'un autre site web."

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> List of modules"
msgstr "<emphasis>DÉCOUVERTE</emphasis> Liste des modules"

#. Tag: para
#, no-c-format
msgid "The full list of Apache standard modules can be found online. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/index.html\" />"
msgstr "La liste complète des modules standards d'Apache se trouve en ligne. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/index.html\" />"

#. Tag: para
#, no-c-format
msgid "Apache is a modular server, and many features are implemented by external modules that the main program loads during its initialization. The default configuration only enables the most common modules, but enabling new modules is a simple matter of running <command>a2enmod <replaceable>module</replaceable></command>; to disable a module, the command is <command>a2dismod <replaceable>module</replaceable></command>. These programs actually only create (or delete) symbolic links in <filename>/etc/apache2/mods-enabled/</filename>, pointing at the actual files (stored in <filename>/etc/apache2/mods-available/</filename>)."
msgstr "Apache est un serveur modulaire et la plupart des fonctionnalités sont implémentées dans des modules externes que le programme charge pendant son initialisation. La configuration par défaut n'active que les modules les plus courants et les plus utiles. Mais la commande <command>a2enmod <replaceable>module</replaceable></command> permet d'activer un nouveau module tandis que <command>a2dismod <replaceable>module</replaceable></command> le désactive. Ces deux programmes ne font rien d'autre que créer ou supprimer des liens symboliques dans <filename>/etc/apache2/mods-enabled/</filename> pointant vers des fichiers de <filename>/etc/apache2/mods-available/</filename>."

#. Tag: para
#, no-c-format
msgid "With its default configuration, the web server listens on port 80 (as configured in <filename>/etc/apache2/ports.conf</filename>), and serves pages from the <filename>/var/www/</filename> directory (as configured in <filename>/etc/apache2/sites-enabled/000-default</filename>)."
msgstr "Par défaut, le serveur web écoute sur le port 80 (configuré dans <filename>/etc/apache2/ports.conf</filename>) et renvoie les pages web depuis le répertoire <filename>/var/www/</filename> (configuré dans <filename>/etc/apache2/sites-enabled/000-default</filename>)."

#. Tag: title
#, no-c-format
msgid "<emphasis>GOING FURTHER</emphasis> Adding support for SSL"
msgstr "<emphasis>POUR ALLER PLUS LOIN</emphasis> Prise en charge de SSL"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTPS</primary>"
msgstr "<primary>HTTPS</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP</primary><secondary>secure</secondary>"
msgstr "<primary>HTTP</primary><secondary>sécurisé</secondary>"

#. Tag: para
#, no-c-format
msgid "Apache 2.2 includes the SSL module required for secure HTTP (HTTPS) out of the box. It just needs to be enabled with <command>a2enmod ssl</command>, then the required directives have to be added to the configuration files. A configuration example is provided in <filename>/usr/share/doc/apache2.2-common/examples/apache2/extra/httpd-ssl.conf.gz</filename>. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/mod_ssl.html\" />"
msgstr "Apache 2.2 intègre en standard le module SSL nécessaire au HTTP sécurisé (HTTPS). Il faut juste l'activer avec <command>a2enmod ssl</command> puis placer les directives nécessaires dans la configuration. Un exemple est fourni dans <filename>/usr/share/doc/apache2.2-common/examples/apache2/extra/httpd-ssl.conf.gz</filename>. <ulink type=\"block\" url=\"http://httpd.apache.org/docs/2.2/mod/mod_ssl.html\" />"

#. Tag: para
#, no-c-format
msgid "Some extra care must be taken if you want to favor SSL connections with <emphasis>Perfect Forward Secrecy</emphasis> (those connections use ephemeral session keys ensuring that a compromission of the server's secret key does not result in the compromission of old encrypted traffic that could have been stored while sniffing on the network). Have a look at Mozilla's recommandations in particular: <ulink type=\"block\" url=\"https://wiki.mozilla.org/Security/Server_Side_TLS#Apache\" />"
msgstr "Il faudra prendre quelques précautions si l'on souhaite favoriser les connexions SSL avec confidentialité persistante (<foreignphrase>Perfect Forward Secrecy</foreignphrase> — ces sessions utilisent des clés de session éphémères, ce qui assure que la compromission de la clé secrète du serveur ne mène pas à celle de messages chiffrés qui auraient été préalablement interceptés sur le réseau).  Pour plus de détails, et notamment pour les recommandations de Mozilla : <ulink type=\"block\" url=\"https://wiki.mozilla.org/Security/Server_Side_TLS#Apache\" />"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Perfect Forward Secrecy</emphasis></primary>"
msgstr "<primary>confidentialité persistante (<foreignphrase>Perfect Forward Secrecy</foreignphrase>)</primary>"

#. Tag: title
#, no-c-format
msgid "Configuring Virtual Hosts"
msgstr "Configuration d'hôtes virtuels"

#. Tag: para
#, no-c-format
msgid "A virtual host is an extra identity for the web server."
msgstr "Un hôte virtuel est une identité (supplémentaire) assumée par le serveur web."

#. Tag: indexterm
#, no-c-format
msgid "<primary>virtual host</primary>"
msgstr "<primary>hôte virtuel</primary>"

#. Tag: para
#, no-c-format
msgid "Apache considers two different kinds of virtual hosts: those that are based on the IP address (or the port), and those that rely on the domain name of the web server. The first method requires allocating a different IP address (or port) for each site, whereas the second one can work on a single IP address (and port), and the sites are differentiated by the hostname sent by the HTTP client (which only works in version 1.1 of the HTTP protocol — fortunately that version is old enough that all clients use it already)."
msgstr "Apache distingue deux types d'hôtes virtuels : ceux qui se basent sur l'adresse IP (ou le port) et ceux qui reposent sur le nom DNS du serveur web. La première méthode nécessite une adresse IP différente pour chaque site tandis que la seconde n'emploie qu'une adresse IP et différencie les sites par le nom d'hôte communiqué par le client HTTP (ce qui ne fonctionne qu'avec la version 1.1 du protocole HTTP, heureusement déjà employée par tous les navigateurs web)."

#. Tag: para
#, no-c-format
msgid "The (increasing) scarcity of IPv4 addresses usually favors the second method; however, it is made more complex if the virtual hosts need to provide HTTPS too, since the SSL protocol hasn't always provided for name-based virtual hosting; the SNI extension (<emphasis>Server Name Indication</emphasis>) that allows such a combination is not handled by all browsers. When several HTTPS sites need to run on the same server, they will usually be differentiated either by running on a different port or on a different IP address (IPv6 can help there)."
msgstr "La rareté (de plus en plus pressante) des adresses IPv4 fait en général privilégier cette deuxième méthode. Elle est cependant complexifiée si chacun des hôtes virtuels a besoin de HTTPS : le protocole SSL n'a pas toujours permis ce fonctionnement et l'extension SNI (<foreignphrase>Server Name Indication</foreignphrase>) qui le rend possible n'est pas connue de tous les navigateurs. Si plusieurs sites HTTPS doivent fonctionner sur un même serveur, on préférera donc les différencier soit par leur port, soit par leur adresse IP (en utilisant éventuellement IPv6)."

#. Tag: para
#, no-c-format
msgid "The default configuration for Apache 2 enables name-based virtual hosts (with the <literal>NameVirtualHost *:80</literal> directive in the <filename>/etc/apache2/ports.conf</filename> file). In addition, a default virtual host is defined in the <literal>/etc/apache2/sites-enabled/000-default</literal> file; this virtual host will be used if no host matching the request sent by the client is found."
msgstr "La configuration par défaut d'Apache 2 a déjà activé les hôtes virtuels basés sur le nom grâce à la directive <literal>NameVirtualHost *:80</literal> du fichier <filename>/etc/apache2/ports.conf</filename>. En outre, un hôte virtuel par défaut est défini dans le fichier <literal>/etc/apache2/sites-enabled/000-default</literal>. Il sera employé si aucun hôte virtuel correspondant n'existe."

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> First virtual host"
msgstr "<emphasis>ATTENTION</emphasis> Premier hôte virtuel"

#. Tag: para
#, no-c-format
msgid "Requests concerning unknown virtual hosts will always be served by the first defined virtual host, which is why we defined <literal>www.falcot.com</literal> first here."
msgstr "Le premier hôte virtuel défini répondra systématiquement aux requêtes concernant des hôtes virtuels inconnus. C'est pourquoi nous avons d'abord défini ici <literal>www.falcot.com</literal>."

#. Tag: title
#, no-c-format
msgid "<emphasis>QUICK LOOK</emphasis> Apache supports SNI"
msgstr "<emphasis>DÉCOUVERTE</emphasis> Apache prend en charge SNI"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Server Name Indication</primary>"
msgstr "<primary><foreignphrase>Server Name Indication</foreignphrase></primary>"

#. Tag: para
#, no-c-format
msgid "The Apache server supports an SSL protocol extension called <emphasis>Server Name Indication</emphasis> (SNI). This extension allows the browser to send the hostname of the web server during the establishment of the SSL connection, much earlier than the HTTP request itself, which was previously used to identify the requested virtual host among those hosted on the same server (with the same IP address and port). This allows Apache to select the most appropriate SSL certificate for the transaction to proceed."
msgstr "Apache prend en charge une extension du protocole SSL appelée <foreignphrase>Server Name Indication</foreignphrase> (SNI). Elle permet au navigateur web d'envoyer le nom d'hôte du serveur web dès l'établissement de la connexion SSL, donc bien avant l'envoi de la requête HTTP qui sert habituellement à identifier le bon site web parmi tous les hôtes virtuels hébergés sur le même serveur (et la même adresse IP). Ainsi Apache peut sélectionner le certificat SSL adéquat pour la communication."

#. Tag: para
#, no-c-format
msgid "Before SNI, Apache would always use the certificate defined in the default virtual host. Clients trying to access another virtual host would then display warnings, since the certificate they received didn't match the website they were trying to access. Fortunately, most browsers now work with SNI; this includes Microsoft Internet Explorer starting with version 7.0 (starting on Vista), Mozilla Firefox starting with version 2.0, Apple Safari since version 3.2.1, and all versions of Google Chrome."
msgstr "Avant l'introduction de SNI, Apache employait systématiquement le certificat de l'hôte virtuel par défaut. Lorsque le certificat ne correspondait pas au site web demandé, les navigateurs affichaient donc des avertissements. Notons que ce comportement persiste lorsque l'utilisateur dispose d'un navigateur n'acceptant pas SNI. Fort heureusement la plupart des navigateurs l'exploitent désormais ; c'est le cas de Microsoft Internet Explorer depuis sa version 7.0 (sur Vista seulement, pas XP), de Mozilla Firefox depuis sa version 2.0, de Apple Safari depuis sa version 3.2.1 et de toutes les versions de Google Chrome."

#. Tag: para
#, no-c-format
msgid "The Apache package provided in Debian is built with support for SNI; no particular configuration is therefore needed, apart from enabling name-based virtual hosting on port 443 (SSL) as well as the usual port 80. This is a simple matter of editing <filename>/etc/apache2/ports.conf</filename> so it includes the following:"
msgstr "Le paquet Apache fourni par Debian est compilé avec la prise en charge de SNI ; il n'y a donc aucune manipulation particulière à faire, si ce n'est de déclarer que vous souhaitez faire de l'hébergement virtuel basé sur le nom d'hôte également sur le port 443 (SSL). Pour cela, on modifie <filename>/etc/apache2/ports.conf</filename> pour qu'il contienne ceci :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;IfModule mod_ssl.c&gt;\n"
"    NameVirtualHost *:443\n"
"    Listen 443\n"
"&lt;/IfModule&gt;\n"
msgstr ""
"\n"
"&lt;IfModule mod_ssl.c&gt;\n"
"    NameVirtualHost *:443\n"
"    Listen 443\n"
"&lt;/IfModule&gt;\n"

#. Tag: para
#, no-c-format
msgid "Care should also be taken to ensure that the configuration for the first virtual host (the one used by default) does enable TLSv1, since Apache uses the parameters of this first virtual host to establish secure connections, and they had better allow them!"
msgstr "On veillera également à ce que le premier hôte virtuel (celui par défaut) dispose bien d'une configuration autorisant TLSv1 (et donc SSL). En effet, c'est toujours les paramètres du premier hôte virtuel qui sont utilisés pour établir la connexion et il faut qu'ils la permettent !"

#. Tag: para
#, no-c-format
msgid "Each extra virtual host is then described by a file stored in <filename>/etc/apache2/sites-available/</filename>. Setting up a website for the <literal>falcot.org</literal> domain is therefore a simple matter of creating the following file, then enabling the virtual host with <command>a2ensite www.falcot.org</command>."
msgstr "Chaque hôte virtuel supplémentaire est ensuite décrit par un fichier placé dans le répertoire <filename>/etc/apache2/sites-available/</filename>. Ainsi, la mise en place du domaine <literal>falcot.org</literal> se résume à créer le fichier ci-dessous puis à l'activer avec <command>a2ensite www.falcot.org</command>."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/apache2/sites-available/www.falcot.org</filename> file"
msgstr "Fichier <filename>/etc/apache2/sites-available/www.falcot.org</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;VirtualHost *:80&gt;\n"
"ServerName www.falcot.org\n"
"ServerAlias falcot.org\n"
"DocumentRoot /srv/www/www.falcot.org\n"
"&lt;/VirtualHost&gt;\n"
msgstr ""
"\n"
"&lt;VirtualHost *:80&gt;\n"
"ServerName www.falcot.org\n"
"ServerAlias falcot.org\n"
"DocumentRoot /srv/www/www.falcot.org\n"
"&lt;/VirtualHost&gt;\n"

#. Tag: para
#, no-c-format
msgid "The Apache server, as configured so far, uses the same log files for all virtual hosts (although this could be changed by adding <literal>CustomLog</literal> directives in the definitions of the virtual hosts). It therefore makes good sense to customize the format of this log file to have it include the name of the virtual host. This can be done by creating a <filename>/etc/apache2/conf.d/customlog</filename> file that defines a new format for all log files (with the <literal>LogFormat</literal> directive). The <literal>CustomLog</literal> line must also be removed (or commented out) from the <filename>/etc/apache2/sites-available/default</filename> file."
msgstr "Le serveur Apache est ici configuré pour n'utiliser qu'un seul fichier de log pour tous les hôtes virtuels (ce qu'on pourrait changer en intégrant des directives <literal>CustomLog</literal> dans les définitions des hôtes virtuels). Il est donc nécessaire de personnaliser le format de ce fichier pour y intégrer le nom de l'hôte virtuel. Pour cela, on ajoutera un fichier <filename>/etc/apache2/conf.d/customlog</filename> définissant un nouveau format (directive <literal>LogFormat</literal>) et l'employant pour le fichier principal de log. Il faut également désactiver la ligne <literal>CustomLog</literal> du fichier <filename>/etc/apache2/sites-available/default</filename>."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/apache2/conf.d/customlog</filename> file"
msgstr "Fichier <filename>/etc/apache2/conf.d/customlog</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# New log format including (virtual) host name\n"
"LogFormat \"%v %h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost\n"
"\n"
"# Now let's use this \"vhost\" format by default\n"
"CustomLog /var/log/apache2/access.log vhost\n"
msgstr ""
"\n"
"# Nouveau format de log avec nom de l'hôte virtuel (vhost)\n"
"LogFormat \"%v %h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost\n"
"\n"
"# On emploie le format vhost en standard\n"
"CustomLog /var/log/apache2/access.log vhost\n"

#. Tag: title
#, no-c-format
msgid "Common Directives"
msgstr "Directives courantes"

#. Tag: para
#, no-c-format
msgid "This section briefly reviews some of the commonly-used Apache configuration directives."
msgstr "Cette section passe brièvement en revue quelques-unes des directives de configuration d'Apache les plus usitées."

#. Tag: indexterm
#, no-c-format
msgid "<primary>Apache directives</primary>"
msgstr "<primary>Apache, directives</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>directives, Apache</primary>"
msgstr "<primary>directives Apache</primary>"

#. Tag: para
#, no-c-format
msgid "The main configuration file usually includes several <literal>Directory</literal> blocks; they allow specifying different behaviors for the server depending on the location of the file being served. Such a block commonly includes <literal>Options</literal> and <literal>AllowOverride</literal> directives."
msgstr "Le fichier de configuration principal contient habituellement plusieurs blocs <literal>Directory</literal> destinés à paramétrer le comportement du serveur en fonction de l'emplacement du fichier servi. À l'intérieur de ce bloc, on trouve généralement les directives <literal>Options</literal> et <literal>AllowOverride</literal>."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Options</literal>, Apache directive</primary>"
msgstr "<primary><literal>Options</literal>, directive Apache</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>AllowOverride</literal>, Apache directive</primary>"
msgstr "<primary><literal>AllowOverride</literal>, directive Apache</primary>"

#. Tag: title
#, no-c-format
msgid "Directory block"
msgstr "Bloc Directory"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"&lt;Directory /var/www&gt;\n"
"Options Includes FollowSymlinks\n"
"AllowOverride All\n"
"DirectoryIndex index.php index.html index.htm\n"
"&lt;/Directory&gt;\n"
msgstr ""
"\n"
"&lt;Directory /var/www&gt;\n"
"Options Includes FollowSymlinks\n"
"AllowOverride All\n"
"DirectoryIndex index.php index.html index.htm\n"
"&lt;/Directory&gt;\n"

#. Tag: para
#, no-c-format
msgid "The <literal>DirectoryIndex</literal> directive contains a list of files to try when the client request matches a directory. The first existing file in the list is used and sent as a response."
msgstr "La directive <literal>DirectoryIndex</literal> précise la liste des fichiers à essayer pour répondre à une requête sur un répertoire. Le premier fichier existant est appelé pour générer la réponse."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>DirectoryIndex</literal>, Apache directive</primary>"
msgstr "<primary><literal>DirectoryIndex</literal>, directive Apache</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Options</literal> directive is followed by a list of options to enable. The <literal>None</literal> value disables all options; correspondingly, <literal>All</literal> enables them all except <literal>MultiViews</literal>. Available options include:"
msgstr "La directive <literal>Options</literal> est suivie d'une liste d'options à activer. <literal>None</literal> désactive toutes les options. Inversement, <literal>All</literal> les active toutes sauf <literal>MultiViews</literal>. Voici les options existantes :"

#. Tag: para
#, no-c-format
msgid "<literal>ExecCGI</literal> indicates that CGI scripts can be executed. <indexterm><primary><literal>ExecCGI</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>ExecCGI</literal> indique qu'il est possible d'exécuter des scripts CGI. <indexterm><primary><literal>ExecCGI</literal>, directive Apache</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>FollowSymlinks</literal> tells the server that symbolic links can be followed, and that the response should contain the contents of the target of such links. <indexterm><primary><literal>FollowSymlinks</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>FollowSymlinks</literal> indique au serveur qu'il doit suivre les liens symboliques et donc effectuer la requête sur le fichier réel qui en est la cible. <indexterm><primary><literal>FollowSymlinks</literal>, directive Apache</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>SymlinksIfOwnerMatch</literal> also tells the server to follow symbolic links, but only when the link and the its target have the same owner. <indexterm><primary><literal>SymlinksIfOwnerMatch</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>SymlinksIfOwnerMatch</literal> a le même rôle mais impose la restriction supplémentaire de ne suivre le lien que si le fichier pointé appartient au même propriétaire. <indexterm><primary><literal>SymlinksIfOwnerMatch</literal>, directive Apache</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>Includes</literal> enables <emphasis>Server Side Includes</emphasis> (<emphasis>SSI</emphasis> for short). These are directives embedded in HTML pages and executed on the fly for each request. <indexterm><primary><literal>Includes</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>Includes</literal> active les inclusions côté serveur (<foreignphrase>Server Side Includes</foreignphrase>, ou SSI). Il s'agit de directives directement intégrées dans les pages HTML et exécutées à la volée à chaque requête. <indexterm><primary><literal>Includes</literal>, directive Apache</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>Indexes</literal> tells the server to list the contents of a directory if the HTTP request sent by the client points at a directory without an index file (ie, when no files mentioned by the <literal>DirectoryIndex</literal> directive exists in this directory). <indexterm><primary><literal>Indexes</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>Indexes</literal> autorise le serveur à retourner le contenu du dossier si la requête HTTP pointe sur un répertoire dépourvu de fichier d'index (tous les fichiers de la directive <literal>DirectoryIndex</literal> ayant été tentés en vain). <indexterm><primary><literal>Indexes</literal>, directive Apache</primary></indexterm>"

#. Tag: para
#, no-c-format
msgid "<literal>MultiViews</literal> enables content negotiation; this can be used by the server to return a web page matching the preferred language as configured in the browser. <indexterm><primary><literal>MultiViews</literal>, Apache directive</primary></indexterm>"
msgstr "<literal>MultiViews</literal> active la négociation de contenu, ce qui permet notamment au serveur de renvoyer la page web correspondant à la langue annoncée par le navigateur web. <indexterm><primary><literal>MultiViews</literal>, directive Apache</primary></indexterm>"

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> <filename>.htaccess</filename> file"
msgstr "<emphasis>B.A.-BA</emphasis> Fichier <filename>.htaccess</filename>"

#. Tag: para
#, no-c-format
msgid "The <filename>.htaccess</filename> file contains Apache configuration directives enforced each time a request concerns an element of the directory where it is stored. The scope of these directives also recurses to all the subdirectories within."
msgstr "Le fichier <filename>.htaccess</filename> contient des directives de configuration d'Apache, prises en compte à chaque fois qu'une requête concerne un élément du répertoire où il est stocké. Sa portée embrasse également les fichiers de toute l'arborescence qui en est issue."

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>.htaccess</filename></primary>"
msgstr "<primary><filename>.htaccess</filename></primary>"

#. Tag: para
#, no-c-format
msgid "Most of the directives that can occur in a <literal>Directory</literal> block are also legal in a <filename>.htaccess</filename> file."
msgstr "La plupart des directives qu'on peut placer dans un bloc <literal>Directory</literal> peuvent également se trouver dans un fichier <filename>.htaccess</filename>."

#. Tag: para
#, no-c-format
msgid "The <literal>AllowOverride</literal> directive lists all the options that can be enabled or disabled by way of a <filename>.htaccess</filename> file. A common use of this option is to restrict <literal>ExecCGI</literal>, so that the administrator chooses which users are allowed to run programs under the web server's identity (the <literal>www-data</literal> user)."
msgstr "La directive <literal>AllowOverride</literal> donne toutes les options qu'on peut activer ou désactiver par l'intermédiaire d'un fichier <filename>.htaccess</filename>. Il est souvent important de contrôler l'option <literal>ExecCGI</literal> pour rester maître des utilisateurs autorisés à exécuter un programme au sein du serveur web (sous l'identifiant <literal>www-data</literal>)."

#. Tag: title
#, no-c-format
msgid "Requiring Authentication"
msgstr "Requérir une authentification"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web authentication</primary>"
msgstr "<primary>authentification web</primary>"

#. Tag: para
#, no-c-format
msgid "In some circumstances, access to part of a website needs to be restricted, so only legitimate users who provide a username and a password are granted access to the contents."
msgstr "Il est parfois nécessaire de restreindre l'accès à une partie d'un site. Les utilisateurs légitimes doivent alors fournir un identifiant et un mot de passe pour accéder à son contenu."

#. Tag: title
#, no-c-format
msgid "<filename>.htaccess</filename> file requiring authentication"
msgstr "Fichier <filename>.htaccess</filename> requérant une authentification"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Require valid-user\n"
"AuthName \"Private directory\"\n"
"AuthType Basic\n"
"AuthUserFile /etc/apache2/authfiles/htpasswd-private\n"
msgstr ""
"\n"
"Require valid-user\n"
"AuthName \"Répertoire privé\"\n"
"AuthType Basic\n"
"AuthUserFile /etc/apache2/authfiles/htpasswd-prive\n"

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> No security"
msgstr "<emphasis>SÉCURITÉ</emphasis> Aucune sécurité"

#. Tag: para
#, no-c-format
msgid "The authentication system used in the above example (<literal>Basic</literal>) has minimal security as the password is sent in clear text (it is only encoded as <emphasis>base64</emphasis>, which is a simple encoding rather than an encryption method). It should also be noted that the documents “protected” by this mechanism also go over the network in the clear. If security is important, the whole HTTP connection should be encrypted with SSL."
msgstr "Ce système d'authentification (<literal>Basic</literal>) a une sécurité très faible puisque les mots de passe circulent sans protection (ils sont uniquement codés en <emphasis>base64</emphasis> — un simple encodage et non pas un procédé de chiffrement). Il faut noter que les documents protégés par ce mécanisme circulent également de manière non chiffrée. Si la sécurité vous importe, faites appel à SSL pour chiffrer toute la connexion HTTP."

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/apache2/authfiles/htpasswd-private</filename> file contains a list of users and passwords; it is commonly manipulated with the <command>htpasswd</command> command. For example, the following command is used to add a user or change their password: <indexterm><primary><command>htpasswd</command></primary></indexterm>"
msgstr "Le fichier <filename>/etc/apache2/authfiles/htpasswd-prive</filename> contient la liste des utilisateurs et leurs mots de passe ; on le manipule avec la commande <command>htpasswd</command>. Pour ajouter un utilisateur ou changer un mot de passe, on exécutera la commande suivante : <indexterm><primary><command>htpasswd</command></primary></indexterm>"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>htpasswd /etc/apache2/authfiles/htpasswd-private <replaceable>user</replaceable>\n"
"</userinput><computeroutput>New password:\n"
"Re-type new password:\n"
"Adding password for user <replaceable>user</replaceable>\n"
"</computeroutput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>htpasswd /etc/apache2/authfiles/htpasswd-prive <replaceable>utilisateur</replaceable>\n"
"</userinput><computeroutput>New password:\n"
"Re-type new password:\n"
"Adding password for user <replaceable>utilisateur</replaceable>\n"
"</computeroutput>\n"

#. Tag: title
#, no-c-format
msgid "Restricting Access"
msgstr "Restrictions d'accès"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web access restriction</primary>"
msgstr "<primary>restriction d'accès web</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Allow from</literal> and <literal>Deny from</literal> directives control access restrictions for a directory (and its subdirectories, recursively)."
msgstr "Les directives <literal>Allow from</literal> et <literal>Deny from</literal> contrôlent les restrictions d'accès à un répertoire (et ses sous-répertoires)."

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Allow from</literal>, Apache directive</primary>"
msgstr "<primary><literal>Allow from</literal>, directive Apache</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Deny from</literal>, Apache directive</primary>"
msgstr "<primary><literal>Deny from</literal>, directive Apache</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><literal>Order</literal>, Apache directive</primary>"
msgstr "<primary><literal>Order</literal>, directive Apache</primary>"

#. Tag: para
#, no-c-format
msgid "The <literal>Order</literal> directive tells the server of the order in which the <literal>Allow from</literal> and <literal>Deny from</literal> directives are applied; the last one that matches takes precedence. In concrete terms, <literal>Order deny,allow</literal> allows access if no <literal>Deny from</literal> applies, or if an <literal>Allow from</literal> directive does. Conversely, <literal>Order allow,deny</literal> rejects access if no <literal>Allow from</literal> directive matches (or if a <literal>Deny from</literal> directive applies)."
msgstr "La directive <literal>Order</literal> indique dans quel ordre évaluer les directives <literal>Allow from</literal> et <literal>Deny from</literal> (et la dernière qui s'applique est retenue). Concrètement, <literal>Order deny,allow</literal> autorise l'accès si aucune des règles <literal>Deny from</literal> ne s'applique ou si une des règles <literal>Allow from</literal> s'applique. Inversement, <literal>Order allow,deny</literal> refuse l'accès si aucune directive <literal>Allow from</literal> ne l'autorise (ou si une directive <literal>Deny from</literal> s'applique)."

#. Tag: para
#, no-c-format
msgid "The <literal>Allow from</literal> and <literal>Deny from</literal> directives can be followed by an IP address, a network (such as <literal>192.168.0.0/255.255.255.0</literal>, <literal>192.168.0.0/24</literal> or even <literal>192.168.0</literal>), a hostname or a domain name, or the <literal>all</literal> keyword, designating everyone."
msgstr "Les directives <literal>Allow from</literal> et <literal>Deny from</literal> peuvent être suivies d'une adresse IP, d'un réseau (exemples : <literal>192.168.0.0/255.255.255.0</literal>, <literal>192.168.0.0/24</literal> et même <literal>192.168.0</literal>), d'un nom de machine ou de domaine, ou du mot-clé <literal>all</literal> désignant tout le monde."

#. Tag: title
#, no-c-format
msgid "Reject by default but allow from the local network"
msgstr "Interdire par défaut mais autoriser le réseau local"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Order deny,allow\n"
"Allow from 192.168.0.0/16\n"
"Deny from all\n"
msgstr ""
"\n"
"Order deny,allow\n"
"Allow from 192.168.0.0/16\n"
"Deny from all\n"

#. Tag: title
#, no-c-format
msgid "Log Analyzers"
msgstr "Analyseur de logs"

#. Tag: para
#, no-c-format
msgid "A log analyzer is frequently installed on a web server; since the former provides the administrators with a precise idea of the usage patterns of the latter."
msgstr "L'analyseur de logs est un compagnon fréquent du serveur web puisqu'il permet aux administrateurs d'avoir une idée plus précise de l'usage fait de ce service."

#. Tag: para
#, no-c-format
msgid "The Falcot Corp administrators selected <emphasis>AWStats</emphasis> (<emphasis>Advanced Web Statistics</emphasis>) to analyze their Apache log files."
msgstr "Les administrateurs de Falcot SA ont retenu <emphasis>AWStats</emphasis> (<foreignphrase>Advanced Web Statistics</foreignphrase>, ou statistiques web avancées) pour analyser les fichiers de logs d'Apache."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>AWStats</emphasis></primary>"
msgstr "<primary><emphasis>AWStats</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>web logs analyzer</primary>"
msgstr "<primary>analyseur de logs web</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>logs</primary><secondary>web logs analyzer</secondary>"
msgstr "<primary>logs</primary><secondary>web, analyseur</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>analyzer of web logs</primary>"
msgstr "<primary>analyseur de logs web</primary>"

#. Tag: para
#, no-c-format
msgid "The first configuration step is the customization of the <filename>/etc/awstats/awstats.conf</filename> file. The Falcot administrators keep it unchanged apart from the following parameters:"
msgstr "La première étape de la configuration consiste à créer le fichier <filename>/etc/awstats/awstats.conf</filename>.  Les administrateurs de Falcot n'ont modifié que les différents paramètres donnés ci-dessous :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"LogFile=\"/var/log/apache2/access.log\"\n"
"LogFormat = \"%virtualname %host %other %logname %time1 %methodurl %code %bytesd %refererquot %uaquot\"\n"
"SiteDomain=\"www.falcot.com\"\n"
"HostAliases=\"falcot.com REGEX[^.*\\.falcot\\.com$]\"\n"
"DNSLookup=1\n"
"LoadPlugin=\"tooltips\"\n"
msgstr ""
"\n"
"LogFile=\"/var/log/apache2/access.log\"\n"
"LogFormat = \"%virtualname %host %other %logname %time1 %methodurl %code %bytesd %refererquot %uaquot\"\n"
"SiteDomain=\"www.falcot.com\"\n"
"HostAliases=\"falcot.com REGEX[^.*\\.falcot\\.com$]\"\n"
"DNSLookup=1\n"
"LoadPlugin=\"tooltips\"\n"

#. Tag: para
#, no-c-format
msgid "All these parameters are documented by comments in the template file. In particular, the <varname>LogFile</varname> and <varname>LogFormat</varname> parameters describe the location and format of the log file and the information it contains; <varname>SiteDomain</varname> and <varname>HostAliases</varname> list the various names under which the main web site is known."
msgstr "Tous ces paramètres sont documentés par commentaires dans le fichier modèle. <varname>LogFile</varname> et <varname>LogFormat</varname> indiquent l'emplacement du fichier de log et les informations qu'il contient. Les paramètres <varname>SiteDomain</varname> et <varname>HostAliases</varname> indiquent les différents noms associés au site web principal."

#. Tag: para
#, no-c-format
msgid "For high traffic sites, <varname>DNSLookup</varname> should usually not be set to <literal>1</literal>; for smaller sites, such as the Falcot one described above, this setting allows getting more readable reports that include full machine names instead of raw IP addresses."
msgstr "Pour les sites à fort trafic, il est déconseillé de positionner <varname>DNSLookup</varname> à <literal>1</literal> comme dans l'exemple précédent. En revanche, pour les petits sites, ce réglage permet d'avoir des rapports plus lisibles qui emploient les noms complets des machines plutôt que leurs adresses IP."

#. Tag: title
#, no-c-format
msgid "<emphasis>SECURITY</emphasis> Access to statistics"
msgstr "<emphasis>SÉCURITÉ</emphasis> Accès aux statistiques"

#. Tag: para
#, no-c-format
msgid "AWStats makes its statistics available on the website with no restrictions by default, but restrictions can be set up so that only a few (probably internal) IP addresses can access them; the list of allowed IP addresses needs to be defined in the <varname>AllowAccessFromWebToFollowingIPAddresses</varname> parameter"
msgstr "Les statistiques d'AWStats sont disponibles sur le site web sans restrictions. On pourra le protéger de manière à ce que seules quelques adresses IP (internes probablement) puissent y accéder. Cela s'effectue en donnant la liste des adresses IP autorisées dans le paramètre <varname>AllowAccessFromWebToFollowingIPAddresses</varname>."

#. Tag: para
#, no-c-format
msgid "AWStats will also be enabled for other virtual hosts; each virtual host needs its own configuration file, such as <filename>/etc/awstats/awstats.www.falcot.org.conf</filename>."
msgstr "On activera AWStats pour d'autres hôtes virtuels, en créant un fichier spécifique par hôte, par exemple <filename>/etc/awstats/awstats.www.falcot.org.conf</filename>."

#. Tag: title
#, no-c-format
msgid "AWStats configuration file for a virtual host"
msgstr "Fichier de configuration pour un hôte virtuel"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Include \"/etc/awstats/awstats.conf\"\n"
"SiteDomain=\"www.falcot.org\"\n"
"HostAliases=\"falcot.org\"\n"
msgstr ""
"\n"
"Include \"/etc/awstats/awstats.conf\"\n"
"SiteDomain=\"www.falcot.org\"\n"
"HostAliases=\"falcot.org\"\n"

#. Tag: para
#, no-c-format
msgid "AWStats uses many icons stored in the <filename>/usr/share/awstats/icon/</filename> directory. In order for these icons to be available on the web site, the Apache configuration needs to be adapted to include the following directive:"
msgstr "AWStats emploie de nombreuses icônes stockées dans le répertoire <filename>/usr/share/awstats/icon/</filename>. Pour les rendre disponibles sur le site web, il faut modifier la configuration d'Apache et y ajouter la directive suivante :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"Alias /awstats-icon/ /usr/share/awstats/icon/\n"
msgstr ""
"\n"
"Alias /awstats-icon/ /usr/share/awstats/icon/\n"

#. Tag: para
#, no-c-format
msgid "After a few minutes (and once the script has been run a few times), the results are available online: <ulink type=\"block\" url=\"http://www.falcot.com/cgi-bin/awstats.pl\" /><ulink type=\"block\" url=\"http://www.falcot.org/cgi-bin/awstats.pl\" />"
msgstr "Après quelques minutes (et les premières exécutions du script), le résultat est accessible en ligne : <ulink type=\"block\" url=\"http://www.falcot.com/cgi-bin/awstats.pl\" /> <ulink type=\"block\" url=\"http://www.falcot.org/cgi-bin/awstats.pl\" />"

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Log file rotation"
msgstr "<emphasis>ATTENTION</emphasis> Rotation de logs"

#. Tag: para
#, no-c-format
msgid "In order for the statistics to take all the logs into account, <emphasis>AWStats</emphasis> needs to be run right before the Apache log files are rotated. Looking at the <literal>prerotate</literal> directive of <filename>/etc/logrotate.d/apache2</filename> file, this can be solved by putting a symlink to <filename>/usr/share/awstats/tools/update.sh</filename> in <filename>/etc/logrotate.d/httpd-prerotate</filename>:"
msgstr "Pour que les statistiques prennent en compte tous les logs, il est impératif qu'<emphasis>AWStats</emphasis> soit invoqué juste avant la rotation des fichiers de logs d'Apache.  Si l'on regarde la directive <emphasis>prerotate</emphasis> du fichier <filename>/etc/logrotate.d/apache2</filename>, on s'aperçoit qu'il suffit pour cela d'ajouter un lien symbolique vers <filename>/usr/share/awstats/tools/update.sh</filename> dans le répertoire <filename>/etc/logrotate.d/httpd-prerotate</filename> :"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"$ <userinput>cat /etc/logrotate.d/apache2</userinput>\n"
"/var/log/apache2/*.log {\n"
"  weekly\n"
"  missingok\n"
"  rotate 52\n"
"  compress\n"
"  delaycompress\n"
"  notifempty\n"
"  create 644 root adm\n"
"  sharedscripts\n"
"  postrotate\n"
"    /etc/init.d/apache2 reload &gt; /dev/null\n"
"  endscript\n"
"  prerotate\n"
"    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\n"
"      run-parts /etc/logrotate.d/httpd-prerotate; \\\n"
"    fi; \\\n"
"  endscript\n"
"}\n"
"$ <userinput>sudo mkdir -p /etc/logrotate.d/httpd-prerotate</userinput>\n"
"$ <userinput>sudo ln -sf /usr/share/awstats/tools/update.sh \\\n"
"  /etc/logrotate.d/httpd-prerotate/awstats</userinput>\n"
msgstr ""
"\n"
"$ <userinput>cat /etc/logrotate.d/apache2</userinput>\n"
"/var/log/apache2/*.log {\n"
"  weekly\n"
"  missingok\n"
"  rotate 52\n"
"  compress\n"
"  delaycompress\n"
"  notifempty\n"
"  create 644 root adm\n"
"  sharedscripts\n"
"  postrotate\n"
"    /etc/init.d/apache2 reload &gt; /dev/null\n"
"  endscript\n"
"  prerotate\n"
"    if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\n"
"      run-parts /etc/logrotate.d/httpd-prerotate; \\\n"
"    fi; \\\n"
"  endscript\n"
"}\n"
"$ <userinput>sudo mkdir -p /etc/logrotate.d/httpd-prerotate</userinput>\n"
"$ <userinput>sudo ln -sf /usr/share/awstats/tools/update.sh \\\n"
"  /etc/logrotate.d/httpd-prerotate/awstats</userinput>\n"

#. Tag: para
#, no-c-format
msgid "Note also that the log files created by <command>logrotate</command> need to be readable by everyone, especially AWStats. In the above example, this is ensured by the <literal>create 644 root adm</literal> line (instead of the default <literal>640</literal> permissions)."
msgstr "Au passage, il est bon de s'assurer que les fichiers de logs mis en place par <command>logrotate</command> soient lisibles par tout le monde (et notamment AWStats). Dans l'exemple ci-dessus, c'est effectivement le cas (voir la ligne <literal>create 644 root adm</literal>, qui diffère de la valeur 640 utilisée par défaut)."

#. Tag: title
#, no-c-format
msgid "FTP File Server"
msgstr "Serveur de fichiers FTP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>FTP (<emphasis>File Transfer Protocol</emphasis>)</primary>"
msgstr "<primary>FTP (<foreignphrase>File Transfer Protocol</foreignphrase>)</primary>"

#. Tag: para
#, no-c-format
msgid "FTP (<emphasis>File Transfer Protocol</emphasis>) is one of the first protocols of the Internet (RFC 959 was issued in 1985!). It was used to distribute files before the Web was even born (the HTTP protocol was created in 1990, and formally defined in its 1.0 version by RFC 1945, issued in 1996)."
msgstr "Le protocole de transfert de fichiers FTP (<foreignphrase>File Transfer Protocol</foreignphrase>) est un des premiers protocoles d'Internet (la RFC 959 date de 1985 !). Il a servi à diffuser des fichiers avant même l'invention du Web (la RFC 1945 décrivant le protocole HTTP/1.0 date de 1996 mais ce dernier existait depuis 1990)."

#. Tag: para
#, no-c-format
msgid "This protocol allows both file uploads and file downloads; for this reason, it is still widely used to deploy updates to a website hosted by one's Internet service provider (or any other entity hosting websites). In these cases, secure access is enforced with a user identifier and password; on successful authentication, the FTP server grants read-write access to that user's home directory."
msgstr "Ce protocole permet à la fois de déposer des fichiers et d'en récupérer. FTP est encore fréquemment employé pour déposer les mises à jour d'un site web hébergé par son fournisseur d'accès Internet (ou tout autre prestataire d'hébergement de site web). Dans ce cas, on emploie un identifiant et un mot de passe, puis le serveur FTP donne accès en lecture/écriture à son répertoire personnel."

#. Tag: para
#, no-c-format
msgid "Other FTP servers are mainly used to distribute files for public downloading; Debian packages are a good example. The contents of these servers is fetched from other, geographically remote, servers; it is then made available to less distant users. This means that client authentication is not required; as a consequence, this operating mode is known as “anonymous FTP”. To be perfectly correct, the clients do authenticate with the <literal>anonymous</literal> username; the password is often, by convention, the user's email address, but the server ignores it."
msgstr "D'autres serveurs FTP servent essentiellement à diffuser des fichiers que les gens souhaitent télécharger. C'est le cas, par exemple, avec les paquets Debian. Le contenu de ces serveurs FTP est récupéré depuis divers autres serveurs géographiquement éloignés et mis à disposition des utilisateurs locaux. Dans ce cas, l'authentification du client n'est pas nécessaire ; on parle de FTP anonyme et l'accès est en lecture seule. En réalité, le client s'authentifie avec le nom d'utilisateur <literal>anonymous</literal> et un mot de passe quelconque (qui est souvent, par convention, l'adresse électronique de l'usager)."

#. Tag: para
#, no-c-format
msgid "Many FTP servers are available in Debian (<emphasis role=\"pkg\">ftpd</emphasis>, <emphasis role=\"pkg\">proftpd-basic</emphasis>, <emphasis role=\"pkg\">pyftpd</emphasis> and so on). The Falcot Corp administrators picked <emphasis role=\"pkg\">vsftpd</emphasis> because they only use the FTP server to distribute a few files (including a Debian package repository); since they don't need advanced features, they chose to focus on the security aspects."
msgstr "De nombreux serveurs FTP sont disponibles dans Debian (<emphasis role=\"pkg\">ftpd</emphasis>, <emphasis role=\"pkg\">proftpd-basic</emphasis>, <emphasis role=\"pkg\">pyftpd</emphasis>, etc.). Le choix des administrateurs de Falcot SA s'est porté sur <emphasis role=\"pkg\">vsftpd</emphasis>. En effet, ils n'ont besoin du serveur FTP que pour diffuser quelques fichiers (dont un dépôt de paquets Debian) et ils n'avaient nullement besoin de pléthore de fonctionnalités. Ils ont donc privilégié l'aspect sécurité du logiciel."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">vsftpd</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">vsftpd</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Installing the package creates an <literal>ftp</literal> system user. This account is always used for anonymous FTP connections, and its home directory (<filename>/srv/ftp/</filename>) is the root of the tree made available to users connecting to this service. The default configuration (in <filename>/etc/vsftpd.conf</filename>) is very restrictive: it only allows read-only anonymous access (since the <literal>write_enable</literal> and <literal>anon_upload_enable</literal> options are disabled), and local users cannot connect with their usual username and password and access their own files (<literal>local_enable</literal> option). However, this default configuration is well-suited to the needs at Falcot Corp."
msgstr "L'installation du paquet entraîne la création d'un utilisateur système <literal>ftp</literal>. Ce compte est systématiquement employé pour gérer les connexions FTP anonymes et son répertoire personnel (<filename>/srv/ftp/</filename>) est la racine de l'arborescence mise à disposition des utilisateurs se connectant sur le service. La configuration par défaut (telle que détaillée dans <filename>/etc/vsftpd.conf</filename>) est très restrictive : elle ne permet que la lecture en accès anonyme (les options <literal>write_enable</literal> et <literal>anon_upload_enable</literal> ne sont pas activées) et il n'est pas possible aux utilisateurs locaux de se connecter avec leur identifiant et mot de passe habituels (option <literal>local_enable</literal>) pour accéder à leurs fichiers. Toutefois, cette configuration convient parfaitement pour l'usage de Falcot SA."

#. Tag: title
#, no-c-format
msgid "NFS File Server"
msgstr "Serveur de fichiers NFS"

#. Tag: para
#, no-c-format
msgid "NFS (<emphasis>Network File System</emphasis>) is a protocol allowing remote access to a filesystem through the network. All Unix systems can work with this protocol; when Windows systems are involved, Samba must be used instead."
msgstr "NFS (<foreignphrase>Network File System</foreignphrase>) est un protocole qui permet d'accéder à un système de fichiers à distance par le réseau, pris en charge par tous les systèmes Unix. Pour Windows, il faudra employer Samba."

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary>"
msgstr "<primary>NFS</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Network</emphasis></primary><secondary><emphasis>File System</emphasis></secondary>"
msgstr "<primary><foreignphrase>Network</foreignphrase></primary><secondary><foreignphrase>File System</foreignphrase></secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>filesystem</primary><secondary>network</secondary>"
msgstr "<primary>système</primary><secondary>de fichiers réseau</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>file</primary><secondary>server</secondary>"
msgstr "<primary>fichiers</primary><secondary>serveur de</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>server</primary><secondary>file</secondary>"
msgstr "<primary>serveur</primary><secondary>de fichiers</secondary>"

#. Tag: para
#, no-c-format
msgid "NFS is a very useful tool, but its shortcomings must be kept in mind especially where security matters are concerned: all data goes over the network in the clear (a <emphasis>sniffer</emphasis> can intercept it); the server enforces access restrictions based on the client's IP address (which can be spoofed); and finally, when a client machine is granted access to a misconfigured NFS share, the client's root user can access all the files on the share (even those belonging to other users) since the server trusts the username it receives from the client (this is a historical limitation of the protocol)."
msgstr "NFS est un outil fort utile mais il ne faut jamais oublier ses limitations, surtout en termes de sécurité : toutes les données circulent en clair sur le réseau (un <foreignphrase>sniffer</foreignphrase> peut donc les intercepter) ; le serveur restreint les accès en fonction de l'adresse IP du client, ce qui le rend vulnérable au <emphasis>spoofing</emphasis> (usurpation d'adresses IP) ; enfin, si une machine est autorisée à accéder à un système de fichiers NFS mal configuré, son utilisateur root peut accéder à tous les fichiers du partage (n'appartenant pas à root) puisque le serveur NFS utilise l'identifiant utilisateur que le client lui a communiqué (sans aucune vérification possible ; le protocole est ainsi conçu depuis le début)."

#. Tag: title
#, no-c-format
msgid "<emphasis>DOCUMENTATION</emphasis> NFS HOWTO"
msgstr "<emphasis>DOCUMENTATION</emphasis> NFS howto"

#. Tag: para
#, no-c-format
msgid "Even though it is relatively old, the NFS HOWTO is full of interesting information, including methods for optimizing performance. It also describes a way to secure NFS transfers with an SSH tunnel; however, that technique precludes the use of <command>lockd</command>. <ulink type=\"block\" url=\"http://nfs.sourceforge.net/nfs-howto/\" />"
msgstr "Malgré son grand âge, le NFS howto contient de nombreuses informations intéressantes, notamment des méthodes pour optimiser les performances de NFS. On y découvre aussi un moyen de sécuriser les transferts NFS à l'aide d'un tunnel SSH (mais cette technique ne permet pas d'employer <command>lockd</command>). <ulink type=\"block\" url=\"http://nfs.sourceforge.net/nfs-howto/\" />"

#. Tag: title
#, no-c-format
msgid "Securing NFS"
msgstr "Sécuriser NFS (au mieux)"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>security</secondary>"
msgstr "<primary>NFS</primary><secondary>sécurité</secondary>"

#. Tag: para
#, no-c-format
msgid "Since NFS trusts the information it receives from the network, it is vital to ensure that only the machines allowed to use it can connect to the various required RPC servers. The firewall must also block <emphasis>IP spoofing</emphasis> so as to prevent an outside machine from acting as an inside one, and access to the appropriate ports must be restricted to the machines meant to access the NFS shares."
msgstr "Étant donné que NFS fait confiance aux informations reçues par le réseau, il convient de s'assurer que seules les machines autorisées à l'employer peuvent se connecter aux différents serveurs RPC qui lui permettent de fonctionner. Le pare-feu doit donc prohiber le <foreignphrase>spoofing</foreignphrase> pour qu'une machine extérieure ne puisse pas se faire passer pour une machine intérieure et les différents ports employés doivent être restreints aux machines devant accéder aux partages NFS."

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> RPC"
msgstr "<emphasis>B.A.-BA</emphasis> RPC"

#. Tag: para
#, no-c-format
msgid "RPC (<emphasis>Remote Procedure Call</emphasis>) is a Unix standard for remote services. NFS is one such service."
msgstr "RPC (<foreignphrase>Remote Procedure Call</foreignphrase>, ou appel de procédure distante) est un standard Unix pour des services distants. NFS est un service RPC."

#. Tag: indexterm
#, no-c-format
msgid "<primary>RPC</primary>"
msgstr "<primary>RPC</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>Remote Procedure Call</emphasis></primary>"
msgstr "<primary><foreignphrase>Remote Procedure Call</foreignphrase></primary>"

#. Tag: para
#, no-c-format
msgid "RPC services register to a directory known as the <emphasis>portmapper</emphasis>. A client wishing to perform an NFS query first addresses the <emphasis>portmapper</emphasis> (on port 111, either TCP or UDP), and asks for the NFS server; the reply usually mentions port 2049 (the default for NFS). Not all RPC services necessarily use a fixed port."
msgstr "Les services RPC s'enregistrent dans un annuaire, le <foreignphrase>portmapper</foreignphrase>. Un client désireux d'effectuer une requête NFS s'adresse au <foreignphrase>portmapper</foreignphrase> (port 111 en TCP ou UDP) et lui demande où se trouve le serveur NFS. On lui répond généralement en indiquant le port 2 049 (port par défaut pour NFS). Tous les services RPC ne disposent pas nécessairement d'un port fixe."

#. Tag: para
#, no-c-format
msgid "Other RPC services may be required for NFS to work optimally, including <command>rpc.mountd</command>, <command>rpc.statd</command> and <command>lockd</command>. However, these services use a random port (assigned by the <emphasis>portmapper</emphasis>) by default, which makes it difficult to filter traffic targeting these services. The Falcot Corp administrators found a work-around for this problem, described below."
msgstr "D'autres services RPC sont nécessaires au fonctionnement optimal de NFS, notamment <command>rpc.mountd</command>, <command>rpc.statd</command> et <command>lockd</command>. Malheureusement, ils emploient par défaut un port aléatoire affecté par le <command>portmapper</command> et il est donc difficile de filtrer le trafic qui leur est destiné. Les administrateurs de Falcot SA ont trouvé une solution à ce problème."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>rpc.mountd</command></primary>"
msgstr "<primary><command>rpc.mountd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>rpc.statd</command></primary>"
msgstr "<primary><command>rpc.statd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>lockd</command></primary>"
msgstr "<primary><command>lockd</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>portmapper</command></primary>"
msgstr "<primary><command>portmapper</command></primary>"

#. Tag: para
#, no-c-format
msgid "The first two services mentioned above are implemented by user-space programs, started respectively by <filename>/etc/init.d/nfs-kernel-server</filename> and <filename>/etc/init.d/nfs-common</filename>. They provide configuration options to force ports; the relevant files to modify to always use these options are <filename>/etc/default/nfs-kernel-server</filename> and <filename>/etc/default/nfs-common</filename>."
msgstr "Les deux premiers services cités sont implémentés par des programmes utilisateur, démarrés respectivement par <filename>/etc/init.d/nfs-kernel-server</filename> et <filename>/etc/init.d/nfs-common</filename>. Ils disposent d'options pour forcer le choix des ports employés. Pour employer systématiquement les options adéquates, il faut modifier les fichiers <filename>/etc/default/nfs-kernel-server</filename> et <filename>/etc/default/nfs-common</filename>."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>nfs-kernel-server</emphasis></primary>"
msgstr "<primary><emphasis>nfs-kernel-server</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/default/nfs-kernel-server</filename></primary>"
msgstr "<primary><filename>/etc/default/nfs-kernel-server</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>nfs-common</filename></primary>"
msgstr "<primary><filename>nfs-common</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/default/nfs-common</filename></primary>"
msgstr "<primary><filename>/etc/default/nfs-common</filename></primary>"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/nfs-kernel-server</filename> file"
msgstr "Fichier <filename>/etc/default/nfs-kernel-server</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Number of servers to start up\n"
"RPCNFSDCOUNT=8\n"
"\n"
"# Runtime priority of server (see nice(1))\n"
"RPCNFSDPRIORITY=0\n"
"\n"
"# Options for rpc.mountd.\n"
"# If you have a port-based firewall, you might want to set up\n"
"# a fixed port here using the --port option. For more information, \n"
"# see rpc.mountd(8) or http://wiki.debian.org/SecuringNFS\n"
"# To disable NFSv4 on the server, specify '--no-nfs-version 4' here\n"
"RPCMOUNTDOPTS=\"--manage-gids --port 2048\"\n"
"\n"
"# Do you want to start the svcgssd daemon? It is only required for Kerberos\n"
"# exports. Valid alternatives are \"yes\" and \"no\"; the default is \"no\".\n"
"NEED_SVCGSSD=\n"
"\n"
"# Options for rpc.svcgssd.\n"
"RPCSVCGSSDOPTS=\n"
msgstr ""
"\n"
"# Number of servers to start up\n"
"RPCNFSDCOUNT=8\n"
"\n"
"# Runtime priority of server (see nice(1))\n"
"RPCNFSDPRIORITY=0\n"
"\n"
"# Options for rpc.mountd.\n"
"# If you have a port-based firewall, you might want to set up\n"
"# a fixed port here using the --port option. For more information, \n"
"# see rpc.mountd(8) or http://wiki.debian.org/SecuringNFS\n"
"# To disable NFSv4 on the server, specify '--no-nfs-version 4' here\n"
"RPCMOUNTDOPTS=\"--manage-gids --port 2048\"\n"
"\n"
"# Do you want to start the svcgssd daemon? It is only required for Kerberos\n"
"# exports. Valid alternatives are \"yes\" and \"no\"; the default is \"no\".\n"
"NEED_SVCGSSD=\n"
"\n"
"# Options for rpc.svcgssd.\n"
"RPCSVCGSSDOPTS=\n"

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/nfs-common</filename> file"
msgstr "Fichier <filename>/etc/default/nfs-common</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# If you do not set values for the NEED_ options, they will be attempted\n"
"# autodetected; this should be sufficient for most people. Valid alternatives\n"
"# for the NEED_ options are \"yes\" and \"no\".\n"
"\n"
"# Do you want to start the statd daemon? It is not needed for NFSv4.\n"
"NEED_STATD=\n"
"\n"
"# Options for rpc.statd.\n"
"#   Should rpc.statd listen on a specific port? This is especially useful\n"
"#   when you have a port-based firewall. To use a fixed port, set this\n"
"#   this variable to a statd argument like: \"--port 4000 --outgoing-port 4001\".\n"
"#   For more information, see rpc.statd(8) or http://wiki.debian.org/SecuringNFS\n"
"STATDOPTS=\"--port 2046 --outgoing-port 2047\"\n"
"\n"
"# Do you want to start the idmapd daemon? It is only needed for NFSv4.\n"
"NEED_IDMAPD=\n"
"\n"
"# Do you want to start the gssd daemon? It is required for Kerberos mounts.\n"
"NEED_GSSD=\n"
msgstr ""
"\n"
"# If you do not set values for the NEED_ options, they will be attempted\n"
"# autodetected; this should be sufficient for most people. Valid alternatives\n"
"# for the NEED_ options are \"yes\" and \"no\".\n"
"\n"
"# Do you want to start the statd daemon? It is not needed for NFSv4.\n"
"NEED_STATD=\n"
"\n"
"# Options for rpc.statd.\n"
"#   Should rpc.statd listen on a specific port? This is especially useful\n"
"#   when you have a port-based firewall. To use a fixed port, set this\n"
"#   this variable to a statd argument like: \"--port 4000 --outgoing-port 4001\".\n"
"#   For more information, see rpc.statd(8) or http://wiki.debian.org/SecuringNFS\n"
"STATDOPTS=\"--port 2046 --outgoing-port 2047\"\n"
"\n"
"# Do you want to start the idmapd daemon? It is only needed for NFSv4.\n"
"NEED_IDMAPD=\n"
"\n"
"# Do you want to start the gssd daemon? It is required for Kerberos mounts.\n"
"NEED_GSSD=\n"

#. Tag: para
#, no-c-format
msgid "Once these changes are made and the services are restarted, <command>rpc.mountd</command> uses port 2048; <command>rpc.statd</command> listens on port 2046 and uses port 2047 for outgoing connections."
msgstr "Après ces modifications et un redémarrage des services, <command>rpc.mountd</command> emploie le port 2 048 ; <command>rpc.statd</command> écoute le port 2 046 et utilise le port 2 047 pour les connexions sortantes."

#. Tag: para
#, no-c-format
msgid "The <command>lockd</command> service is handled by a kernel <emphasis>thread</emphasis> (lightweight process); this feature is built as a module on Debian kernels. The module has two options allowing to always choose the same port, <literal>nlm_udpport</literal> and <literal>nlm_tcpport</literal>. In order for these options to be systematically used, there needs to be a <filename>/etc/modprobe.d/lockd</filename> file such as the following:"
msgstr "Le service <command>lockd</command> est géré par un <foreignphrase>thread</foreignphrase> (processus léger) noyau, fonctionnalité compilée sous forme de module dans les noyaux Debian. Le module dispose également de deux options pour choisir systématiquement le même port : <literal>nlm_udpport</literal> et <literal>nlm_tcpport</literal>. Pour employer ces options automatiquement, il faut créer un fichier <filename>/etc/modprobe.d/lockd</filename> comme dans l'exemple ci-dessous."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/modprobe.d/lockd</filename> file"
msgstr "Fichier <filename>/etc/modprobe.d/lockd</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"options lockd nlm_udpport=2045 nlm_tcpport=2045\n"
msgstr ""
"\n"
"options lockd nlm_udpport=2045 nlm_tcpport=2045\n"

#. Tag: para
#, no-c-format
msgid "Once these parameters are set, it becomes easier to control access to the NFS service from the firewall in a fine-grained way by filtering access to ports 111 and 2045 through 2049 (both UDP and TCP)."
msgstr "Avec tous ces paramétrages, il est maintenant possible de contrôler plus finement les accès au service NFS grâce à un pare-feu. Ce sont les ports 111 et 2 045 à 2 049 (en UDP et en TCP) qui doivent faire l'objet d'attentions particulières."

#. Tag: title
#, no-c-format
msgid "NFS Server"
msgstr "Serveur NFS"

#. Tag: para
#, no-c-format
msgid "The NFS server is part of the Linux kernel; in kernels provided by Debian it is built as a kernel module. If the NFS server is to be run automatically on boot, the <emphasis role=\"pkg\">nfs-kernel-server</emphasis> package should be installed; it contains the relevant start-up scripts."
msgstr "Le serveur NFS est intégré au noyau Linux ; Debian le compile dans ses noyaux sous forme de module. Pour l'activer automatiquement à chaque démarrage, il faut installer le paquet <emphasis role=\"pkg\">nfs-kernel-server</emphasis>, qui contient les scripts d'initialisation adéquats."

#. Tag: para
#, no-c-format
msgid "The NFS server configuration file, <filename>/etc/exports</filename>, lists the directories that are made available over the network (<emphasis>exported</emphasis>). For each NFS share, only the given list of machines is granted access. More fine-grained access control can be obtained with a few options. The syntax for this file is quite simple:"
msgstr "Le fichier de configuration du serveur NFS, <filename>/etc/exports</filename>, donne les répertoires exportés à l'extérieur. À chaque partage NFS sont associées des machines qui ont le droit d'y accéder. Un certain nombre d'options permettent de dicter quelques règles d'accès. Le format de ce fichier est très simple :"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>exports</filename></primary>"
msgstr "<primary><filename>exports</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/exports</filename></primary>"
msgstr "<primary><filename>/etc/exports</filename></primary>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"/directory/to/share machine1(option1,option2,...) machine2(...) ...\n"
msgstr ""
"\n"
"/repertoire/a/partager machine1(option1,option2,...) machine2(...) ...\n"

#. Tag: para
#, no-c-format
msgid "Each machine can be identified either by its DNS name or its IP address. Whole sets of machines can also be specified using either a syntax such as <literal>*.falcot.com</literal> or an IP address range such as <literal>192.168.0.0/255.255.255.0</literal> or <literal>192.168.0.0/24</literal>."
msgstr "Chaque machine est identifiée par son nom DNS ou son adresse IP. Il est aussi possible de spécifier un ensemble de machines en employant la syntaxe <literal>*.falcot.com</literal> ou en décrivant une plage complète d'adresses IP (exemples : <literal>192.168.0.0/255.255.255.0</literal>, <literal>192.168.0.0/24</literal>)."

#. Tag: para
#, no-c-format
msgid "Directories are made available as read-only by default (or with the <literal>ro</literal> option). The <literal>rw</literal> option allows read-write access. NFS clients typically connect from a port restricted to root (in other words, below 1024); this restriction can be lifted by the <literal>insecure</literal> option (the <literal>secure</literal> option is implicit, but it can be made explicit if needed for clarity)."
msgstr "Par défaut, un partage n'est accessible qu'en lecture seule (option <literal>ro</literal> comme <foreignphrase>read only</foreignphrase>). L'option <literal>rw</literal> (comme <foreignphrase>read-write</foreignphrase>) donne un accès en lecture/écriture. Les clients NFS doivent se connecter depuis un port réservé à root (c'est-à-dire inférieur à 1 024) à moins que l'option <literal>insecure</literal> (pas sûr) n'ait été employée (l'option <literal>secure</literal> — sûr — est implicite en l'absence de <literal>insecure</literal>, mais on peut quand même la mentionner)."

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>options</secondary>"
msgstr "<primary>NFS</primary><secondary>options</secondary>"

#. Tag: para
#, no-c-format
msgid "By default, the server only answers an NFS query when the current disk operation is complete (<literal>sync</literal> option); this can be disabled with the <literal>async</literal> option. Asynchronous writes increase performance a bit, but they decrease reliability since there's a data loss risk in case of the server crashing between the acknowledgment of the write and the actual write on disk. Since the default value changed recently (as compared to the historical value of NFS), an explicit setting is recommended."
msgstr "Le serveur ne répond à une requête NFS que lorsque l'opération sur disque a été complétée (option <literal>sync</literal>). L'option <literal>async</literal> (asynchrone) désactive cette fonctionnalité et améliore quelque peu les performances, au détriment de la fiabilité puisqu'il subsiste alors un risque de perte de données en cas de <foreignphrase>crash</foreignphrase> du serveur (des données acquittées par le serveur NFS n'auront pas été sauvegardées sur le disque avant le <foreignphrase>crash</foreignphrase>). La valeur par défaut de cette option ayant changé récemment (par rapport à l'historique de NFS), il est recommandé de toujours mentionner explicitement l'option souhaitée."

#. Tag: para
#, no-c-format
msgid "In order to not give root access to the filesystem to any NFS client, all queries appearing to come from a root user are considered by the server as coming from the <literal>nobody</literal> user. This behavior corresponds to the <literal>root_squash</literal> option, and is enabled by default. The <literal>no_root_squash</literal> option, which disables this behavior, is risky and should only be used in controlled environments. The <literal>anonuid=<replaceable>uid</replaceable></literal> and <literal>anongid=<replaceable>gid</replaceable></literal> options allow specifying another fake user to be used instead of UID/GID 65534 (which corresponds to user <literal>nobody</literal> and group <literal>nogroup</literal>)."
msgstr "Pour ne pas donner un accès root au système de fichiers à n'importe quel client NFS, toutes les requêtes provenant d'un utilisateur root sont transformées en requêtes provenant de l'utilisateur <literal>nobody</literal>. Cette option (<literal>root_squash</literal>) est activée par défaut ; l'option inverse <literal>no_root_squash</literal> ne doit être employée qu'avec parcimonie étant donné les risques qu'elle comporte. Les options <literal>anonuid=<replaceable>uid</replaceable></literal> et <literal>anongid=<replaceable>gid</replaceable></literal> permettent d'employer un autre utilisateur écran à la place des UID/GID 65 534 (qui correspondent à l'utilisateur <literal>nobody</literal> et au groupe <literal>nogroup</literal>)."

#. Tag: para
#, no-c-format
msgid "Other options are available; they are documented in the <citerefentry><refentrytitle>exports</refentrytitle> <manvolnum>5</manvolnum></citerefentry> manual page."
msgstr "D'autres options existent encore, que vous découvrirez dans la page de manuel <citerefentry><refentrytitle>exports</refentrytitle><manvolnum>5</manvolnum></citerefentry>."

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> First installation"
msgstr "<emphasis>ATTENTION</emphasis> Première installation"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/init.d/nfs-kernel-server</filename> boot script only starts the server if the <filename>/etc/exports</filename> lists one or more valid NFS shares. On initial configuration, once this file has been edited to contain valid entries, the NFS server must therefore be started with the following command:"
msgstr "Le script <filename>/etc/init.d/nfs-kernel-server</filename> ne démarre rien si le fichier <filename>/etc/exports</filename> ne prévoit aucun partage NFS. C'est pourquoi il faut démarrer le serveur NFS juste après avoir rempli ce fichier pour la première fois :"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>/etc/init.d/nfs-kernel-server start</userinput>\n"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>/etc/init.d/nfs-kernel-server start</userinput>\n"

#. Tag: title
#, no-c-format
msgid "NFS Client"
msgstr "Client NFS"

#. Tag: indexterm
#, no-c-format
msgid "<primary>client</primary><secondary>NFS</secondary>"
msgstr "<primary>client</primary><secondary>NFS</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>NFS</primary><secondary>client</secondary>"
msgstr "<primary>NFS</primary><secondary>client</secondary>"

#. Tag: para
#, no-c-format
msgid "As with other filesystems, integrating an NFS share into the system hierarchy requires mounting. Since this filesystem has its peculiarities, a few adjustments were required in the syntaxes of the <command>mount</command> command and the <filename>/etc/fstab</filename> file."
msgstr "Comme tous les systèmes de fichiers, il est nécessaire de le monter pour l'intégrer dans l'arborescence du système. Étant donné qu'il s'agit d'un système de fichiers un peu particulier, il a fallu adapter la syntaxe habituelle de la commande <command>mount</command> et le format du fichier <filename>/etc/fstab</filename>."

#. Tag: title
#, no-c-format
msgid "Manually mounting with the <command>mount</command> command"
msgstr "Montage manuel avec la commande <command>mount</command>"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>mount -t nfs -o rw,nosuid arrakis.internal.falcot.com:/srv/shared /shared</userinput>"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>mount -t nfs -o rw,nosuid arrakis.interne.falcot.com:/srv/partage /partage</userinput>\n"

#. Tag: title
#, no-c-format
msgid "NFS entry in the <filename>/etc/fstab</filename> file"
msgstr "Entrée NFS dans le fichier <filename>/etc/fstab</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"arrakis.internal.falcot.com:/srv/shared /shared nfs rw,nosuid 0 0\n"
msgstr ""
"\n"
"arrakis.interne.falcot.com:/srv/partage /partage nfs rw,nosuid 0 0\n"

#. Tag: para
#, no-c-format
msgid "The entry described above mounts, at system startup, the <filename>/srv/shared/</filename> NFS directory from the <literal>arrakis</literal> server into the local <filename>/shared/</filename> directory. Read-write access is requested (hence the <literal>rw</literal> parameter). The <literal>nosuid</literal> option is a protection measure that wipes any <literal>setuid</literal> or <literal>setgid</literal> bit from programs stored on the share. If the NFS share is only meant to store documents, another recommended option is <literal>noexec</literal>, which prevents executing programs stored on the share."
msgstr "L'entrée ci-dessus monte automatiquement à chaque démarrage le répertoire NFS <filename>/srv/partage/</filename> présent sur le serveur <literal>arrakis</literal> dans le répertoire local <filename>/partage/</filename>. L'accès demandé est en lecture/écriture (paramètre <literal>rw</literal>). L'option <literal>nosuid</literal> est une mesure de protection qui supprime tout bit <literal>setuid</literal> ou <literal>setgid</literal> présent sur les programmes contenus dans le partage NFS. Si le répertoire NFS est dédié au stockage de documents, il est recommandé d'employer de plus l'option <literal>noexec</literal> qui empêche l'exécution de programmes par NFS."

#. Tag: para
#, no-c-format
msgid "The <citerefentry><refentrytitle>nfs</refentrytitle> <manvolnum>5</manvolnum></citerefentry> manual page describes all the options in some detail."
msgstr "La page de manuel <citerefentry><refentrytitle>nfs</refentrytitle><manvolnum>5</manvolnum></citerefentry> détaille toutes les options possibles."

#. Tag: title
#, no-c-format
msgid "Setting Up Windows Shares with Samba"
msgstr "Partage Windows avec Samba"

#. Tag: para
#, no-c-format
msgid "Samba is a suite of tools handling the SMB protocol (also known as “CIFS”) on Linux. This protocol is used by Windows for network shares and shared printers."
msgstr "Samba est une suite d'outils qui permettent de gérer le protocole SMB (aussi appelé « CIFS ») sous Linux.  Ce dernier est employé par Windows pour accéder aux partages réseau et aux imprimantes partagées."

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows share</primary>"
msgstr "<primary>partage Windows</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Samba</primary>"
msgstr "<primary>Samba</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>SMB</primary>"
msgstr "<primary>SMB</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>CIFS</primary>"
msgstr "<primary>CIFS</primary>"

#. Tag: para
#, no-c-format
msgid "Samba can also act as an Windows domain controller. This is an outstanding tool for ensuring seamless integration of Linux servers and the office desktop machines still running Windows."
msgstr "Samba sait également jouer le rôle de contrôleur de domaine Windows. C'est un outil extraordinaire pour assurer une cohabitation parfaite entre les serveurs sous Linux et les machines de bureautique encore sous Windows."

#. Tag: title
#, no-c-format
msgid "Samba Server"
msgstr "Samba en serveur"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">samba</emphasis> package contains the main two servers of Samba 3, <command>smbd</command> and <command>nmbd</command>."
msgstr "Le paquet Debian <emphasis role=\"pkg\">samba</emphasis> contient les deux principaux serveurs de Samba 3 (<command>smbd</command> et <command>nmbd</command>)."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>smbd</command></primary>"
msgstr "<primary><emphasis>smbd</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>nmbd</command></primary>"
msgstr "<primary><emphasis>nmbd</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Administrating Samba with SWAT"
msgstr "<emphasis>OUTIL</emphasis> Administrer Samba avec SWAT"

#. Tag: para
#, no-c-format
msgid "SWAT (<emphasis>Samba Web Administration Tool</emphasis>) is a web interface that allows configuring the Samba service. Since the <emphasis role=\"pkg\">swat</emphasis> package does not enable its configuration interface by default, it must be enabled manually with <command>update-inetd --enable swat</command>."
msgstr "SWAT (<foreignphrase>Samba Web Administration Tool</foreignphrase>, outil d'administration web de Samba) est une interface web permettant de configurer le service Samba. Le paquet Debian <emphasis role=\"pkg\">swat</emphasis> n'activant pas l'interface de configuration par défaut, il faut le faire manuellement en exécutant <command>update-inetd --enable swat</command>."

#. Tag: indexterm
#, no-c-format
msgid "<primary>SWAT</primary>"
msgstr "<primary>SWAT</primary>"

#. Tag: para
#, no-c-format
msgid "<emphasis>SWAT</emphasis> then becomes available at the <literal>http://localhost:901</literal> URL. Accessing it means using the root account (and its usual password). Note that SWAT rewrites the <filename>smb.conf</filename> in its own idiom, so it makes sense to make a backup copy beforehand if you're only interested in testing this tool."
msgstr "<emphasis>SWAT</emphasis> est alors accessible à l'URL <literal>http://localhost:901</literal>. Pour y accéder, il faut employer le compte root (et le mot de passe administrateur habituel). Attention cependant, SWAT réécrit le fichier <filename>smb.conf</filename> à sa manière pensez donc à en faire une copie préalable si vous ne faites qu'essayer cet outil."

#. Tag: para
#, no-c-format
msgid "SWAT is very user-friendly; its interface includes an assistant that allows defining the server's role in three questions. All global options can still be configured, as well as those for all the existing shares, and of course new shares can be added. Each option comes with a link to the relevant documentation."
msgstr "SWAT, très agréable à utiliser, dispose d'un assistant qui permet de définir le rôle du serveur en trois questions. Il est ensuite possible de configurer toutes les options globales ainsi que celles de tous les partages. On peut bien entendu créer de nouveaux partages. Chaque option est accompagnée d'un lien qui renvoie à la documentation correspondante."

#. Tag: para
#, no-c-format
msgid "Unfortunately SWAT is no longer actively maintained and will be dropped from the next version of Debian, known as <emphasis role=\"distribution\">Jessie</emphasis>."
msgstr "Malheureusement, plus personne ne maintient SWAT de manière active et il sera vraisemblablement supprimé de la prochaine version stable de Debian (<emphasis role=\"distribution\">Jessie</emphasis>)."

#. Tag: title
#, no-c-format
msgid "<emphasis>DOCUMENTATION</emphasis> Going further"
msgstr "<emphasis>DOCUMENTATION</emphasis> Pour aller plus loin"

#. Tag: para
#, no-c-format
msgid "The Samba server is extremely configurable and versatile, and can address a great many different use cases matching very different requirements and network architectures. This book only focuses on the use case where Samba is used as main domain controller, but it can also be a simple server on the domain and delegate authentication to the main controller (which could be a Windows server)."
msgstr "Le serveur Samba est extrêmement configurable et peut répondre à de très nombreux cas d'utilisation correspondant à des besoins et des architectures réseau très différents. Le cas traité dans ce livre utilise Samba comme contrôleur de domaine principal, mais il peut très bien n'être qu'un serveur du domaine déléguant l'authentification au contrôleur principal, qui serait un serveur Windows NT ou Windows Server 2003."

#. Tag: indexterm
#, no-c-format
msgid "<primary>domain controller</primary>"
msgstr "<primary>contrôleur de domaine</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows domain</primary>"
msgstr "<primary>domaine Windows</primary>"

#. Tag: para
#, no-c-format
msgid "The documentation available in the <emphasis role=\"pkg\">samba-doc</emphasis> package is very well written. In particular, the <citetitle><foreignphrase>Samba 3 By Example</foreignphrase></citetitle> document (available as <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-ByExample/index.html</filename>) deals with a concrete use case that evolves alongside the growing company."
msgstr "La documentation présente dans le paquet <emphasis role=\"pkg\">samba-doc</emphasis> est très bien faite. Nous citerons en particulier le document « <citetitle><foreignphrase>Samba 3 by example</foreignphrase></citetitle> » : <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-ByExample/index.html</filename>. Ce texte traite d'un cas concret, évoluant au fil de la croissance de l'entreprise."

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Authenticating with a Windows Server"
msgstr "<emphasis>OUTIL</emphasis> Authentifier à l'aide d'un serveur Windows"

#. Tag: para
#, no-c-format
msgid "Winbind gives system administrators the option of using a Windows server as an authentication server. Winbind also integrates cleanly with PAM and NSS. This allows setting up Linux machines where all users of a Windows domain automatically get an account."
msgstr "Winbind permet d'utiliser un serveur Windows comme serveur d'authentification et s'intègre à PAM et à NSS. Il est ainsi possible de mettre en place des machines Linux où tous les utilisateurs d'un domaine Windows disposeront automatiquement d'un compte."

#. Tag: indexterm
#, no-c-format
msgid "<primary>Winbind</primary>"
msgstr "<primary>Winbind</primary>"

#. Tag: para
#, no-c-format
msgid "More information can be found in the <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/winbind.html</filename> file."
msgstr "Vous trouverez plus d'informations à ce sujet dans le fichier <filename>/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/winbind.html</filename>."

#. Tag: title
#, no-c-format
msgid "Configuring with <command>debconf</command>"
msgstr "Configuration avec <command>debconf</command>"

#. Tag: para
#, no-c-format
msgid "The package sets up a minimal configuration based on the answers to a few Debconf questions asked during the initial installation; this configuration step can be replayed later with <command>dpkg-reconfigure samba-common samba</command>."
msgstr "Le paquet met en place une configuration minimale en posant quelques questions au cours de l'installation initiale. Il est possible de reprendre cette étape de la configuration avec la commande <command>dpkg-reconfigure samba-common samba</command>."

#. Tag: para
#, no-c-format
msgid "The first piece of required information is the name of the workgroup where the Samba server will belong (the answer is <literal>FALCOTNET</literal> in our case). Another question asks whether passwords should be encrypted. The answer is that they should, because it's a requirement for the most recent Windows clients; besides, this increases security. The counterpart is that this required managing Samba passwords separately from the Unix passwords."
msgstr "La première information demandée est le nom du groupe de travail auquel le serveur Samba appartient (dans notre cas, la réponse est <literal>FALCOTNET</literal>). Une autre question demande s'il faut employer les mots de passe chiffrés ; la réponse est « oui » : cela est nécessaire pour fonctionner avec les clients Windows les plus récents et cela augmente la sécurité (la contrepartie étant l'obligation de gérer les mots de passe des utilisateurs de manière séparée des mots de passe Unix)."

#. Tag: para
#, no-c-format
msgid "The package also proposes identifying the WINS server from the information provided by the DHCP daemon. The Falcot Corp administrators rejected this option, since they intend to use the Samba server itself as the WINS server."
msgstr "Le paquet propose également d'identifier le serveur WINS grâce aux informations fournies par le démon DHCP. Les administrateurs de Falcot ont refusé cette option, puisque leur intention était d'employer Samba pour jouer aussi le rôle de serveur WINS !"

#. Tag: indexterm
#, no-c-format
msgid "<primary>WINS</primary>"
msgstr "<primary>WINS</primary>"

#. Tag: para
#, no-c-format
msgid "The last question is about whether servers should be started by <command>inetd</command> or as stand-alone daemons. Using <command>inetd</command> is only interesting when Samba is rarely used; the Falcot administrators therefore picked stand-alone daemons."
msgstr "Finalement, l'ordinateur demande de choisir comment les démons sont démarrés : soit par l'intermédiaire de <command>inetd</command>, soit en tant que démons indépendants. Cette seconde option fut retenue parce que l'emploi d'<command>inetd</command> ne se justifie que si Samba est utilisé très occasionnellement, ce qui n'est pas le cas chez Falcot."

#. Tag: title
#, no-c-format
msgid "Configuring Manually"
msgstr "Configuration manuelle"

#. Tag: title
#, no-c-format
msgid "Changes to <filename>smb.conf</filename>"
msgstr "Modifications à <filename>smb.conf</filename>"

#. Tag: para
#, no-c-format
msgid "The requirements at Falcot require other options to be modified in the <filename>/etc/samba/smb.conf</filename> configuration file. The following excerpts summarize the changes that were effected in the <literal>[global]</literal> section."
msgstr "Pour adapter le serveur aux besoins de Falcot, il faut modifier d'autres options dans le fichier de configuration de Samba, <filename>/etc/samba/smb.conf</filename>. Les extraits ci-dessous résument les changements effectués au sein de la section <literal>[global]</literal>."

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[global]\n"
"\n"
"## Browsing/Identification ###\n"
"\n"
"# Change this to the workgroup/NT-domain name your Samba server will part of\n"
"   workgroup = FALCOTNET\n"
"\n"
"# server string is the equivalent of the NT Description field\n"
"   server string = %h server (Samba %v)\n"
"\n"
"# Windows Internet Name Serving Support Section:\n"
"# WINS Support - Tells the NMBD component of Samba to enable its WINS Server\n"
"   wins support = yes <co id=\"smb.conf.wins\"></co>\n"
"\n"
"[...]\n"
"\n"
"####### Authentication #######\n"
"\n"
"# \"security = user\" is always a good idea. This will require a Unix account\n"
"# in this server for every user accessing the server. See\n"
"# /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html \n"
"# in the samba-doc package for details.\n"
"   security = user <co id=\"smb.conf.security\"></co>\n"
"\n"
"# You may wish to use password encryption.  See the section on\n"
"# 'encrypt passwords' in the smb.conf(5) manpage before enabling.\n"
"   encrypt passwords = true\n"
"\n"
"# If you are using encrypted passwords, Samba will need to know what\n"
"# password database type you are using.\n"
"   passdb backend = tdbsam\n"
"\n"
"[...]\n"
"\n"
"########## Printing ##########\n"
"\n"
"# If you want to automatically load your printer list rather\n"
"# than setting them up individually then you'll need this\n"
"   load printers = yes <co id=\"smb.conf.loadprinters\"></co>\n"
"\n"
"# lpr(ng) printing. You may wish to override the location of the\n"
"# printcap file\n"
";   printing = bsd\n"
";   printcap name = /etc/printcap\n"
"\n"
"# CUPS printing.  See also the cupsaddsmb(8) manpage in the\n"
"# cups-client package.\n"
"   printing = cups <co id=\"smb.conf.printing\"></co>\n"
"   printcap name = cups\n"
msgstr ""
"\n"
"[global]\n"
"\n"
"## Browsing/Identification ###\n"
"\n"
"# Change this to the workgroup/NT-domain name your Samba server will part of\n"
"   workgroup = FALCOTNET\n"
"\n"
"# server string is the equivalent of the NT Description field\n"
"   server string = %h server (Samba %v)\n"
"\n"
"# Windows Internet Name Serving Support Section:\n"
"# WINS Support - Tells the NMBD component of Samba to enable its WINS Server\n"
"   wins support = yes <co id=\"smb.conf.wins\"></co>\n"
"\n"
"[...]\n"
"\n"
"####### Authentication #######\n"
"\n"
"# \"security = user\" is always a good idea. This will require a Unix account\n"
"# in this server for every user accessing the server. See\n"
"# /usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html \n"
"# in the samba-doc package for details.\n"
"   security = user <co id=\"smb.conf.security\"></co>\n"
"\n"
"# You may wish to use password encryption.  See the section on\n"
"# 'encrypt passwords' in the smb.conf(5) manpage before enabling.\n"
"   encrypt passwords = true\n"
"\n"
"# If you are using encrypted passwords, Samba will need to know what\n"
"# password database type you are using.\n"
"   passdb backend = tdbsam\n"
"\n"
"[...]\n"
"\n"
"########## Printing ##########\n"
"\n"
"# If you want to automatically load your printer list rather\n"
"# than setting them up individually then you'll need this\n"
"   load printers = yes <co id=\"smb.conf.loadprinters\"></co>\n"
"\n"
"# lpr(ng) printing. You may wish to override the location of the\n"
"# printcap file\n"
";   printing = bsd\n"
";   printcap name = /etc/printcap\n"
"\n"
"# CUPS printing.  See also the cupsaddsmb(8) manpage in the\n"
"# cups-client package.\n"
"   printing = cups <co id=\"smb.conf.printing\"></co>\n"
"   printcap name = cups\n"

#. Tag: para
#, no-c-format
msgid "Indicates that Samba should act as a Netbios name server (WINS) for the local network."
msgstr "Indique que Samba doit jouer le rôle de serveur de nom Netbios (Wins) pour le réseau local."

#. Tag: para
#, no-c-format
msgid "This is the default value for this parameter; however, since it is central to the Samba configuration, filling it explicitly is recommended. Each user must authenticate before accessing any share."
msgstr "C'est la valeur par défaut de ce paramètre. Comme il est central à la configuration de Samba, il est toutefois raisonnable de le renseigner de manière explicite. Chaque utilisateur doit s'authentifier avant de pouvoir accéder au moindre partage."

#. Tag: para
#, no-c-format
msgid "Tells Samba to automatically share all local printers that exist in the CUPS configuration. Restricting access to these printers is still possible, by adding appropriate sections."
msgstr "Demande à Samba de partager automatiquement toutes les imprimantes existantes en local dans la configuration de Cups. Il est toujours possible de restreindre les droits sur ces imprimantes en définissant des sections appropriées dans le fichier."

#. Tag: para
#, no-c-format
msgid "Specifies the printing system in use; in our case, CUPS."
msgstr "Documente le système d'impression employé, en l'occurrence Cups."

#. Tag: title
#, no-c-format
msgid "Adding Users"
msgstr "Ajout des utilisateurs"

#. Tag: para
#, no-c-format
msgid "Each Samba user needs an account on the server; the Unix accounts must be created first, then the user needs to be registered in Samba's database. The Unix step is done quite normally (using <command>adduser</command> for instance)."
msgstr "Chaque utilisateur de Samba ayant besoin d'un compte sur le serveur, il faut créer les comptes Unix puis enregistrer chaque utilisateur dans la base de données de Samba. La création des comptes Unix se fait tout à fait normalement (avec la commande <command>adduser</command> par exemple)."

#. Tag: para
#, no-c-format
msgid "Adding an existing user to the Samba database is a matter of running the <command>smbpasswd -a <replaceable>user</replaceable></command> command; this command asks for the password interactively."
msgstr "L'ajout d'un utilisateur existant dans la base de données de Samba s'effectue par la commande <command>smbpasswd -a <replaceable>utilisateur</replaceable></command>, qui demande le mot de passe interactivement."

#. Tag: para
#, no-c-format
msgid "A user can be deleted with the <command>smbpasswd -x <replaceable>user</replaceable></command> command. A Samba account can also be temporarily disabled (with <command>smbpasswd -d <replaceable>user</replaceable></command>) and re-enabled later (with <command>smbpasswd -e <replaceable>user</replaceable></command>)."
msgstr "On supprime un utilisateur avec la commande <command>smbpasswd -x <replaceable>utilisateur</replaceable></command>. Un compte Samba peut n'être que gelé quelque temps avec la commande <command>smbpasswd -d <replaceable>utilisateur</replaceable></command>, puis réactivé avec <command>smbpasswd -e <replaceable>utilisateur</replaceable></command>."

#. Tag: title
#, no-c-format
msgid "Switching to Domain Controller"
msgstr "Transformation en contrôleur de domaines"

#. Tag: para
#, no-c-format
msgid "This section documents how the Falcot administrators went even further, by turning the Samba server into a domain controller providing roaming profiles (which allow users to find their desktop no matter what machine they connect to)."
msgstr "Cette section indique comment les administrateurs de Falcot sont allés encore plus loin en transformant le serveur Samba en contrôleur de domaines offrant des profils errants (qui permettent aux utilisateurs de retrouver leur bureau quelle que soit la machine sur laquelle ils se connectent)."

#. Tag: indexterm
#, no-c-format
msgid "<primary>roaming profiles</primary>"
msgstr "<primary>profils errants</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>profiles, roaming</primary>"
msgstr "<primary>errants, profils</primary>"

#. Tag: para
#, no-c-format
msgid "They first added a few extra directives in the <literal>[global]</literal> section of the configuration file:"
msgstr "Tout d'abord, ils ont ajouté des directives supplémentaires dans la section <literal>[global]</literal> du fichier de configuration :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"domain logons = yes              <co id=\"smb.conf.domainlogons\"></co>\n"
"preferred master = yes           \n"
"logon path = \\\\%L\\profiles\\%U    <co id=\"smb.conf.logonpath\"></co>\n"
"logon script = scripts/logon.bat <co id=\"smb.conf.logonscript\"></co>\n"
msgstr ""
"\n"
"domain logons = yes              <co id=\"smb.conf.domainlogons\"></co>\n"
"preferred master = yes           \n"
"logon path = \\\\%L\\profiles\\%U    <co id=\"smb.conf.logonpath\"></co>\n"
"logon script = scripts/logon.bat <co id=\"smb.conf.logonscript\"></co>\n"

#. Tag: para
#, no-c-format
msgid "Enables the domain controller functionality."
msgstr "Active la fonctionnalité de contrôleur de domaine."

#. Tag: para
#, no-c-format
msgid "Specifies the location of the users' home directories. These are stored on a dedicated share, which allows enabling specific options (in particular, <literal>profile acls</literal>, a requirement for compatibility with Windows 2000, XP and Vista)."
msgstr "Indique l'emplacement des répertoires personnels des utilisateurs. Ceux-ci sont stockés sur un partage dédié afin de pouvoir activer des options spécifiques (en l'occurrence <literal>profile acls</literal>, qui est nécessaire pour la compatibilité avec Windows 2000, XP et probablement Vista)."

#. Tag: para
#, no-c-format
msgid "Specifies the <emphasis>batch</emphasis> (non-interactive) script that is to be run on the client Windows machine every time a session is opened. In this case, <filename>/var/lib/samba/netlogon/scripts/logon.bat</filename>. The script needs to be in DOS format, where the lines are separated by a carriage-return character and a line-feed character; if the file was created on Linux, running <command>unix2dos</command> will convert it."
msgstr "Indique le script <foreignphrase>batch</foreignphrase> (non interactif) à exécuter à chaque ouverture de session sur la machine Windows cliente. En l'occurrence, il s'agit de <filename>/var/lib/samba/netlogon/scripts/logon.bat</filename>. Le script doit être au format DOS (les lignes étant séparées par un retour chariot et un saut de ligne ; il suffit d'exécuter <command>unix2dos</command> sur le fichier créé depuis Linux pour s'en assurer)."

#. Tag: para
#, no-c-format
msgid "The commands used most widely in these scripts allow the automatic creation of network drives and synchronizing the system time."
msgstr "Les commandes les plus couramment employées dans ces scripts permettent de créer automatiquement des lecteurs réseau et de synchroniser l'heure de l'ordinateur."

#. Tag: title
#, no-c-format
msgid "The <filename>logon.bat</filename> file"
msgstr "Fichier <filename>logon.bat</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"net time \\\\ARRAKIS /set /yes\n"
"net use H: /home\n"
"net use U: \\\\ARRAKIS\\utils\n"
msgstr ""
"\n"
"net time \\\\ARRAKIS /set /yes\n"
"net use H: /home\n"
"net use U: \\\\ARRAKIS\\utils\n"

#. Tag: para
#, no-c-format
msgid "Two extra shares, and their associated directories, were also created:"
msgstr "Deux partages supplémentaires et leurs répertoires associés ont aussi été créés :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[netlogon]\n"
"comment = Network Logon Service\n"
"path = /var/lib/samba/netlogon\n"
"guest ok = yes\n"
"writable = no\n"
"share modes = no\n"
"\n"
"[profiles]\n"
"comment = Profile Share\n"
"path = /var/lib/samba/profiles\n"
"read only = No\n"
"profile acls = Yes\n"
msgstr ""
"\n"
"[netlogon]\n"
"comment = Network Logon Service\n"
"path = /var/lib/samba/netlogon\n"
"guest ok = yes\n"
"writable = no\n"
"share modes = no\n"
"\n"
"[profiles]\n"
"comment = Profile Share\n"
"path = /var/lib/samba/profiles\n"
"read only = No\n"
"profile acls = Yes\n"

#. Tag: para
#, no-c-format
msgid "The home directories for all users must also be created (as <filename>/var/lib/samba/profiles/<replaceable>user</replaceable></filename>), and each of them must be owned by the matching user."
msgstr "Il faut également créer les répertoires personnels de tous les utilisateurs (<filename>/var/lib/samba/profiles/<replaceable>utilisateur</replaceable></filename>), chacun d'entre eux devant être propriétaire de son répertoire personnel."

#. Tag: title
#, no-c-format
msgid "Samba Client"
msgstr "Samba en client"

#. Tag: para
#, no-c-format
msgid "The client features in Samba allow a Linux machine to access Windows shares and shared printers. The required programs are available in the <emphasis role=\"pkg\">cifs-utils</emphasis> and <emphasis role=\"pkg\">smbclient</emphasis> packages."
msgstr "Les fonctionnalités clientes de Samba donnent à une machine Linux l'accès à des partages Windows et à des imprimantes partagées. Les paquets Debian <emphasis role=\"pkg\">cifs-utils</emphasis> et <emphasis role=\"pkg\">smbclient</emphasis> regroupent les programmes clients nécessaires."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>smbclient</emphasis></primary>"
msgstr "<primary><emphasis>smbclient</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>cifs-utils</emphasis></primary>"
msgstr "<primary><emphasis>cifs-utils</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "The <command>smbclient</command> Program"
msgstr "Le programme <command>smbclient</command>"

#. Tag: para
#, no-c-format
msgid "The <command>smbclient</command> program queries SMB servers. It accepts a <literal>-U <replaceable>user</replaceable></literal> option, for connecting to the server under a specific identity. <command>smbclient //<replaceable>server</replaceable>/<replaceable>share</replaceable></command> accesses the share in an interactive way similar to the command-line FTP client. <command>smbclient -L <replaceable>server</replaceable></command> lists all available (and visible) shares on a server."
msgstr "Le programme <command>smbclient</command> interroge tous les serveurs SMB. Il accepte l'option <literal>-U <replaceable>utilisateur</replaceable></literal> pour se connecter au serveur sous une autre identité. <command>smbclient //<replaceable>serveur</replaceable>/<replaceable>partage</replaceable></command> accède au partage de manière interactive (comme le client FTP en ligne de commande). <command>smbclient -L <replaceable>serveur</replaceable></command> donne la liste des partages disponibles (et visibles)."

#. Tag: title
#, no-c-format
msgid "Mounting Windows Shares"
msgstr "Monter un partage Windows"

#. Tag: para
#, no-c-format
msgid "The <command>mount</command> command allows mounting a Windows share into the Linux filesystem hierarchy (with the help of <command>mount.cifs</command> provided by <emphasis role=\"pkg\">cifs-utils</emphasis>)."
msgstr "La commande <command>mount</command> permet de monter un partage Windows dans l'arborescence du système Linux, avec l'aide de <command>mount.cifs</command> fourni par <emphasis role=\"pkg\">cifs-utils</emphasis>)."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>mount.cifs</command></primary>"
msgstr "<primary><command>mount.cifs</command></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>Windows share, mounting</primary>"
msgstr "<primary>partage Windows, montage</primary>"

#. Tag: title
#, no-c-format
msgid "Mounting a Windows share"
msgstr "Montage d'un partage Windows"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"mount -t cifs //arrakis/shared /shared \\\n"
"      -o credentials=/etc/smb-credentials\n"
msgstr ""
"\n"
"mount -t cifs //arrakis/shared /shared \\\n"
"      -o credentials=/etc/smb-credentials\n"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/smb-credentials</filename> file (which must not be readable by users) has the following format:"
msgstr "Le fichier <filename>/etc/smb-credentials</filename> ne sera pas lisible par les utilisateurs et respectera le format suivant :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"username = <replaceable>user</replaceable>\n"
"password = <replaceable>password</replaceable>"
msgstr ""
"\n"
"username = <replaceable>utilisateur</replaceable>\n"
"password = <replaceable>mot_de_passe</replaceable>   \n"

#. Tag: para
#, no-c-format
msgid "Other options can be specified on the command-line; their full list is available in the <citerefentry><refentrytitle>mount.cifs</refentrytitle> <manvolnum>1</manvolnum></citerefentry> manual page. Two options in particular can be interesting: <literal>uid</literal> and <literal>gid</literal> allow forcing the owner and group of files available on the mount, so as not to restrict access to root."
msgstr "On peut préciser d'autres options sur la ligne de commande, que la page de manuel <citerefentry><refentrytitle>mount.cifs</refentrytitle><manvolnum>1</manvolnum></citerefentry> détaille. Deux options intéressantes permettent de forcer l'utilisateur (<literal>uid</literal>) et le groupe (<literal>gid</literal>) propriétaire des fichiers accessibles sur le montage afin de ne pas restreindre l'accès à root."

#. Tag: para
#, no-c-format
msgid "A mount of a Windows share can also be configured in <filename>/etc/fstab</filename>:"
msgstr "Il est aussi possible de configurer le montage d'un partage Windows dans <filename>/etc/fstab</filename> :"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"//<replaceable>server</replaceable>/shared /shared cifs credentials=/etc/smb-credentials\n"
msgstr "//<replaceable>serveur</replaceable>/shared /shared cifs credentials=/etc/smb-credentials\n"

#. Tag: para
#, no-c-format
msgid "Unmounting a SMB/CIFS share is done with the standard <command>umount</command> command."
msgstr "Un partage SMB/CIFS peut être démonté avec la commande <command>umount</command> standard."

#. Tag: title
#, no-c-format
msgid "Printing on a Shared Printer"
msgstr "Imprimer sur une imprimante partagée"

#. Tag: para
#, no-c-format
msgid "CUPS is an elegant solution for printing from a Linux workstation to a printer shared by a Windows machine. When the <emphasis role=\"pkg\">smbclient</emphasis> is installed, CUPS allows installing Windows shared printers automatically."
msgstr "Cups est une solution élégante pour imprimer sur une imprimante partagée par une machine Windows depuis un poste Linux. Si le paquet <emphasis role=\"pkg\">smbclient</emphasis> est installé, Cups offre la possibilité d'installer automatiquement une imprimante partagée par un poste Windows."

#. Tag: indexterm
#, no-c-format
msgid "<primary>printing</primary><secondary>network</secondary>"
msgstr "<primary>impression</primary><secondary>réseau</secondary>"

#. Tag: para
#, no-c-format
msgid "Here are the required steps:"
msgstr "Voici les étapes à suivre :"

#. Tag: para
#, no-c-format
msgid "Enter the CUPS configuration interface: <literal>http://localhost:631/admin</literal>"
msgstr "Entrer dans l'interface de configuration de CUPS : <literal>http://localhost:631/admin</literal>"

#. Tag: para
#, no-c-format
msgid "Click on “Add Printer”."
msgstr "Cliquer sur « Ajouter une imprimante »."

#. Tag: para
#, no-c-format
msgid "Choose the printer device, pick “Windows Printer via SAMBA”."
msgstr "Choisir le périphérique de l'imprimante : <guimenuitem>Windows Printer via SAMBA</guimenuitem>."

#. Tag: para
#, no-c-format
msgid "Enter the connection URI for the network printer. It should look like the following:"
msgstr "L'URI décrivant l'imprimante doit avoir la forme suivante :"

#. Tag: para
#, no-c-format
msgid "<literal>smb://<replaceable>user</replaceable>:<replaceable>password</replaceable>@<replaceable>server</replaceable>/<replaceable>printer</replaceable></literal>."
msgstr "<literal>smb://<replaceable>utilisateur</replaceable>:<replaceable>motdepasse</replaceable>@<replaceable>serveur</replaceable>/<replaceable>imprimante</replaceable></literal>."

#. Tag: para
#, no-c-format
msgid "Enter the name that will uniquely identify this printer. Then enter the description and location of the printer. Those are the strings that will be shown to end users to help them identify the printers."
msgstr "Saisir le nom qui identifiera cette imprimante de manière unique, puis une description pour cette imprimante et sa localisation.  Ces informations seront utiles aux utilisateurs, et leur permettront d'identifier les imprimantes."

#. Tag: para
#, no-c-format
msgid "Indicate the manufacturer/model of the printer, or directly provide a working printer description file (PPD)."
msgstr "Indiquer les noms du fabricant et du modèle de l'imprimante, ou fournir directement un fichier de description d'imprimante (PPD)."

#. Tag: para
#, no-c-format
msgid "Voilà, the printer is operational!"
msgstr "Et voilà, l'imprimante est fonctionnelle !"

#. Tag: title
#, no-c-format
msgid "HTTP/FTP Proxy"
msgstr "Mandataire HTTP/FTP"

#. Tag: para
#, no-c-format
msgid "An HTTP/FTP proxy acts as an intermediary for HTTP and/or FTP connections. Its role is twofold:"
msgstr "Un mandataire HTTP/FTP (ou proxy) est un intermédiaire pour les connexions HTTP et/ou FTP. Son rôle est double :"

#. Tag: para
#, no-c-format
msgid "Caching: recently downloaded documents are copied locally, which avoids multiple downloads."
msgstr "Celui de serveur cache : il garde une copie des documents téléchargés pour éviter de les rapatrier plusieurs fois."

#. Tag: para
#, no-c-format
msgid "Filtering server: if use of the proxy is mandated (and outgoing connections are blocked unless they go through the proxy), then the proxy can determine whether or not the request is to be granted."
msgstr "Celui de serveur filtrant s'il est obligatoire et que les connexions sortantes sont par ailleurs bloquées. En tant qu'intermédiaire inévitable, il a en effet la liberté d'effectuer ou non la requête demandée."

#. Tag: indexterm
#, no-c-format
msgid "<primary>HTTP/FTP proxy</primary>"
msgstr "<primary>mandataire HTTP/FTP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>proxy cache</primary>"
msgstr "<primary><foreignphrase>proxy cache</foreignphrase></primary>"

#. Tag: para
#, no-c-format
msgid "Falcot Corp selected Squid as their proxy server."
msgstr "Le serveur mandataire employé par Falcot SA est Squid."

#. Tag: indexterm
#, no-c-format
msgid "<primary>Squid</primary>"
msgstr "<primary>Squid</primary>"

#. Tag: title
#, no-c-format
msgid "Installing"
msgstr "Installation"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">squid</emphasis> Debian package only contains the modular (caching) proxy. Turning it into a filtering server requires installing the additional <emphasis role=\"pkg\">squidguard</emphasis> package. In addition, <emphasis role=\"pkg\">squid-cgi</emphasis> provides a querying and administration interface for a Squid proxy."
msgstr "Le paquet Debian <emphasis role=\"pkg\">squid</emphasis> n'est qu'un mandataire modulaire. Pour le transformer en serveur filtrant, il faut lui adjoindre le paquet <emphasis role=\"pkg\">squidguard</emphasis>. Le paquet <emphasis role=\"pkg\">squid-cgi</emphasis> permet d'interroger et d'administrer un mandataire Squid."

#. Tag: para
#, no-c-format
msgid "Prior to installing, care should be taken to check that the system can identify its own complete name: the <command>hostname -f</command> must return a fully-qualified name (including a domain). If it does not, then the <filename>/etc/hosts</filename> file should be edited to contain the full name of the system (for instance, <literal>arrakis.falcot.com</literal>). The official computer name should be validated with the network administrator in order to avoid potential name conflicts."
msgstr "Préalablement à l'installation, il faut vérifier que le système est capable d'identifier son nom complet. La commande <command>hostname -f</command> doit renvoyer un nom long (incluant un nom de domaine). Si ce n'est pas le cas, il faut modifier <filename>/etc/hosts</filename> pour documenter le nom complet du système (exemple : <literal>arrakis.falcot.com</literal>). N'hésitez pas à faire valider le nom officiel de l'ordinateur avec votre administrateur réseau afin de ne pas créer de conflits inutiles."

#. Tag: title
#, no-c-format
msgid "Configuring a Cache"
msgstr "Configuration d'un cache"

#. Tag: para
#, no-c-format
msgid "Enabling the caching server feature is a simple matter of editing the <filename>/etc/squid/squid.conf</filename> configuration file and allowing machines from the local network to run queries through the proxy. The following example shows the modifications made by the Falcot Corp administrators:"
msgstr "Pour activer la fonctionnalité de serveur cache, il suffit de modifier le fichier de configuration <filename>/etc/squid/squid.conf</filename> pour autoriser les machines du réseau local à effectuer des requêtes au travers du mandataire. L'exemple ci-dessous montre les modifications effectuées par les administrateurs de Falcot SA."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/squid/squid.conf</filename> file (excerpts)"
msgstr "Extrait du fichier <filename>/etc/squid/squid.conf</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n"
"\n"
"# Example rule allowing access from your local networks. Adapt\n"
"# to list your (internal) IP networks from where browsing should\n"
"# be allowed\n"
"acl our_networks src 192.168.1.0/24 192.168.2.0/24\n"
"http_access allow our_networks\n"
"http_access allow localhost\n"
"# And finally deny all other access to this proxy\n"
"http_access deny all\n"
msgstr ""
"\n"
"# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n"
"\n"
"# Example rule allowing access from your local networks. Adapt\n"
"# to list your (internal) IP networks from where browsing should\n"
"# be allowed\n"
"acl our_networks src 192.168.1.0/24 192.168.2.0/24\n"
"http_access allow our_networks\n"
"http_access allow localhost\n"
"# And finally deny all other access to this proxy\n"
"http_access deny all\n"

#. Tag: title
#, no-c-format
msgid "Configuring a Filter"
msgstr "Configuration d'un filtre"

#. Tag: para
#, no-c-format
msgid "<command>squid</command> itself does not perform the filtering; this action is delegated to <command>squidGuard</command>. The former must then be configured to interact with the latter. This involves adding the following directive to the <filename>/etc/squid/squid.conf</filename> file:"
msgstr "Le filtrage des requêtes n'est pas effectué par <command>squid</command> mais par <command>squidGuard</command>. Il faut donc configurer <command>squid</command> pour qu'il interagisse avec ce dernier, ce qui s'effectue en ajoutant au fichier <filename>/etc/squid/squid.conf</filename> la directive ci-dessous :"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>squidGuard</command></primary>"
msgstr "<primary><command>squidGuard</command></primary>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"redirect_program /usr/bin/squidGuard -c /etc/squid/squidGuard.conf \n"
msgstr ""
"\n"
"redirect_program /usr/bin/squidGuard -c /etc/squid/squidGuard.conf \n"

#. Tag: para
#, no-c-format
msgid "The <filename>/usr/lib/cgi-bin/squidGuard.cgi</filename> CGI program also needs to be installed, using <filename>/usr/share/doc/squidguard/examples/squidGuard.cgi.gz</filename> as a starting point. Required modifications to this script are the <varname>$proxy</varname> and <varname>$proxymaster</varname> variables (the name of the proxy and the administrator's contact e-mail, respectively). The <varname>$image</varname> and <varname>$redirect</varname> variables should point to existing images representing the rejection of a query."
msgstr "Il faut également installer le programme CGI <filename>/usr/lib/cgi-bin/squidGuard.cgi</filename> à partir du fichier d'exemple <filename>squidGuard.cgi.gz</filename>, que l'on trouve dans le répertoire <filename>/usr/share/doc/squidguard/examples/</filename>. On modifiera ce script en changeant les variables <varname>$proxy</varname> (nom du serveur mandataire) et <varname>$proxymaster</varname> (courrier électronique de contact de l'administrateur). Les variables <varname>$image</varname> et <varname>$redirect</varname> devront pointer sur des images existantes, symbolisant le refus d'accéder à la page demandée."

#. Tag: para
#, no-c-format
msgid "The filter is enabled with the <command>/etc/init.d/squid reload</command> command. However, since the <emphasis role=\"pkg\">squidguard</emphasis> package does no filtering by default, it is the administrator's task to define the policy. This can be done by creating the <filename>/etc/squid/squidGuard.conf</filename> file (using <filename>/etc/squidguard/squidGuard.conf.default</filename> as template if required)."
msgstr "La commande <command>/etc/init.d/squid reload</command> active le filtre. Le paquet <emphasis role=\"pkg\">squidguard</emphasis> n'offrant aucun filtrage par défaut,  l'administrateur a la responsabilité de le définir. Pour cela, il doit créer le fichier <filename>/etc/squid/squidGuard.conf</filename>, en utilisant éventuellement <filename>/etc/squidguard/squidGuard.conf.default</filename> comme modèle."

#. Tag: para
#, no-c-format
msgid "The working database must be regenerated with <command>update-squidguard</command> after each change of the <command>squidGuard</command> configuration file (or one of the lists of domains or URLs it mentions). The configuration file syntax is documented on the following website: <ulink type=\"block\" url=\"http://www.squidguard.org/Doc/configure.html\" />"
msgstr "Après chaque modification du fichier de configuration de <command>squidGuard</command> ou de l'une des listes de domaines ou d'URL qu'il mentionne, il est nécessaire de régénérer la base de données de travail. Cela s'effectue en exécutant la commande <command>update-squidguard</command>. Le format du fichier de configuration est documenté sur le site web ci-dessous : <ulink type=\"block\" url=\"http://www.squidguard.org/Doc/configure.html\" />"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>update-squidguard</command></primary>"
msgstr "<primary><command>update-squidguard</command></primary>"

#. Tag: title
#, no-c-format
msgid "<emphasis>ALTERNATIVE</emphasis> DansGuardian"
msgstr "<emphasis>ALTERNATIVE</emphasis> DansGuardian"

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">dansguardian</emphasis></primary>"
msgstr "<primary><emphasis role=\"pkg\">dansguardian</emphasis></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>PICS</primary>"
msgstr "<primary>PICS</primary>"

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">dansguardian</emphasis> package is an alternative to <emphasis>squidguard</emphasis>. This software does not simply handle a black-list of forbidden URLs, but it can take advantage of the PICS system (<emphasis>Platform for Internet Content Selection</emphasis>) to decide whether a page is acceptable by dynamic analysis of its contents."
msgstr "Le paquet <emphasis role=\"pkg\">dansguardian</emphasis> constitue une alternative à <emphasis>squidguard</emphasis>. Ce logiciel ne se contente pas de gérer une liste noire d'URL interdites, il est capable de gérer le système de notation PICS (<foreignphrase>Platform for Internet Content Selection</foreignphrase> — plate-forme pour la sélection de contenu Internet) et de décider si une page est acceptable ou non en analysant dynamiquement son contenu."

#. Tag: title
#, no-c-format
msgid "LDAP Directory"
msgstr "Annuaire LDAP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDAP</primary>"
msgstr "<primary>LDAP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>OpenLDAP</primary>"
msgstr "<primary>OpenLDAP</primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>directory, LDAP</primary>"
msgstr "<primary>annuaire LDAP</primary>"

#. Tag: para
#, no-c-format
msgid "OpenLDAP is an implementation of the LDAP protocol; in other words, it's a special-purpose database designed for storing directories. In the most common use case, using an LDAP server allows centralizing management of user accounts and the related permissions. Moreover, an LDAP database is easily replicated, which allows setting up multiple synchronized LDAP servers. When the network and the user base grows quickly, the load can then be balanced across several servers."
msgstr "OpenLDAP implémente le protocole LDAP ; ce n'est qu'une base de données adaptée pour gérer des annuaires. Son intérêt est multiple : l'emploi d'un serveur LDAP aide à centraliser la gestion des comptes des utilisateurs et des droits associés. De plus, la base de données LDAP est facile à dupliquer, ce qui permet de mettre en place plusieurs serveurs synchronisés. En cas de croissance rapide du réseau, il sera aisé de monter en puissance en répartissant la charge sur plusieurs serveurs."

#. Tag: para
#, no-c-format
msgid "LDAP data is structured and hierarchical. The structure is defined by “schemas” which describe the kind of objects that the database can store, with a list of all their possible attributes. The syntax used to refer to a particular object in the database is based on this structure, which explains its complexity."
msgstr "Les données LDAP sont structurées et hiérarchisées. Les « schémas » définissent les objets que la base peut stocker avec la liste de tous les attributs possibles. La syntaxe qui permet de désigner un objet de la base traduit cette structure, même si elle n'est pas aisée à maîtriser."

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">slapd</emphasis> package contains the OpenLDAP server. The <emphasis role=\"pkg\">ldap-utils</emphasis> package includes command-line tools for interacting with LDAP servers."
msgstr "Le paquet <emphasis role=\"pkg\">slapd</emphasis> contient le serveur OpenLDAP. Le paquet <emphasis role=\"pkg\">ldap-utils</emphasis> renferme des utilitaires en ligne de commande pour interagir avec les serveurs LDAP."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>slapd</emphasis></primary>"
msgstr "<primary><emphasis>slapd</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Installing <emphasis role=\"pkg\">slapd</emphasis> is usually non-interactive unless you have configured debconf to display questions with lower priorities. Nevertheless, it is debconf-enabled, and thus a simple <command>dpkg-reconfigure slapd</command> can reconfigure the LDAP database:"
msgstr "L'installation du paquet <emphasis role=\"pkg\">slapd</emphasis> est généralement non interactive, sauf si debconf a été configuré pour poser des questions de basse priorité.  Le paquet utilisant debconf, il est toutefois possible de le reconfigurer avec <command>dpkg-reconfigure slapd</command>."

#. Tag: para
#, no-c-format
msgid "Omit OpenLDAP server configuration? No, of course, we want to configure this service."
msgstr "Faut-il ignorer la configuration de <command>slapd</command> ? Non bien sûr, nous allons configurer ce service."

#. Tag: para
#, no-c-format
msgid "DNS domain name: “<literal>falcot.com</literal>”."
msgstr "Quel est le nom de domaine ? « <literal>falcot.com</literal> »."

#. Tag: para
#, no-c-format
msgid "Organization name: “Falcot Corp”."
msgstr "Quel est le nom de l'organisation ? « Falcot SA »."

#. Tag: para
#, no-c-format
msgid "An administrative passwords needs to be typed in."
msgstr "Il faut saisir un mot de passe administrateur pour la base de données."

#. Tag: para
#, no-c-format
msgid "Database backend to use: “HDB”."
msgstr "Module de base de données à utiliser ? « HDB »."

#. Tag: para
#, no-c-format
msgid "Do you want the database to be removed when <emphasis role=\"pkg\">slapd</emphasis> is purged? No. No point in risking losing the database in case of a mistake."
msgstr "La base doit-elle être supprimée si le paquet <command>slapd</command> est supprimé ? Non. Mieux vaut éviter de perdre ces données suite à une mauvaise manipulation."

#. Tag: para
#, no-c-format
msgid "Move old database? This question is only asked when the configuration is attempted while a database already exists. Only answer “yes” if you actually want to start again from a clean database, for instance if you run <command>dpkg-reconfigure slapd</command> right after the initial installation."
msgstr "Faut-il déplacer l'ancienne base de données ? Cette question n'est posée que si l'on déclenche une nouvelle configuration alors qu'une base de données existe déjà. Ne répondre « oui » que si l'on veut effectivement repartir d'une base propre, par exemple si l'on exécute <command>dpkg-reconfigure slapd</command> juste après l'installation initiale."

#. Tag: para
#, no-c-format
msgid "Allow LDAPv2 protocol? No, there's no point in that. All the tools we're going to use understand the LDAPv3 protocol."
msgstr "Faut-il autoriser LDAPv2 ? Non, ce n'est pas la peine. Tous les outils que nous employons connaissent LDAPv3."

#. Tag: title
#, no-c-format
msgid "<emphasis>BACK TO BASICS</emphasis> LDIF format"
msgstr "<emphasis>B.A.-BA</emphasis> Format LDIF"

#. Tag: para
#, no-c-format
msgid "An LDIF file (<emphasis>LDAP Data Interchange Format</emphasis>) is a portable text file describing the contents of an LDAP database (or a portion thereof); this can then be used to inject the data into any other LDAP server."
msgstr "Un fichier LDIF (<foreignphrase>LDAP Data Interchange Format</foreignphrase>, ou format d'échange de données de LDAP) est un fichier textuel portable décrivant le contenu (ou une partie de celui-ci) d'une base de données LDAP afin de pouvoir intégrer les données dans n'importe quel autre serveur LDAP."

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDIF</primary>"
msgstr "<primary>LDIF</primary>"

#. Tag: para
#, no-c-format
msgid "A minimal database is now configured, as demonstrated by the following query:"
msgstr "Une base de données minimale est maintenant configurée, ce qu'on peut vérifier en l'interrogeant directement :"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput>$ </computeroutput><userinput>ldapsearch -x -b dc=falcot,dc=com</userinput>\n"
"<computeroutput># extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base &lt;dc=falcot,dc=com&gt; with scope sub\n"
"# filter: (objectclass=*)\n"
"# requesting: ALL\n"
"#\n"
"\n"
"# falcot.com\n"
"dn: dc=falcot,dc=com\n"
"objectClass: top\n"
"objectClass: dcObject\n"
"objectClass: organization\n"
"o: Falcot Corp\n"
"dc: falcot\n"
"\n"
"# admin, falcot.com\n"
"dn: cn=admin,dc=falcot,dc=com\n"
"objectClass: simpleSecurityObject\n"
"objectClass: organizationalRole\n"
"cn: admin\n"
"description: LDAP administrator\n"
"\n"
"# search result\n"
"search: 2\n"
"result: 0 Success\n"
"\n"
"# numResponses: 3\n"
"# numEntries: 2\n"
"</computeroutput>\n"
msgstr ""
"\n"
"<computeroutput>$ </computeroutput><userinput>ldapsearch -x -b dc=falcot,dc=com</userinput>\n"
"<computeroutput># extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base &lt;dc=falcot,dc=com&gt; with scope sub\n"
"# filter: (objectclass=*)\n"
"# requesting: ALL\n"
"#\n"
"\n"
"# falcot.com\n"
"dn: dc=falcot,dc=com\n"
"objectClass: top\n"
"objectClass: dcObject\n"
"objectClass: organization\n"
"o: Falcot SA\n"
"dc: falcot\n"
"\n"
"# admin, falcot.com\n"
"dn: cn=admin,dc=falcot,dc=com\n"
"objectClass: simpleSecurityObject\n"
"objectClass: organizationalRole\n"
"cn: admin\n"
"description: LDAP administrator\n"
"\n"
"# search result\n"
"search: 2\n"
"result: 0 Success\n"
"\n"
"# numResponses: 3\n"
"# numEntries: 2\n"
"</computeroutput>\n"

#. Tag: para
#, no-c-format
msgid "The query returned two objects: the organization itself, and the administrative user."
msgstr "La requête a renvoyé deux objets : l'organisation dans son ensemble et l'administrateur."

#. Tag: title
#, no-c-format
msgid "Filling in the Directory"
msgstr "Remplissage de l'annuaire"

#. Tag: para
#, no-c-format
msgid "Since an empty database is not particularly useful, we're going to inject into it all the existing directories; this includes the users, groups, services and hosts databases."
msgstr "La base de données vide n'ayant pas grand intérêt, il s'agit maintenant d'y intégrer l'ensemble des annuaires existants, notamment les utilisateurs, groupes, services et hôtes."

#. Tag: para
#, no-c-format
msgid "The <emphasis role=\"pkg\">migrationtools</emphasis> package provides a set of scripts dedicated to extract data from the standard Unix directories (<filename>/etc/passwd</filename>, <filename>/etc/group</filename>, <filename>/etc/services</filename>, <filename>/etc/hosts</filename> and so on), convert this data, and inject it into the LDAP database."
msgstr "Le paquet Debian <emphasis role=\"pkg\">migrationtools</emphasis> offre un ensemble de scripts qui permettent justement de récupérer les informations depuis les annuaires Unix standards (<filename>/etc/passwd</filename>, <filename>/etc/group</filename>, <filename>/etc/services</filename>, <filename>/etc/hosts</filename>, etc.) puis de les intégrer dans la base de données LDAP."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis role=\"pkg\">migrationtools</emphasis></primary>"
msgstr "<primary><emphasis>migrationtools</emphasis></primary>"

#. Tag: para
#, no-c-format
msgid "Once the package is installed, the <filename>/etc/migrationtools/migrate_common.ph</filename> must be edited; the <varname>IGNORE_UID_BELOW</varname> and <varname>IGNORE_GID_BELOW</varname> options need to be enabled (uncommenting them is enough), and <varname>DEFAULT_MAIL_DOMAIN</varname>/<varname>DEFAULT_BASE</varname> need to be updated."
msgstr "Après installation du paquet, il faut éditer le fichier <filename>/etc/migrationtools/migrate_common.ph</filename> pour activer les options <varname>IGNORE_UID_BELOW</varname> et <varname>IGNORE_GID_BELOW</varname> (qu'il suffit de décommenter) et mettre à jour <varname>DEFAULT_MAIL_DOMAIN</varname>/<varname>DEFAULT_BASE</varname>."

#. Tag: para
#, no-c-format
msgid "The actual migration operation is handled by the <command>migrate_all_online.sh</command> command, as follows:"
msgstr "La mise à jour à proprement parler se fait en exécutant la commande <command>migrate_all_online.sh</command> comme suit :"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<computeroutput># </computeroutput><userinput>cd /usr/share/migrationtools</userinput>\n"
"<computeroutput># </computeroutput><userinput>LDAPADD=\"/usr/bin/ldapadd -c\" ETC_ALIASES=/dev/null ./migrate_all_online.sh</userinput>\n"
msgstr ""
"\n"
"<computeroutput># </computeroutput><userinput>cd /usr/share/migrationtools</userinput>\n"
"<computeroutput># </computeroutput><userinput>LDAPADD=\"/usr/bin/ldapadd -c\" ETC_ALIASES=/dev/null ./migrate_all_online.sh</userinput>\n"

#. Tag: para
#, no-c-format
msgid "The <command>migrate_all_online.sh</command> asks a few questions about the LDAP database into which the data is to be migrated. <xref linkend=\"tab-migrate-all\" xrefstyle=\"select: label nopage\" /> summarizes the answers given in the Falcot use-case."
msgstr "Le script <command>migrate_all_online.sh</command> pose plusieurs questions auxquelles il faut répondre correctement pour indiquer la base de données LDAP dans laquelle les données vont être intégrées. Le <xref linkend=\"tab-migrate-all\" xrefstyle=\"select: label nopage\" /> résume les réponses données dans le cas de Falcot."

#. Tag: title
#, no-c-format
msgid "Answers to questions asked by the <command>migrate_all_online.sh</command> script"
msgstr "Réponses aux questions du script <command>migrate_all_online.sh</command>"

#. Tag: entry
#, no-c-format
msgid "Question"
msgstr "Question"

#. Tag: entry
#, no-c-format
msgid "Answer"
msgstr "Réponse"

#. Tag: entry
#, no-c-format
msgid "X.500 naming context"
msgstr "<foreignphrase>X.500 naming context</foreignphrase>"

#. Tag: entry
#, no-c-format
msgid "<literal>dc=falcot,dc=com</literal>"
msgstr "<literal>dc=falcot,dc=com</literal>"

#. Tag: entry
#, no-c-format
msgid "LDAP server hostname"
msgstr "<foreignphrase>LDAP server hostname</foreignphrase>"

#. Tag: entry
#, no-c-format
msgid "<literal>localhost</literal>"
msgstr "<literal>localhost</literal>"

#. Tag: entry
#, no-c-format
msgid "Manager DN"
msgstr "<foreignphrase>Manager DN</foreignphrase>"

#. Tag: entry
#, no-c-format
msgid "<literal>cn=admin,dc=falcot,dc=com</literal>"
msgstr "<literal>cn=admin,dc=falcot,dc=com</literal>"

#. Tag: entry
#, no-c-format
msgid "Bind credentials"
msgstr "<foreignphrase>Bind credentials</foreignphrase>"

#. Tag: entry
#, no-c-format
msgid "the administrative password"
msgstr "le mot de passe administrateur"

#. Tag: entry
#, no-c-format
msgid "Create DUAConfigProfile"
msgstr "<foreignphrase>Create DUAConfigProfile</foreignphrase>"

#. Tag: entry
#, no-c-format
msgid "no"
msgstr "<foreignphrase>no</foreignphrase>"

#. Tag: para
#, no-c-format
msgid "We deliberately ignore migration of the <filename>/etc/aliases</filename> file, since the standard schema as provided by Debian does not include the structures that this script uses to describe email aliases. Should we want to integrate this data into the directory, the <filename>/etc/ldap/schema/misc.schema</filename> file should be added to the standard schema."
msgstr "La migration du fichier <filename>/etc/aliases</filename> est volontairement ignorée parce que le schéma standard (installé par Debian) ne comprend pas les structures employées par ce script pour décrire les alias de courrier électronique. S'il est nécessaire d'intégrer cette information dans la base de données LDAP, il faudra ajouter le fichier <filename>/etc/ldap/schema/misc.schema</filename> comme schéma standard."

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> Browsing an LDAP directory"
msgstr "<emphasis>OUTIL</emphasis> Explorer un annuaire LDAP"

#. Tag: para
#, no-c-format
msgid "The <command>jxplorer</command> command (in the package of the same name) is a graphical tool allowing to browse and edit an LDAP database. It's an interesting tool that provides an administrator with a good overview of the hierarchical structure of the LDAP data."
msgstr "Le programme <command>jxplorer</command> (du paquet Debian éponyme) est un outil graphique qui permet d'explorer et de modifier une base de données LDAP. Il est intéressant et aide notamment à mieux se représenter la structure hiérarchique des données LDAP."

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>jxplorer</command></primary>"
msgstr "<primary><command>jxplorer</command></primary>"

#. Tag: para
#, no-c-format
msgid "Also note the use of the <literal>-c</literal> option to the <command>ldapadd</command> command; this option requests that processing doesn't stop in case of error. Using this option is required because converting the <filename>/etc/services</filename> often generates a few errors that can safely be ignored."
msgstr "On peut également noter l'emploi de l'option <literal>-c</literal> de la commande <command>ldapadd</command> lui demandant de ne pas s'interrompre en cas d'erreur. Elle est nécessaire car la conversion du fichier <filename>/etc/services</filename> génère quelques erreurs que l'on peut ignorer sans soucis."

#. Tag: title
#, no-c-format
msgid "Managing Accounts with LDAP"
msgstr "Utiliser LDAP pour gérer les comptes"

#. Tag: para
#, no-c-format
msgid "Now the LDAP database contains some useful information, the time has come to make use of this data. This section focuses on how to configure a Linux system so that the various system directories use the LDAP database."
msgstr "Maintenant que la base de données LDAP contient des informations, il est temps de les utiliser. Cette section explique comment paramétrer un système Linux afin que les différents annuaires système emploient la base de données LDAP de manière transparente."

#. Tag: title
#, no-c-format
msgid "Configuring NSS"
msgstr "Configuration de NSS"

#. Tag: para
#, no-c-format
msgid "The NSS system (Name Service Switch, see sidebar <xref linkend=\"sidebar.intro-nss\" />) is a modular system designed to define or fetch information for system directories. Using LDAP as a source of data for NSS requires installing the <emphasis role=\"pkg\">libnss-ldap</emphasis> package. Its installation asks a few questions; the answers are summarized in <xref linkend=\"tab-libnss-ldap\" xrefstyle=\"select: label nopage\" />."
msgstr "NSS (<foreignphrase>Name Service Switch</foreignphrase>, ou multiplexeur de service de noms, voir encadré <xref linkend=\"sidebar.intro-nss\" />) est un système modulaire pour définir ou récupérer les informations des annuaires système. Pour utiliser LDAP comme une source de données NSS, il faut mettre en place le paquet <emphasis role=\"pkg\">libnss-ldap</emphasis>. Son installation pose plusieurs questions dont les réponses sont résumées dans le <xref linkend=\"tab-libnss-ldap\" xrefstyle=\"select: label nopage\" />."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>libnss-ldap</emphasis></primary>"
msgstr "<primary><emphasis>libnss-ldap</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Configuring the <emphasis role=\"pkg\">libnss-ldap</emphasis> package"
msgstr "Configuration du paquet <emphasis>libnss-ldap</emphasis>"

#. Tag: entry
#, no-c-format
msgid "LDAP server Uniform Resource Identifier"
msgstr "URI du serveur LDAP"

#. Tag: entry
#, no-c-format
msgid "<literal>ldap://ldap.falcot.com</literal>"
msgstr "<literal>ldap://ldap.falcot.com</literal>"

#. Tag: entry
#, no-c-format
msgid "Distinguished name of the search base"
msgstr "Nom distinctif de la base de recherche"

#. Tag: entry
#, no-c-format
msgid "LDAP version to use"
msgstr "Version de LDAP à utiliser"

#. Tag: entry
#, no-c-format
msgid "<literal>3</literal>"
msgstr "<literal>3</literal>"

#. Tag: entry
#, no-c-format
msgid "Does the LDAP database require login?"
msgstr "La base demande-t-elle un <foreignphrase>login</foreignphrase> ?"

#. Tag: entry
#, no-c-format
msgid "Special LDAP privileges for root"
msgstr "Donner les privilèges de superutilisateur local au compte administrateur LDAP ?"

#. Tag: entry
#, no-c-format
msgid "yes"
msgstr "oui"

#. Tag: entry
#, no-c-format
msgid "Make the configuration file readable/writeable by its owner only"
msgstr "Rendre le fichier de configuration lisible et modifiable uniquement par son propriétaire ?"

#. Tag: entry
#, no-c-format
msgid "LDAP account for root"
msgstr "Compte LDAP pour le super-utilisateur (root)"

#. Tag: entry
#, no-c-format
msgid "LDAP root account password"
msgstr "Mot de passe du compte super-utilisateur LDAP"

#. Tag: para
#, no-c-format
msgid "The <filename>/etc/nsswitch.conf</filename> file then needs to be modified, so as to configure NSS to use the freshly-installed <command>ldap</command> module."
msgstr "Il faut ensuite modifier le fichier <filename>/etc/nsswitch.conf</filename> pour lui indiquer d'employer le module <command>ldap</command> fraîchement installé."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/nsswitch.conf</filename> file"
msgstr "Fichier <filename>/etc/nsswitch.conf</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# /etc/nsswitch.conf\n"
"#\n"
"# Example configuration of GNU Name Service Switch functionality.\n"
"# If you have the `glibc-doc' and `info' packages installed, try:\n"
"# `info libc \"Name Service Switch\"' for information about this file.\n"
"\n"
"passwd: ldap compat\n"
"group: ldap compat\n"
"shadow: ldap compat\n"
"\n"
"hosts: files dns ldap\n"
"networks: ldap files\n"
"\n"
"protocols: ldap db files\n"
"services: ldap db files\n"
"ethers: ldap db files\n"
"rpc: ldap db files\n"
"\n"
"netgroup: ldap files\n"
msgstr ""
"\n"
"# /etc/nsswitch.conf\n"
"#\n"
"# Example configuration of GNU Name Service Switch functionality.\n"
"# If you have the `glibc-doc' and `info' packages installed, try:\n"
"# `info libc \"Name Service Switch\"' for information about this file.\n"
"\n"
"passwd: ldap compat\n"
"group: ldap compat\n"
"shadow: ldap compat\n"
"\n"
"hosts: files dns ldap\n"
"networks: ldap files\n"
"\n"
"protocols: ldap db files\n"
"services: ldap db files\n"
"ethers: ldap db files\n"
"rpc: ldap db files\n"
"\n"
"netgroup: ldap files\n"

#. Tag: para
#, no-c-format
msgid "The <command>ldap</command> module is usually inserted before others, and it will therefore be queried first. The notable exception is the <literal>hosts</literal> service since contacting the LDAP server requires consulting DNS first (to resolve <literal>ldap.falcot.com</literal>). Without this exception, a hostname query would try to ask the LDAP server; this would trigger a name resolution for the LDAP server, and so on in an infinite loop."
msgstr "Le module <command>ldap</command>, systématiquement ajouté au début, est donc consulté en premier. Le service <literal>hosts</literal> fait exception puisque pour contacter le serveur LDAP, il faut consulter le DNS au préalable (pour résoudre <literal>ldap.falcot.com</literal>). Sans cette précaution, une requête de résolution de nom de machine consulterait le serveur LDAP, ce qui déclencherait une résolution du nom du serveur LDAP, etc. produisant une boucle infinie."

#. Tag: para
#, no-c-format
msgid "If the LDAP server should be considered authoritative (and the local files used by the <command>files</command> module disregarded), services can be configured with the following syntax:"
msgstr "Si l'on souhaite que le serveur LDAP soit la référence unique (et ne pas prendre en compte les fichiers locaux employés par le module <emphasis>files</emphasis>), il est possible de configurer chaque service avec la syntaxe :"

#. Tag: para
#, no-c-format
msgid "<literal><replaceable>service</replaceable>: ldap [NOTFOUND=return] files</literal>."
msgstr "<literal><replaceable>service</replaceable>: ldap [NOTFOUND=return] files</literal>."

#. Tag: para
#, no-c-format
msgid "If the requested entry does not exist in the LDAP database, the query will return a “not existing” reply even if the resource does exist in one of the local files; these local files will only be used when the LDAP service is down."
msgstr "Si l'entrée demandée n'existe pas dans le serveur LDAP, la réponse sera « n'existe pas » même si la ressource existe dans l'un des fichiers locaux, qui ne seront employés que lorsque le service LDAP sera hors d'usage."

#. Tag: title
#, no-c-format
msgid "Configuring PAM"
msgstr "Configuration de PAM"

#. Tag: para
#, no-c-format
msgid "This section describes a PAM configuration (see sidebar <xref linkend=\"sidebar.intro-pam\" />) that will allow applications to perform the required authentications against the LDAP database."
msgstr "La configuration de PAM (voir l'encadré <xref linkend=\"sidebar.intro-pam\" />) proposée dans cette section permettra aux applications d'effectuer les authentifications nécessaires à partir des données de la base LDAP."

#. Tag: title
#, no-c-format
msgid "<emphasis>CAUTION</emphasis> Broken authentication"
msgstr "<emphasis>ATTENTION</emphasis> Impossible de s'identifier"

#. Tag: para
#, no-c-format
msgid "Changing the standard PAM configuration used by various programs is a sensitive operation. A mistake can lead to broken authentication, which could prevent logging in. Keeping a root shell open is therefore a good precaution. If configuration errors occur, they can be then fixed and the services restarted with minimal effort."
msgstr "Le changement de la configuration PAM standard employée par les divers programmes est une opération sensible. En cas de mauvaise manipulation, il peut être impossible de s'authentifier, donc de se connecter. Pensez donc à garder un shell root ouvert en parallèle pour corriger vos erreurs le cas échéant."

#. Tag: para
#, no-c-format
msgid "The LDAP module for PAM is provided by the <emphasis role=\"pkg\">libpam-ldap</emphasis> package. Installing this package asks a few questions very similar to those in <emphasis role=\"pkg\">libnss-ldap</emphasis>; some configuration parameters (such as the URI for the LDAP server) are even actually shared with the <emphasis role=\"pkg\">libnss-ldap</emphasis> package. Answers are summarized in <xref linkend=\"tab-libpam-ldap\" xrefstyle=\"select: label nopage\" />."
msgstr "Il faut installer le module LDAP pour PAM, qui se trouve dans le paquet Debian <emphasis role=\"pkg\">libpam-ldap</emphasis>. Son installation pose des questions similaires à celles de <emphasis role=\"pkg\">libnss-ldap</emphasis>, et, d'ailleurs certains paramètres de configuration (comme l'URI du serveur LDAP) sont tout simplement partagés avec le paquet <emphasis role=\"pkg\">libnss-ldap</emphasis>. Les réponses sont résumées dans le <xref linkend=\"tab-libpam-ldap\" xrefstyle=\"select: label nopage\" />."

#. Tag: indexterm
#, no-c-format
msgid "<primary><emphasis>libpam-ldap</emphasis></primary>"
msgstr "<primary><emphasis>libpam-ldap</emphasis></primary>"

#. Tag: title
#, no-c-format
msgid "Configuration of <emphasis>libpam-ldap</emphasis>"
msgstr "Configuration de <emphasis>libpam-ldap</emphasis>"

#. Tag: entry
#, no-c-format
msgid "Allow LDAP admin account to behave like local root?"
msgstr "Le superutilisateur local doit-il être un administrateur de la base LDAP ?"

#. Tag: entry
#, no-c-format
msgid "Yes. This allows using the usual <command>passwd</command> command for changing passwords stored in the LDAP database."
msgstr "oui. Cela permet d'utiliser la commande <command>passwd</command> habituelle pour changer les mots de passe stockés dans la base LDAP."

#. Tag: entry
#, no-c-format
msgid "Does the LDAP database require logging in?"
msgstr "La base LDAP demande-t-elle une identification ?"

#. Tag: entry
#, no-c-format
msgid "the LDAP database administrative password"
msgstr "le mot de passe administrateur de la base LDAP"

#. Tag: entry
#, no-c-format
msgid "Local encryption algorithm to use for passwords"
msgstr "Algorithme de chiffrement à utiliser localement pour les mots de passe"

#. Tag: entry
#, no-c-format
msgid "crypt"
msgstr "crypt"

#. Tag: para
#, no-c-format
msgid "Installing <emphasis role=\"pkg\">libpam-ldap</emphasis> automatically adapts the default PAM configuration defined in the <filename>/etc/pam.d/common-auth</filename>, <filename>/etc/pam.d/common-password</filename> and <filename>/etc/pam.d/common-account</filename> files. This mechanism uses the dedicated <command>pam-auth-update</command> tool (provided by the <emphasis role=\"pkg\">libpam-runtime</emphasis> package). This tool can also be run by the administrator should they wish to enable or disable PAM modules."
msgstr "L'installation de <emphasis>libpam-ldap</emphasis> adapte automatiquement la configuration PAM par défaut définie dans les fichiers <filename>/etc/pam.d/common-auth</filename>, <filename>/etc/pam.d/common-password</filename> et <filename>/etc/pam.d/common-account</filename>. Pour effectuer cela, le paquet s'appuie sur l'utilitaire <command>pam-auth-update</command> prévu à cet usage et fourni par le paquet <emphasis role=\"pkg\">libpam-runtime</emphasis>. L'administrateur peut également exécuter <command>pam-auth-update</command> pour activer et désactiver à sa guise les modules PAM présents sur le système."

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-auth</filename></primary>"
msgstr "<primary><filename>common-auth</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-auth</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-auth</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-password</filename></primary>"
msgstr "<primary><filename>common-password</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-password</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-password</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>common-account</filename></primary>"
msgstr "<primary><filename>common-account</filename></primary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><filename>/etc/pam.d/common-account</filename></primary>"
msgstr "<primary><filename>/etc/pam.d/common-account</filename></primary>"

#. Tag: title
#, no-c-format
msgid "Securing LDAP Data Exchanges"
msgstr "Sécuriser les échanges de données LDAP"

#. Tag: indexterm
#, no-c-format
msgid "<primary>LDAP</primary><secondary>secure</secondary>"
msgstr "<primary>LDAP</primary><secondary>sécurisé</secondary>"

#. Tag: para
#, no-c-format
msgid "By default, the LDAP protocol transits on the network as cleartext; this includes the (encrypted) passwords. Since the encrypted passwords can be extracted from the network, they can be vulnerable to dictionary-type attacks. This can be avoided by using an extra encryption layer; enabling this layer is the topic of this section."
msgstr "LDAP est par défaut transporté en clair sur le réseau, ce qui signifie que les mots de passe chiffrés circulent sans précaution particulière. Repérables, ils peuvent donc subir une attaque de type dictionnaire. Pour éviter ce désagrément, il convient d'employer une couche supplémentaire de chiffrement et cette section détaille comment procéder."

#. Tag: title
#, no-c-format
msgid "Configuring the Server"
msgstr "Configuration côté serveur"

#. Tag: indexterm
#, no-c-format
msgid "<primary><foreignphrase>OpenSSL</foreignphrase></primary><secondary>creating keys</secondary>"
msgstr "<primary><foreignphrase>OpenSSL</foreignphrase></primary> <secondary>création de clefs</secondary>"

#. Tag: indexterm
#, no-c-format
msgid "<primary>key pair</primary>"
msgstr "<primary><filename>biclé</filename></primary>"

#. Tag: para
#, no-c-format
msgid "The first step is to create a key pair (comprising a public key and a private key) for the LDAP server. The Falcot administrators reuse <emphasis>easy-rsa</emphasis> to generate it (see <xref linkend=\"sect.easy-rsa\" />). Running <command>./build-server-key ldap.falcot.com</command> asks a few mundane questions (location, organization name and so on). The answer to the “common name” question <emphasis>must</emphasis> be the fully-qualified hostname for the LDAP server; in our case, <literal>ldap.falcot.com</literal>."
msgstr "La première étape consiste à créer une biclé (la publique et la privée) pour LDAP.  Pour cela, les administrateurs de Falcot réutilisent <emphasis>easy-rsa</emphasis> (voir la <xref linkend=\"sect.easy-rsa\" />).  L'exécution de la commande <command>./build-server-key ldap.falcot.com</command> pose plusieurs questions banales (lieu, nom de l'organisation, etc.).  Il est impératif de répondre à la question <guimenuitem>Common Name</guimenuitem> le nom complet du serveur LDAP ; en l'occurrence il s'agit donc de <literal>ldap.falcot.com</literal>."

#. Tag: para
#, no-c-format
msgid "This command creates a certificate in the <filename>keys/ldap.falcot.com.crt</filename> file; the corresponding private key is stored in <filename>keys/ldap.falcot.com.key</filename>."
msgstr "La commande précédente a généré un certificat dans le fichier <filename>keys/ldap.falcot.com.crt</filename> et la clé privée correspondante est stockée dans <filename>keys/ldap.falcot.com.key</filename>."

#. Tag: para
#, no-c-format
msgid "Now these keys have to be installed in their standard location, and we must make sure that the private file is readable by the LDAP server which runs under the <literal>openldap</literal> user identity:"
msgstr "Maintenant que ces clés ont été installées à leur emplacement standard, il faut s'assurer que le fichier contenant leur partie privée est lisible par le serveur LDAP, qui fonctionne avec l'identité utilisateur <literal>openldap</literal> :"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>adduser openldap ssl-cert</userinput>\n"
"Adding user `openldap' to group `ssl-cert' ...\n"
"Adding user openldap to group ssl-cert\n"
"Done.\n"
"# <userinput>mv keys/ldap.falcot.com.key /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chown root:ssl-cert /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chmod 0640 /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>mv newcert.pem /etc/ssl/certs/ldap.falcot.com.pem</userinput>\n"
msgstr ""
"# <userinput>adduser openldap ssl-cert</userinput>\n"
"Ajout de l'utilisateur « openldap » au groupe « ssl-cert »...\n"
"Ajout de l'utilisateur openldap au groupe ssl-cert\n"
"Fait.\n"
"# <userinput>mv keys/ldap.falcot.com.key /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chown root:ssl-cert /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>chmod 0640 /etc/ssl/private/ldap.falcot.com.key</userinput>\n"
"# <userinput>mv newcert.pem /etc/ssl/certs/ldap.falcot.com.pem</userinput>\n"

#. Tag: para
#, no-c-format
msgid "The <command>slapd</command> daemon also needs to be told to use these keys for encryption. The LDAP server configuration is managed dynamically: the configuration can be updated with normal LDAP operations on the <literal>cn=config</literal> object hierarchy, and the server updates <filename>/etc/ldap/slapd.d</filename> in real time to make the configuration persistent. <command>ldapmodify</command> is thus the right tool to update the configuration:"
msgstr "Le démon <command>slapd</command> doit aussi être configuré pour utiliser ces clés de chiffrement.  La configuration du serveur LDAP est gérée de manière dynamique : comme elle est stockée dans une partie dédiée de l'annuaire, elle peut être mise à jour avec des opérations LDAP normales sur cette hiérarchie <literal>cn=config</literal> (et le serveur met à jour <filename>/etc/ldap/slapd.d</filename> à la volée pour rendre cette configuration persistante).  Pour modifier la configuration, on utilisera donc <command>ldapmodify</command> :"

#. Tag: title
#, no-c-format
msgid "Configuring <command>slapd</command> for encryption"
msgstr "Configuration de <command>slapd</command> pour la prise en charge du chiffrement"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>cat &gt;ssl.ldif &lt;&lt;END\n"
"dn: cn=config\n"
"changetype: modify\n"
"add: olcTLSCertificateFile\n"
"olcTLSCertificateFile: /etc/ssl/certs/ldap.falcot.com.pem\n"
"-\n"
"add: olcTLSCertificateKeyFile\n"
"olcTLSCertificateKeyFile: /etc/ssl/private/ldap.falcot.com.key\n"
"-\n"
"END</userinput>\n"
"# <userinput>ldapmodify -Y EXTERNAL -H ldapi:/// -f ssl.ldif</userinput>\n"
"SASL/EXTERNAL authentication started\n"
"SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth\n"
"SASL SSF: 0\n"
"modifying entry \"cn=config\"\n"
msgstr ""
"\n"
"# <userinput>cat &gt;ssl.ldif &lt;&lt;END\n"
"dn: cn=config\n"
"changetype: modify\n"
"add: olcTLSCertificateFile\n"
"olcTLSCertificateFile: /etc/ssl/certs/ldap.falcot.com.pem\n"
"-\n"
"add: olcTLSCertificateKeyFile\n"
"olcTLSCertificateKeyFile: /etc/ssl/private/ldap.falcot.com.key\n"
"-\n"
"END</userinput>\n"
"# <userinput>ldapmodify -Y EXTERNAL -H ldapi:/// -f ssl.ldif</userinput>\n"
"SASL/EXTERNAL authentication started\n"
"SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth\n"
"SASL SSF: 0\n"
"modifying entry \"cn=config\"\n"

#. Tag: title
#, no-c-format
msgid "<emphasis>TOOL</emphasis> <command>ldapvi</command> to edit an LDAP directory"
msgstr "<emphasis>OUTIL</emphasis> Éditer un annuaire LDAP avec <command>ldapvi</command>"

#. Tag: indexterm
#, no-c-format
msgid "<primary><command>ldapvi</command></primary>"
msgstr "<primary><command>ldapvi</command></primary>"

#. Tag: para
#, no-c-format
msgid "With <command>ldapvi</command>, you can display an LDIF output of any part of the LDAP directory, make some changes in the text editor, and let the tool do the corresponding LDAP operations for you."
msgstr "<command>ldapvi</command> permet d'afficher une représentation LDIF d'une partie de l'annuaire LDAP dans un éditeur de texte.  Si l'on effectue des modifications dans cet éditeur, <command>ldapvi</command> les convertira en opérations LDAP et effectuera ces opérations automatiquement."

#. Tag: para
#, no-c-format
msgid "It is thus a convenient way to update the configuration of the LDAP server, simply by editing the <literal>cn=config</literal> hierarchy."
msgstr "C'est donc une manière particulièrement pratique de mettre à jour la configuration du serveur LDAP, simplement en éditant la hiérarchie <literal>cn=config</literal>."

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>ldapvi -Y EXTERNAL -h ldapi:/// -b cn=config</userinput>\n"
msgstr ""
"# <userinput>ldapvi -Y EXTERNAL -h ldapi:/// -b cn=config</userinput>\n"

#. Tag: para
#, no-c-format
msgid "The last step for enabling encryption involves changing the <varname>SLAPD_SERVICES</varname> variable in the <filename>/etc/default/slapd</filename> file. We'll play it safe and disable unsecured LDAP altogether."
msgstr "La dernière étape pour activer la mise en place du chiffrement est de modifier la variable <varname>SLAPD_SERVICES</varname> du fichier <filename>/etc/default/slapd</filename>. Notons au passage que pour éviter tout risque, on désactive la possibilité de LDAP non sécurisé."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/default/slapd</filename> file"
msgstr "Fichier <filename>/etc/default/slapd</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"# Default location of the slapd.conf file or slapd.d cn=config directory. If\n"
"# empty, use the compiled-in default (/etc/ldap/slapd.d with a fallback to\n"
"# /etc/ldap/slapd.conf).\n"
"SLAPD_CONF=\n"
"\n"
"# System account to run the slapd server under. If empty the server\n"
"# will run as root.\n"
"SLAPD_USER=\"openldap\"\n"
"\n"
"# System group to run the slapd server under. If empty the server will\n"
"# run in the primary group of its user.\n"
"SLAPD_GROUP=\"openldap\"\n"
"\n"
"# Path to the pid file of the slapd server. If not set the init.d script\n"
"# will try to figure it out from $SLAPD_CONF (/etc/ldap/slapd.conf by\n"
"# default)\n"
"SLAPD_PIDFILE=\n"
"\n"
"# slapd normally serves ldap only on all TCP-ports 389. slapd can also\n"
"# service requests on TCP-port 636 (ldaps) and requests via unix\n"
"# sockets.\n"
"# Example usage:\n"
"# SLAPD_SERVICES=\"ldap://127.0.0.1:389/ ldaps:/// ldapi:///\"\n"
"SLAPD_SERVICES=\"ldaps:/// ldapi:///\"\n"
"\n"
"# If SLAPD_NO_START is set, the init script will not start or restart\n"
"# slapd (but stop will still work).  Uncomment this if you are\n"
"# starting slapd via some other means or if you don't want slapd normally\n"
"# started at boot.\n"
"#SLAPD_NO_START=1\n"
"\n"
"# If SLAPD_SENTINEL_FILE is set to path to a file and that file exists,\n"
"# the init script will not start or restart slapd (but stop will still\n"
"# work).  Use this for temporarily disabling startup of slapd (when doing\n"
"# maintenance, for example, or through a configuration management system)\n"
"# when you don't want to edit a configuration file.\n"
"SLAPD_SENTINEL_FILE=/etc/ldap/noslapd\n"
"\n"
"# For Kerberos authentication (via SASL), slapd by default uses the system\n"
"# keytab file (/etc/krb5.keytab).  To use a different keytab file,\n"
"# uncomment this line and change the path.\n"
"#export KRB5_KTNAME=/etc/krb5.keytab\n"
"\n"
"# Additional options to pass to slapd\n"
"SLAPD_OPTIONS=\"\"\n"
msgstr ""
"\n"
"# Default location of the slapd.conf file or slapd.d cn=config directory. If\n"
"# empty, use the compiled-in default (/etc/ldap/slapd.d with a fallback to\n"
"# /etc/ldap/slapd.conf).\n"
"SLAPD_CONF=\n"
"\n"
"# System account to run the slapd server under. If empty the server\n"
"# will run as root.\n"
"SLAPD_USER=\"openldap\"\n"
"\n"
"# System group to run the slapd server under. If empty the server will\n"
"# run in the primary group of its user.\n"
"SLAPD_GROUP=\"openldap\"\n"
"\n"
"# Path to the pid file of the slapd server. If not set the init.d script\n"
"# will try to figure it out from $SLAPD_CONF (/etc/ldap/slapd.conf by\n"
"# default)\n"
"SLAPD_PIDFILE=\n"
"\n"
"# slapd normally serves ldap only on all TCP-ports 389. slapd can also\n"
"# service requests on TCP-port 636 (ldaps) and requests via unix\n"
"# sockets.\n"
"# Example usage:\n"
"# SLAPD_SERVICES=\"ldap://127.0.0.1:389/ ldaps:/// ldapi:///\"\n"
"SLAPD_SERVICES=\"ldaps:/// ldapi:///\"\n"
"\n"
"# If SLAPD_NO_START is set, the init script will not start or restart\n"
"# slapd (but stop will still work).  Uncomment this if you are\n"
"# starting slapd via some other means or if you don't want slapd normally\n"
"# started at boot.\n"
"#SLAPD_NO_START=1\n"
"\n"
"# If SLAPD_SENTINEL_FILE is set to path to a file and that file exists,\n"
"# the init script will not start or restart slapd (but stop will still\n"
"# work).  Use this for temporarily disabling startup of slapd (when doing\n"
"# maintenance, for example, or through a configuration management system)\n"
"# when you don't want to edit a configuration file.\n"
"SLAPD_SENTINEL_FILE=/etc/ldap/noslapd\n"
"\n"
"# For Kerberos authentication (via SASL), slapd by default uses the system\n"
"# keytab file (/etc/krb5.keytab).  To use a different keytab file,\n"
"# uncomment this line and change the path.\n"
"#export KRB5_KTNAME=/etc/krb5.keytab\n"
"\n"
"# Additional options to pass to slapd\n"
"SLAPD_OPTIONS=\"\"\n"

#. Tag: title
#, no-c-format
msgid "Configuring the Client"
msgstr "Configuration côté client"

#. Tag: para
#, no-c-format
msgid "On the client side, the configuration for the <emphasis>libpam-ldap</emphasis> and <emphasis>libnss-ldap</emphasis> modules needs to be modified to use an <literal>ldaps://</literal> URI."
msgstr "Côté client, il faut modifier la configuration des modules <emphasis>libpam-ldap</emphasis> et <emphasis>libnss-ldap</emphasis> en utilisant une URI en <literal>ldaps://</literal>."

#. Tag: para
#, no-c-format
msgid "LDAP clients also need to be able to authenticate the server. In a X.509 public key infrastructure, public certificates are signed by the key of a certificate authority (CA). With <emphasis>easy-rsa</emphasis>, the Falcot administrators have created their own CA and they now need to configure the system to trust the signatures of Falcot's CA. This can be done by putting the CA certificate in <filename>/usr/local/share/ca-certificates</filename> and running <command>update-ca-certificates</command>."
msgstr "Les clients LDAP doivent aussi pouvoir s'assurer de l'authenticité du serveur.  Dans le contexte d'une infrastructure de clés publiques X.509, les certificats publics sont signés par la clé d'une autorité de certification (<foreignphrase>certificate authority</foreignphrase>, ou CA).  Les administrateurs de Falcot ont utilisé <emphasis>easy-rsa</emphasis> pour créer leur propre autorité de certification et il faut maintenant configurer le système pour qu'il fasse confiance à cette autorité.  Pour cela, il suffit de placer le certificat dans <filename>/usr/local/share/ca-certificates</filename> et d'exécuter <command>update-ca-certificates</command>."

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"# <userinput>cp keys/ca.crt /usr/local/share/ca-certificates/falcot.crt</userinput>\n"
"# <userinput>update-ca-certificates</userinput>\n"
"Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done.\n"
"Running hooks in /etc/ca-certificates/update.d....\n"
"Adding debian:falcot.pem\n"
"done.\n"
"done.\n"
msgstr ""
"\n"
"# <userinput>cp keys/ca.crt /usr/local/share/ca-certificates/falcot.crt</userinput>\n"
"# <userinput>update-ca-certificates</userinput>\n"
"Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done.\n"
"Running hooks in /etc/ca-certificates/update.d....\n"
"Adding debian:falcot.pem\n"
"done.\n"
"done.\n"

#. Tag: para
#, no-c-format
msgid "Last but not least, the default LDAP URI and default base DN used by the various command line tools can be modified in <filename>/etc/ldap/ldap.conf</filename>. This will save quite some typing."
msgstr "Pour terminer, il est intéressant de configurer l'URI LDAP et le DN que les divers outils de ligne de commande vont utiliser par défaut.  Cela se configure dans <filename>/etc/ldap/ldap.conf</filename> et évite d'avoir à taper ces paramètres sur chaque ligne de commande."

#. Tag: title
#, no-c-format
msgid "The <filename>/etc/ldap/ldap.conf</filename> file"
msgstr "Fichier <filename>/etc/ldap/ldap.conf</filename>"

#. Tag: programlisting
#, no-c-format
msgid ""
"#\n"
"# LDAP Defaults\n"
"#\n"
"\n"
"# See ldap.conf(5) for details\n"
"# This file should be world readable but not world writable.\n"
"\n"
"BASE   dc=falcot,dc=com\n"
"URI    ldaps://ldap.falcot.com\n"
"\n"
"#SIZELIMIT      12\n"
"#TIMELIMIT      15\n"
"#DEREF          never\n"
"\n"
"# TLS certificates (needed for GnuTLS)\n"
"TLS_CACERT      /etc/ssl/certs/ca-certificates.crt\n"
msgstr ""
"#\n"
"# LDAP Defaults\n"
"#\n"
"\n"
"# See ldap.conf(5) for details\n"
"# This file should be world readable but not world writable.\n"
"\n"
"BASE   dc=falcot,dc=com\n"
"URI    ldaps://ldap.falcot.com\n"
"\n"
"#SIZELIMIT      12\n"
"#TIMELIMIT      15\n"
"#DEREF          never\n"
"\n"
"# TLS certificates (needed for GnuTLS)\n"
"TLS_CACERT      /etc/ssl/certs/ca-certificates.crt\n"

#. Tag: para
#, no-c-format
msgid "This chapter sampled only a fraction of the available server software; however, most of the common network services were described. Now it is time for an even more technical chapter: we'll go into deeper detail for some concepts, describe massive deployments and virtualization."
msgstr "Le tour d'horizon des logiciels serveurs proposé par ce chapitre est loin d'être exhaustif, mais il recouvre toutefois la réalité des services réseau les plus employés. Passons sans plus tarder à un chapitre encore plus technique : approfondissement de certains concepts, déploiement à grande échelle, virtualisation sont autant de sujets passionnants que nous allons aborder."
